!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=197)}({133:function(t,e,r){var i;
/**
 * @license Fraction.js v4.0.12 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(r){"use strict";var n={s:1,n:0,d:1};function s(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function r(){}return r.prototype=Error.prototype,e.prototype=new r,e}var a=f.DivisionByZero=s("DivisionByZero"),o=f.InvalidParameter=s("InvalidParameter");function h(t,e){return isNaN(t=parseInt(t,10))&&l(),t*e}function l(){throw new o}var c=function(t,e){var r,i=0,s=1,o=1,c=0,u=0,f=0,d=1,p=1,g=0,m=1,_=1,v=1,y=1e7;if(null==t);else if(void 0!==e)o=(i=t)*(s=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(i=t.n,s=t.d,"s"in t&&(i*=t.s)):0 in t?(i=t[0],1 in t&&(s=t[1])):l(),o=i*s;break;case"number":if(t<0&&(o=t,t=-t),t%1==0)i=t;else if(t>0){for(t>=1&&(t/=p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));m<=y&&v<=y;){if(t===(r=(g+_)/(m+v))){m+v<=y?(i=g+_,s=m+v):v>m?(i=_,s=v):(i=g,s=m);break}t>r?(g+=_,m+=v):(_+=g,v+=m),m>y?(i=_,s=v):(i=g,s=m)}i*=p}else(isNaN(t)||isNaN(e))&&(s=i=NaN);break;case"string":if(null===(m=t.match(/\d+|./g))&&l(),"-"===m[g]?(o=-1,g++):"+"===m[g]&&g++,m.length===g+1?u=h(m[g++],o):"."===m[g+1]||"."===m[g]?("."!==m[g]&&(c=h(m[g++],o)),(++g+1===m.length||"("===m[g+1]&&")"===m[g+3]||"'"===m[g+1]&&"'"===m[g+3])&&(u=h(m[g],o),d=Math.pow(10,m[g].length),g++),("("===m[g]&&")"===m[g+2]||"'"===m[g]&&"'"===m[g+2])&&(f=h(m[g+1],o),p=Math.pow(10,m[g+1].length)-1,g+=3)):"/"===m[g+1]||":"===m[g+1]?(u=h(m[g],o),d=h(m[g+2],1),g+=3):"/"===m[g+3]&&" "===m[g+1]&&(c=h(m[g],o),u=h(m[g+2],o),d=h(m[g+4],1),g+=5),m.length<=g){o=i=f+(s=d*p)*c+p*u;break}default:l()}if(0===s)throw new a;n.s=o<0?-1:1,n.n=Math.abs(i),n.d=Math.abs(s)};function u(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function f(t,e){if(!(this instanceof f))return new f(t,e);c(t,e),t=f.REDUCE?u(n.d,n.n):1,this.s=n.s,this.n=n.n/t,this.d=n.d/t}f.REDUCE=1,f.prototype={s:1,n:0,d:1,abs:function(){return new f(this.n,this.d)},neg:function(){return new f(-this.s*this.n,this.d)},add:function(t,e){return c(t,e),new f(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(t,e){return c(t,e),new f(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(t,e){return c(t,e),new f(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(t,e){return c(t,e),new f(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return new f(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new f(NaN):void 0===t?new f(this.s*this.n%this.d,1):(c(t,e),0===n.n&&0===this.d&&f(0,0),new f(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d))},gcd:function(t,e){return c(t,e),new f(u(n.n,this.n)*u(n.d,this.d),n.d*this.d)},lcm:function(t,e){return c(t,e),0===n.n&&0===this.n?new f:new f(n.n*this.n,u(n.n,this.n)*u(n.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new f(this.s*this.d,this.n)},pow:function(t){return t<0?new f(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new f(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return c(t,e),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(t,e){c(t,e);var r=this.s*this.n*n.d-n.s*n.n*this.d;return(0<r)-(r<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function r(t){return 1===t.length?new f(t[0]):r(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var i=0;i<e.length;i++){var n=r(e.slice(0,i+1));if(n.sub(this.abs()).abs().valueOf()<t)return n.mul(this.s)}return this},divisible:function(t,e){return c(t,e),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,r="",i=this.n,n=this.d;return this.s<0&&(r+="-"),1===n?r+=i:(t&&(e=Math.floor(i/n))>0&&(r+=e,r+=" ",i%=n),r+=i,r+="/",r+=n),r},toLatex:function(t){var e,r="",i=this.n,n=this.d;return this.s<0&&(r+="-"),1===n?r+=i:(t&&(e=Math.floor(i/n))>0&&(r+=e,i%=n),r+="\\frac{",r+=i,r+="}{",r+=n,r+="}"),r},toContinued:function(){var t,e=this.n,r=this.d,i=[];if(isNaN(this.n)||isNaN(this.d))return i;do{i.push(Math.floor(e/r)),t=e%r,e=r,r=t}while(1!==e);return i},toString:function(t){var e,r=this.n,i=this.d;if(isNaN(r)||isNaN(i))return"NaN";f.REDUCE||(r/=e=u(r,i),i/=e),t=t||15;var n=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var r=10%e,i=1;1!==r;i++)if(r=10*r%e,i>2e3)return 0;return i}(0,i),s=function(t,e,r){for(var i=1,n=function(t,e,r){for(var i=1;e>0;t=t*t%r,e>>=1)1&e&&(i=i*t%r);return i}(10,r,e),s=0;s<300;s++){if(i===n)return s;i=10*i%e,n=10*n%e}return 0}(0,i,n),a=-1===this.s?"-":"";if(a+=r/i|0,r%=i,(r*=10)&&(a+="."),n){for(var o=s;o--;)a+=r/i|0,r%=i,r*=10;a+="(";for(o=n;o--;)a+=r/i|0,r%=i,r*=10;a+=")"}else for(o=t;r&&o--;)a+=r/i|0,r%=i,r*=10;return a}},void 0===(i=function(){return f}.apply(e,[]))||(t.exports=i)}()},134:function(t,e){t.exports=function t(e,r){"use strict";var i,n,s=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,h=/^0x[0-9a-f]+$/i,l=/^0/,c=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},u=c(e).replace(a,"")||"",f=c(r).replace(a,"")||"",d=u.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=f.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(u.match(h),16)||1!==d.length&&u.match(o)&&Date.parse(u),m=parseInt(f.match(h),16)||g&&f.match(o)&&Date.parse(f)||null;if(m){if(g<m)return-1;if(g>m)return 1}for(var _=0,v=Math.max(d.length,p.length);_<v;_++){if(i=!(d[_]||"").match(l)&&parseFloat(d[_])||d[_]||0,n=!(p[_]||"").match(l)&&parseFloat(p[_])||p[_]||0,isNaN(i)!==isNaN(n))return isNaN(i)?1:-1;if(typeof i!=typeof n&&(i+="",n+=""),i<n)return-1;if(i>n)return 1}return 0}},135:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},143:function(t,e,r){"use strict";var i,n,s;n=[],void 0===(s="function"==typeof(i=function(){function t(){return!0}function e(){return!1}function r(){}return function i(){var n=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],s={name:"any",test:t},a=[],o=[],h={types:n,conversions:o,ignore:a};function l(t){var e=L(h.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return s;var r=L(h.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(t){return t===s?999:h.types.indexOf(t)}function u(t){var e=L(h.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function f(t){return t.map((function(t){var e=t.types.map(x);return(t.restParam?"...":"")+e.join("|")})).join(",")}function d(t,e){var r=0===t.indexOf("..."),i=(r?t.length>3?t.slice(3):"any":t).split("|").map(R).filter(P).filter(F),n=function(t,e){var r={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||r[t.from]||(r[t.from]=t)})),Object.keys(r).map((function(t){return r[t]}))}(e,i),s=i.map((function(t){var e=l(t);return{name:t,typeIndex:c(e),test:e.test,conversion:null,conversionIndex:-1}})),a=n.map((function(t){var r=l(t.from);return{name:t.from,typeIndex:c(r),test:r.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:s.concat(a),restParam:r}}function p(t){var e=U(t);return!!e&&e.restParam}function g(t){return t.types.some((function(t){return null!=t.conversion}))}function m(e){if(e&&0!==e.types.length){if(1===e.types.length)return l(e.types[0].name).test;if(2===e.types.length){var r=l(e.types[0].name).test,i=l(e.types[1].name).test;return function(t){return r(t)||i(t)}}var n=e.types.map((function(t){return l(t.name).test}));return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}}return t}function _(t){var e,r,i,n;if(p(t)){var s=(e=(n=t,n.slice(0,n.length-1)).map(m)).length,a=m(U(t));return function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return!1;return function(t){for(var e=s;e<t.length;e++)if(!a(t[e]))return!1;return!0}(t)&&t.length>=s+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(r=m(t[0]),function(t){return r(t[0])&&1===t.length}):2===t.length?(r=m(t[0]),i=m(t[1]),function(t){return r(t[0])&&i(t[1])&&2===t.length}):(e=t.map(m),function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return!1;return t.length===e.length})}function v(t,e){return e<t.params.length?t.params[e]:p(t.params)?U(t.params):null}function y(t,e,r){var i=v(t,e);return(i?r?i.types.filter(w):i.types:[]).map(x)}function x(t){return t.name}function w(t){return null===t.conversion||void 0===t.conversion}function b(t,e){var r=function(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return Object.keys(e)}(B(t,(function(t){return y(t,e,!1)})));return-1!==r.indexOf("any")?["any"]:r}function M(t,e,r){var i,n,s,a=t||"unnamed",o=r;for(s=0;s<e.length;s++){var h=o.filter((function(t){var r=m(v(t,s));return(s<t.params.length||p(t.params))&&r(e[s])}));if(0===h.length){if((n=b(o,s)).length>0){var l=u(e[s]);return(i=new TypeError("Unexpected type of argument in function "+a+" (expected: "+n.join(" or ")+", actual: "+l+", index: "+s+")")).data={category:"wrongType",fn:a,index:s,actual:l,expected:n},i}}else o=h}var c=o.map((function(t){return p(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return n=b(o,s),(i=new TypeError("Too few arguments in function "+a+" (expected: "+n.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:n},i;var f=Math.max.apply(null,c);return e.length>f?((i=new TypeError("Too many arguments in function "+a+" (expected: "+f+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:f},i):((i=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(u)},i)}function E(t){for(var e=999,r=0;r<t.types.length;r++)w(t.types[r])&&(e=Math.min(e,t.types[r].typeIndex));return e}function N(t){for(var e=999,r=0;r<t.types.length;r++)w(t.types[r])||(e=Math.min(e,t.types[r].conversionIndex));return e}function S(t,e){var r;return 0!=(r=t.restParam-e.restParam)||0!=(r=g(t)-g(e))||0!=(r=E(t)-E(e))?r:N(t)-N(e)}function A(t,e){var r,i,n=Math.min(t.params.length,e.params.length);if(0!=(i=t.params.some(g)-e.params.some(g)))return i;for(r=0;r<n;r++)if(0!=(i=g(t.params[r])-g(e.params[r])))return i;for(r=0;r<n;r++)if(0!==(i=S(t.params[r],e.params[r])))return i;return t.params.length-e.params.length}function k(t){var e,r,i,n,s=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(s.push(l(t.conversion.from).test),a.push(t.conversion.convert))})),a.length){case 0:return function(t){return t};case 1:return e=s[0],i=a[0],function(t){return e(t)?i(t):t};case 2:return e=s[0],r=s[1],i=a[0],n=a[1],function(t){return e(t)?i(t):r(t)?n(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(s[e](t))return a[e](t);return t}}}function C(t,e){return function t(r,i,n){if(i<r.length){var s,a=r[i],o=e?a.types.filter(w):a.types;if(a.restParam){var h=o.filter(w);s=h.length<o.length?[h,o]:[o]}else s=o.map((function(t){return[t]}));return B(s,(function(e){return t(r,i+1,n.concat([e]))}))}return[n.map((function(t,e){return{types:t,restParam:e===r.length-1&&p(r)}}))]}(t,0,[])}function O(t,i){if(0===Object.keys(i).length)throw new SyntaxError("No signatures provided");var n=[];Object.keys(i).map((function(t){return function(t,e,r){var i=[];return""!==t.trim()&&(i=t.split(",").map(R).map((function(t,e,i){var n=d(t,r);if(n.restParam&&e!==i.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return n}))),i.some(I)?null:{params:i,fn:e}}(t,i[t],h.conversions)})).filter(T).forEach((function(t){var e=L(n,(function(e){return function(t,e){for(var r=Math.max(t.params.length,e.params.length),i=0;i<r;i++)if(!z(y(t,i,!0),y(e,i,!0)))return!1;var n=t.params.length,s=e.params.length,a=p(t.params),o=p(e.params);return a?o?n===s:s>=n:o?n>=s:n===s}(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+f(e.params)+'" and "'+f(t.params)+'".');n.push(t)}));var s=B(n,(function(t){return(t?C(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(T);s.sort(A);var a=s[0]&&s[0].params.length<=2&&!p(s[0].params),o=s[1]&&s[1].params.length<=2&&!p(s[1].params),l=s[2]&&s[2].params.length<=2&&!p(s[2].params),c=s[3]&&s[3].params.length<=2&&!p(s[3].params),u=s[4]&&s[4].params.length<=2&&!p(s[4].params),v=s[5]&&s[5].params.length<=2&&!p(s[5].params),x=a&&o&&l&&c&&u&&v,w=s.map((function(t){return _(t.params)})),b=a?m(s[0].params[0]):e,E=o?m(s[1].params[0]):e,N=l?m(s[2].params[0]):e,S=c?m(s[3].params[0]):e,O=u?m(s[4].params[0]):e,F=v?m(s[5].params[0]):e,P=a?m(s[0].params[1]):e,U=o?m(s[1].params[1]):e,D=l?m(s[2].params[1]):e,V=c?m(s[3].params[1]):e,q=u?m(s[4].params[1]):e,G=v?m(s[5].params[1]):e,H=s.map((function(t){return function(t,e){var r=e;if(t.some(g)){var i=p(t),n=t.map(k);r=function(){for(var t=[],r=i?arguments.length-1:arguments.length,s=0;s<r;s++)t[s]=n[s](arguments[s]);return i&&(t[r]=arguments[r].map(n[r])),e.apply(null,t)}}var s=r;if(p(t)){var a=t.length-1;s=function(){return r.apply(null,j(arguments,0,a).concat([j(arguments,a)]))}}return s}(t.params,t.fn)})),Z=a?H[0]:r,W=o?H[1]:r,J=l?H[2]:r,X=c?H[3]:r,Y=u?H[4]:r,$=v?H[5]:r,K=a?s[0].params.length:-1,Q=o?s[1].params.length:-1,tt=l?s[2].params.length:-1,et=c?s[3].params.length:-1,rt=u?s[4].params.length:-1,it=v?s[5].params.length:-1,nt=x?6:0,st=s.length,at=function(){for(var e=nt;e<st;e++)if(w[e](arguments))return H[e].apply(null,arguments);throw M(t,arguments,s)},ot=function(t,e){return arguments.length===K&&b(t)&&P(e)?Z.apply(null,arguments):arguments.length===Q&&E(t)&&U(e)?W.apply(null,arguments):arguments.length===tt&&N(t)&&D(e)?J.apply(null,arguments):arguments.length===et&&S(t)&&V(e)?X.apply(null,arguments):arguments.length===rt&&O(t)&&q(e)?Y.apply(null,arguments):arguments.length===it&&F(t)&&G(e)?$.apply(null,arguments):at.apply(null,arguments)};try{Object.defineProperty(ot,"name",{value:t})}catch(t){}return ot.signatures=function(t){var e={};return t.forEach((function(t){t.params.some(g)||C(t.params,!0).forEach((function(r){e[f(r)]=t.fn}))})),e}(s),ot}function F(t){return-1===h.ignore.indexOf(t)}function R(t){return t.trim()}function P(t){return!!t}function T(t){return null!==t}function I(t){return 0===t.types.length}function U(t){return t[t.length-1]}function j(t,e,r){return Array.prototype.slice.call(t,e,r)}function z(t,e){for(var r=0;r<t.length;r++)if(i=e,n=t[r],-1!==i.indexOf(n))return!0;var i,n;return!1}function L(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function B(t,e){return Array.prototype.concat.apply([],t.map(e))}function D(t){for(var e="",r=0;r<t.length;r++){var i=t[r];if(("object"==typeof i.signatures||"string"==typeof i.signature)&&""!==i.name)if(""===e)e=i.name;else if(e!==i.name){var n=new Error("Function names do not match (expected: "+e+", actual: "+i.name+")");throw n.data={actual:i.name,expected:e},n}}return e}function V(t){var e,r={};function i(t,i){if(r.hasOwnProperty(t)&&i!==r[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var n=0;n<t.length;n++){var s=t[n];if("object"==typeof s.signatures)for(var a in s.signatures)s.signatures.hasOwnProperty(a)&&(i(a,s.signatures[a]),r[a]=s.signatures[a]);else{if("string"!=typeof s.signature)throw(e=new TypeError("Function is no typed-function (index: "+n+")")).data={index:n},e;i(s.signature,s),r[s.signature]=s}}return r}return(h=O("typed",{"string, Object":O,Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return O(D(e),t)},"...Function":function(t){return O(D(t),V(t))},"string, ...Function":function(t,e){return O(t,V(e))}})).create=i,h.types=n,h.conversions=o,h.ignore=a,h.convert=function(t,e){var r=u(t);if(e===r)return t;for(var i=0;i<h.conversions.length;i++){var n=h.conversions[i];if(n.from===r&&n.to===e)return n.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)},h.find=function(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var i=0;i<r.length;i++)r[i]=r[i].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e}var n=r.join(","),s=t.signatures[n];if(s)return s;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")},h.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var r=0;r<h.types.length;r++)if("Object"===h.types[r].name)return void h.types.splice(r,0,t);h.types.push(t)},h.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");h.conversions.push(t)},h}()})?i.apply(e,n):i)||(t.exports=s)},144:function(t,e,r){"use strict";(function(e){var r=[],i=void 0===e?window:e,n=Math.pow(256,6),s=Math.pow(2,52),a=2*s,o=Math.random;function h(t){var e,r=t.length,i=this,n=0,s=i.i=i.j=0,a=i.S=[];for(r||(t=[r++]);n<256;)a[n]=n++;for(n=0;n<256;n++)a[n]=a[s=255&s+t[n%r]+(e=a[n])],a[s]=e;(i.g=function(t){for(var e,r=0,n=i.i,s=i.j,a=i.S;t--;)e=a[n=255&n+1],r=256*r+a[255&(a[n]=a[s=255&s+e])+(a[s]=e)];return i.i=n,i.j=s,r})(256)}function l(t,e){var r,i=[],n=(typeof t)[0];if(e&&"o"==n)for(r in t)try{i.push(l(t[r],e-1))}catch(t){}return i.length?i:"s"==n?t:t+"\0"}function c(t,e){for(var r,i=t+"",n=0;n<i.length;)e[255&n]=255&(r^=19*e[255&n])+i.charCodeAt(n++);return f(e)}function u(t){try{return i.crypto.getRandomValues(t=new Uint8Array(256)),f(t)}catch(t){return[+new Date,i,i.navigator&&i.navigator.plugins,i.screen,f(r)]}}function f(t){return String.fromCharCode.apply(0,t)}t.exports=function(e,i){if(i&&!0===i.global)return i.global=!1,Math.random=t.exports(e,i),i.global=!0,Math.random;var o=i&&i.entropy||!1,d=[],p=(c(l(o?[e,f(r)]:0 in arguments?e:u(),3),d),new h(d));return c(f(p.S),r),function(){for(var t=p.g(6),e=n,r=0;t<s;)t=256*(t+r),e*=256,r=p.g(1);for(;t>=a;)t/=2,e/=2,r>>>=1;return(t+r)/e}},t.exports.resetGlobal=function(){Math.random=o},c(Math.random(),r)}).call(this,r(135))},145:function(t,e,r){var i;!function(n){"use strict";var s,a,o,h=9e15,l="0123456789abcdef",c="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",u="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",f={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-h,maxE:h,crypto:!1},d=!0,p="[DecimalError] Invalid argument: ",g=Math.floor,m=Math.pow,_=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,v=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,y=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,x=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,w=1e7,b=c.length-1,M=u.length-1,E={name:"[object Decimal]"};function N(t){var e,r,i,n=t.length-1,s="",a=t[0];if(n>0){for(s+=a,e=1;e<n;e++)(r=7-(i=t[e]+"").length)&&(s+=U(r)),s+=i;(r=7-(i=(a=t[e])+"").length)&&(s+=U(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return s+a}function S(t,e,r){if(t!==~~t||t<e||t>r)throw Error(p+t)}function A(t,e,r,i){var n,s,a,o;for(s=t[0];s>=10;s/=10)--e;return--e<0?(e+=7,n=0):(n=Math.ceil((e+1)/7),e%=7),s=m(10,7-e),o=t[n]%s|0,null==i?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(t[n+1]/s/100|0)==m(10,e-2)-1||(o==s/2||0==o)&&0==(t[n+1]/s/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),a=(i||r<4)&&9999==o||!i&&r>3&&4999==o):a=((i||r<4)&&o+1==s||!i&&r>3&&o+1==s/2)&&(t[n+1]/s/1e3|0)==m(10,e-3)-1,a}function k(t,e,r){for(var i,n,s=[0],a=0,o=t.length;a<o;){for(n=s.length;n--;)s[n]*=e;for(s[0]+=l.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(void 0===s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}E.absoluteValue=E.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),O(t)},E.ceil=function(){return O(new this.constructor(this),this.e+1,2)},E.comparedTo=E.cmp=function(t){var e,r,i,n,s=this,a=s.d,o=(t=new s.constructor(t)).d,h=s.s,l=t.s;if(!a||!o)return h&&l?h!==l?h:a===o?0:!a^h<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?h:o[0]?-l:0;if(h!==l)return h;if(s.e!==t.e)return s.e>t.e^h<0?1:-1;for(e=0,r=(i=a.length)<(n=o.length)?i:n;e<r;++e)if(a[e]!==o[e])return a[e]>o[e]^h<0?1:-1;return i===n?0:i>n^h<0?1:-1},E.cosine=E.cos=function(){var t,e,r=this,i=r.constructor;return r.d?r.d[0]?(t=i.precision,e=i.rounding,i.precision=t+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(t,e){var r,i,n=e.d.length;n<32?(r=Math.ceil(n/3),i=(1/Z(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10");t.precision+=r,e=H(t,1,e.times(i),new t(1));for(var s=r;s--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=r,e}(i,W(i,r)),i.precision=t,i.rounding=e,O(2==o||3==o?r.neg():r,t,e,!0)):new i(1):new i(NaN)},E.cubeRoot=E.cbrt=function(){var t,e,r,i,n,s,a,o,h,l,c=this,u=c.constructor;if(!c.isFinite()||c.isZero())return new u(c);for(d=!1,(s=c.s*m(c.s*c,1/3))&&Math.abs(s)!=1/0?i=new u(s.toString()):(r=N(c.d),(s=((t=c.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=m(r,1/3),t=g((t+1)/3)-(t%3==(t<0?-1:2)),(i=new u(r=s==1/0?"5e"+t:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+t)).s=c.s),a=(t=u.precision)+3;;)if(l=(h=(o=i).times(o).times(o)).plus(c),i=C(l.plus(c).times(o),l.plus(h),a+2,1),N(o.d).slice(0,a)===(r=N(i.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(O(i,t+1,1),e=!i.times(i).times(i).eq(c));break}if(!n&&(O(o,t+1,0),o.times(o).times(o).eq(c))){i=o;break}a+=4,n=1}return d=!0,O(i,t,u.rounding,e)},E.decimalPlaces=E.dp=function(){var t,e=this.d,r=NaN;if(e){if(r=7*((t=e.length-1)-g(this.e/7)),t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r},E.dividedBy=E.div=function(t){return C(this,new this.constructor(t))},E.dividedToIntegerBy=E.divToInt=function(t){var e=this.constructor;return O(C(this,new e(t),0,1,1),e.precision,e.rounding)},E.equals=E.eq=function(t){return 0===this.cmp(t)},E.floor=function(){return O(new this.constructor(this),this.e+1,3)},E.greaterThan=E.gt=function(t){return this.cmp(t)>0},E.greaterThanOrEqualTo=E.gte=function(t){var e=this.cmp(t);return 1==e||0===e},E.hyperbolicCosine=E.cosh=function(){var t,e,r,i,n,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,i=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(n=s.d.length)<32?e=(1/Z(4,t=Math.ceil(n/3))).toString():(t=16,e="2.3283064365386962890625e-10"),s=H(a,1,s.times(e),new a(1),!0);for(var h,l=t,c=new a(8);l--;)h=s.times(s),s=o.minus(h.times(c.minus(h.times(c))));return O(s,a.precision=r,a.rounding=i,!0)},E.hyperbolicSine=E.sinh=function(){var t,e,r,i,n=this,s=n.constructor;if(!n.isFinite()||n.isZero())return new s(n);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(n.e,n.sd())+4,s.rounding=1,(i=n.d.length)<3)n=H(s,2,n,n,!0);else{t=(t=1.4*Math.sqrt(i))>16?16:0|t,n=H(s,2,n=n.times(1/Z(5,t)),n,!0);for(var a,o=new s(5),h=new s(16),l=new s(20);t--;)a=n.times(n),n=n.times(o.plus(a.times(h.times(a).plus(l))))}return s.precision=e,s.rounding=r,O(n,e,r,!0)},E.hyperbolicTangent=E.tanh=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+7,i.rounding=1,C(r.sinh(),r.cosh(),i.precision=t,i.rounding=e)):new i(r.s)},E.inverseCosine=E.acos=function(){var t,e=this,r=e.constructor,i=e.abs().cmp(1),n=r.precision,s=r.rounding;return-1!==i?0===i?e.isNeg()?T(r,n,s):new r(0):new r(NaN):e.isZero()?T(r,n+4,s).times(.5):(r.precision=n+6,r.rounding=1,e=e.asin(),t=T(r,n+4,s).times(.5),r.precision=n,r.rounding=s,t.minus(e))},E.inverseHyperbolicCosine=E.acosh=function(){var t,e,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(t=i.precision,e=i.rounding,i.precision=t+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,d=!1,r=r.times(r).minus(1).sqrt().plus(r),d=!0,i.precision=t,i.rounding=e,r.ln()):new i(r)},E.inverseHyperbolicSine=E.asinh=function(){var t,e,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,d=!1,r=r.times(r).plus(1).sqrt().plus(r),d=!0,i.precision=t,i.rounding=e,r.ln())},E.inverseHyperbolicTangent=E.atanh=function(){var t,e,r,i,n=this,s=n.constructor;return n.isFinite()?n.e>=0?new s(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(t=s.precision,e=s.rounding,i=n.sd(),Math.max(i,t)<2*-n.e-1?O(new s(n),t,e,!0):(s.precision=r=i-n.e,n=C(n.plus(1),new s(1).minus(n),r+t,1),s.precision=t+4,s.rounding=1,n=n.ln(),s.precision=t,s.rounding=e,n.times(.5))):new s(NaN)},E.inverseSine=E.asin=function(){var t,e,r,i,n=this,s=n.constructor;return n.isZero()?new s(n):(e=n.abs().cmp(1),r=s.precision,i=s.rounding,-1!==e?0===e?((t=T(s,r+4,i).times(.5)).s=n.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,n=n.div(new s(1).minus(n.times(n)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=i,n.times(2)))},E.inverseTangent=E.atan=function(){var t,e,r,i,n,s,a,o,h,l=this,c=l.constructor,u=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&u+4<=M)return(a=T(c,u+4,f).times(.25)).s=l.s,a}else{if(!l.s)return new c(NaN);if(u+4<=M)return(a=T(c,u+4,f).times(.5)).s=l.s,a}for(c.precision=o=u+10,c.rounding=1,t=r=Math.min(28,o/7+2|0);t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(d=!1,e=Math.ceil(o/7),i=1,h=l.times(l),a=new c(l),n=l;-1!==t;)if(n=n.times(h),s=a.minus(n.div(i+=2)),n=n.times(h),void 0!==(a=s.plus(n.div(i+=2))).d[e])for(t=e;a.d[t]===s.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),d=!0,O(a,c.precision=u,c.rounding=f,!0)},E.isFinite=function(){return!!this.d},E.isInteger=E.isInt=function(){return!!this.d&&g(this.e/7)>this.d.length-2},E.isNaN=function(){return!this.s},E.isNegative=E.isNeg=function(){return this.s<0},E.isPositive=E.isPos=function(){return this.s>0},E.isZero=function(){return!!this.d&&0===this.d[0]},E.lessThan=E.lt=function(t){return this.cmp(t)<0},E.lessThanOrEqualTo=E.lte=function(t){return this.cmp(t)<1},E.logarithm=E.log=function(t){var e,r,i,n,s,a,o,h,l=this.constructor,c=l.precision,u=l.rounding;if(null==t)t=new l(10),e=!0;else{if(r=(t=new l(t)).d,t.s<0||!r||!r[0]||t.eq(1))return new l(NaN);e=t.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else{for(n=r[0];n%10==0;)n/=10;s=1!==n}if(d=!1,a=D(this,o=c+5),i=e?P(l,o+10):D(t,o),A((h=C(a,i,o,1)).d,n=c,u))do{if(a=D(this,o+=10),i=e?P(l,o+10):D(t,o),h=C(a,i,o,1),!s){+N(h.d).slice(n+1,n+15)+1==1e14&&(h=O(h,c+1,0));break}}while(A(h.d,n+=10,u));return d=!0,O(h,c,u)},E.minus=E.sub=function(t){var e,r,i,n,s,a,o,h,l,c,u,f,p=this,m=p.constructor;if(t=new m(t),!p.d||!t.d)return p.s&&t.s?p.d?t.s=-t.s:t=new m(t.d||p.s!==t.s?p:NaN):t=new m(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(l=p.d,f=t.d,o=m.precision,h=m.rounding,!l[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!l[0])return new m(3===h?-0:0);t=new m(p)}return d?O(t,o,h):t}if(r=g(t.e/7),c=g(p.e/7),l=l.slice(),s=c-r){for((u=s<0)?(e=l,s=-s,a=f.length):(e=f,r=c,a=l.length),s>(i=Math.max(Math.ceil(o/7),a)+2)&&(s=i,e.length=1),e.reverse(),i=s;i--;)e.push(0);e.reverse()}else{for((u=(i=l.length)<(a=f.length))&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(e=l,l=f,f=e,t.s=-t.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(n=i;n&&0===l[--n];)l[n]=w-1;--l[n],l[i]+=w}l[i]-=f[i]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=R(l,r),d?O(t,o,h):t):new m(3===h?-0:0)},E.modulo=E.mod=function(t){var e,r=this,i=r.constructor;return t=new i(t),!r.d||!t.s||t.d&&!t.d[0]?new i(NaN):!t.d||r.d&&!r.d[0]?O(new i(r),i.precision,i.rounding):(d=!1,9==i.modulo?(e=C(r,t.abs(),0,3,1)).s*=t.s:e=C(r,t,0,i.modulo,1),e=e.times(t),d=!0,r.minus(e))},E.naturalExponential=E.exp=function(){return B(this)},E.naturalLogarithm=E.ln=function(){return D(this)},E.negated=E.neg=function(){var t=new this.constructor(this);return t.s=-t.s,O(t)},E.plus=E.add=function(t){var e,r,i,n,s,a,o,h,l,c,u=this,f=u.constructor;if(t=new f(t),!u.d||!t.d)return u.s&&t.s?u.d||(t=new f(t.d||u.s===t.s?u:NaN)):t=new f(NaN),t;if(u.s!=t.s)return t.s=-t.s,u.minus(t);if(l=u.d,c=t.d,o=f.precision,h=f.rounding,!l[0]||!c[0])return c[0]||(t=new f(u)),d?O(t,o,h):t;if(s=g(u.e/7),i=g(t.e/7),l=l.slice(),n=s-i){for(n<0?(r=l,n=-n,a=c.length):(r=c,i=s,a=l.length),n>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(n=a,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for((a=l.length)-(n=c.length)<0&&(n=a,r=c,c=l,l=r),e=0;n;)e=(l[--n]=l[n]+c[n]+e)/w|0,l[n]%=w;for(e&&(l.unshift(e),++i),a=l.length;0==l[--a];)l.pop();return t.d=l,t.e=R(l,i),d?O(t,o,h):t},E.precision=E.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(p+t);return r.d?(e=I(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},E.round=function(){var t=this,e=t.constructor;return O(new e(t),t.e+1,e.rounding)},E.sine=E.sin=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(t,e){var r,i=e.d.length;if(i<3)return H(t,2,e,e);r=(r=1.4*Math.sqrt(i))>16?16:0|r,e=e.times(1/Z(5,r)),e=H(t,2,e,e);for(var n,s=new t(5),a=new t(16),o=new t(20);r--;)n=e.times(e),e=e.times(s.plus(n.times(a.times(n).minus(o))));return e}(i,W(i,r)),i.precision=t,i.rounding=e,O(o>2?r.neg():r,t,e,!0)):new i(NaN)},E.squareRoot=E.sqrt=function(){var t,e,r,i,n,s,a=this,o=a.d,h=a.e,l=a.s,c=a.constructor;if(1!==l||!o||!o[0])return new c(!l||l<0&&(!o||o[0])?NaN:o?a:1/0);for(d=!1,0==(l=Math.sqrt(+a))||l==1/0?(((e=N(o)).length+h)%2==0&&(e+="0"),l=Math.sqrt(e),h=g((h+1)/2)-(h<0||h%2),i=new c(e=l==1/0?"1e"+h:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+h)):i=new c(l.toString()),r=(h=c.precision)+3;;)if(i=(s=i).plus(C(a,s,r+2,1)).times(.5),N(s.d).slice(0,r)===(e=N(i.d)).slice(0,r)){if("9999"!=(e=e.slice(r-3,r+1))&&(n||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(O(i,h+1,1),t=!i.times(i).eq(a));break}if(!n&&(O(s,h+1,0),s.times(s).eq(a))){i=s;break}r+=4,n=1}return d=!0,O(i,h,c.rounding,t)},E.tangent=E.tan=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+10,i.rounding=1,(r=r.sin()).s=1,r=C(r,new i(1).minus(r.times(r)).sqrt(),t+10,0),i.precision=t,i.rounding=e,O(2==o||4==o?r.neg():r,t,e,!0)):new i(NaN)},E.times=E.mul=function(t){var e,r,i,n,s,a,o,h,l,c=this,u=c.constructor,f=c.d,p=(t=new u(t)).d;if(t.s*=c.s,!(f&&f[0]&&p&&p[0]))return new u(!t.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:f&&p?0*t.s:t.s/0);for(r=g(c.e/7)+g(t.e/7),(h=f.length)<(l=p.length)&&(s=f,f=p,p=s,a=h,h=l,l=a),s=[],i=a=h+l;i--;)s.push(0);for(i=l;--i>=0;){for(e=0,n=h+i;n>i;)o=s[n]+p[i]*f[n-i-1]+e,s[n--]=o%w|0,e=o/w|0;s[n]=(s[n]+e)%w|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=R(s,r),d?O(t,u.precision,u.rounding):t},E.toBinary=function(t,e){return J(this,2,t,e)},E.toDecimalPlaces=E.toDP=function(t,e){var r=this,i=r.constructor;return r=new i(r),void 0===t?r:(S(t,0,1e9),void 0===e?e=i.rounding:S(e,0,8),O(r,t+r.e+1,e))},E.toExponential=function(t,e){var r,i=this,n=i.constructor;return void 0===t?r=F(i,!0):(S(t,0,1e9),void 0===e?e=n.rounding:S(e,0,8),r=F(i=O(new n(i),t+1,e),!0,t+1)),i.isNeg()&&!i.isZero()?"-"+r:r},E.toFixed=function(t,e){var r,i,n=this,s=n.constructor;return void 0===t?r=F(n):(S(t,0,1e9),void 0===e?e=s.rounding:S(e,0,8),r=F(i=O(new s(n),t+n.e+1,e),!1,t+i.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},E.toFraction=function(t){var e,r,i,n,s,a,o,h,l,c,u,f,g=this,_=g.d,v=g.constructor;if(!_)return new v(g);if(l=r=new v(1),i=h=new v(0),a=(s=(e=new v(i)).e=I(_)-g.e-1)%7,e.d[0]=m(10,a<0?7+a:a),null==t)t=s>0?e:l;else{if(!(o=new v(t)).isInt()||o.lt(l))throw Error(p+o);t=o.gt(e)?s>0?e:l:o}for(d=!1,o=new v(N(_)),c=v.precision,v.precision=s=7*_.length*2;u=C(o,e,0,1,1),1!=(n=r.plus(u.times(i))).cmp(t);)r=i,i=n,n=l,l=h.plus(u.times(n)),h=n,n=e,e=o.minus(u.times(n)),o=n;return n=C(t.minus(r),i,0,1,1),h=h.plus(n.times(l)),r=r.plus(n.times(i)),h.s=l.s=g.s,f=C(l,i,s,1).minus(g).abs().cmp(C(h,r,s,1).minus(g).abs())<1?[l,i]:[h,r],v.precision=c,d=!0,f},E.toHexadecimal=E.toHex=function(t,e){return J(this,16,t,e)},E.toNearest=function(t,e){var r=this,i=r.constructor;if(r=new i(r),null==t){if(!r.d)return r;t=new i(1),e=i.rounding}else{if(t=new i(t),void 0===e?e=i.rounding:S(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(d=!1,r=C(r,t,0,e,1).times(t),d=!0,O(r)):(t.s=r.s,r=t),r},E.toNumber=function(){return+this},E.toOctal=function(t,e){return J(this,8,t,e)},E.toPower=E.pow=function(t){var e,r,i,n,s,a,o=this,h=o.constructor,l=+(t=new h(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new h(m(+o,l));if((o=new h(o)).eq(1))return o;if(i=h.precision,s=h.rounding,t.eq(1))return O(o,i,s);if((e=g(t.e/7))>=t.d.length-1&&(r=l<0?-l:l)<=9007199254740991)return n=j(h,o,r,i),t.s<0?new h(1).div(n):O(n,i,s);if((a=o.s)<0){if(e<t.d.length-1)return new h(NaN);if(0==(1&t.d[e])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(e=0!=(r=m(+o,l))&&isFinite(r)?new h(r+"").e:g(l*(Math.log("0."+N(o.d))/Math.LN10+o.e+1)))>h.maxE+1||e<h.minE-1?new h(e>0?a/0:0):(d=!1,h.rounding=o.s=1,r=Math.min(12,(e+"").length),(n=B(t.times(D(o,i+r)),i)).d&&A((n=O(n,i+5,1)).d,i,s)&&(e=i+10,+N((n=O(B(t.times(D(o,e+r)),e),e+5,1)).d).slice(i+1,i+15)+1==1e14&&(n=O(n,i+1,0))),n.s=a,d=!0,h.rounding=s,O(n,i,s))},E.toPrecision=function(t,e){var r,i=this,n=i.constructor;return void 0===t?r=F(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(S(t,1,1e9),void 0===e?e=n.rounding:S(e,0,8),r=F(i=O(new n(i),t,e),t<=i.e||i.e<=n.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+r:r},E.toSignificantDigits=E.toSD=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(S(t,1,1e9),void 0===e?e=r.rounding:S(e,0,8)),O(new r(this),t,e)},E.toString=function(){var t=this,e=t.constructor,r=F(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},E.truncated=E.trunc=function(){return O(new this.constructor(this),this.e+1,1)},E.valueOf=E.toJSON=function(){var t=this,e=t.constructor,r=F(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var C=function(){function t(t,e,r){var i,n=0,s=t.length;for(t=t.slice();s--;)i=t[s]*e+n,t[s]=i%r|0,n=i/r|0;return n&&t.unshift(n),t}function e(t,e,r,i){var n,s;if(r!=i)s=r>i?1:-1;else for(n=s=0;n<r;n++)if(t[n]!=e[n]){s=t[n]>e[n]?1:-1;break}return s}function r(t,e,r,i){for(var n=0;r--;)t[r]-=n,n=t[r]<e[r]?1:0,t[r]=n*i+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift()}return function(i,n,s,o,h,l){var c,u,f,d,p,m,_,v,y,x,b,M,E,N,S,A,k,C,F,R,P=i.constructor,T=i.s==n.s?1:-1,I=i.d,U=n.d;if(!(I&&I[0]&&U&&U[0]))return new P(i.s&&n.s&&(I?!U||I[0]!=U[0]:U)?I&&0==I[0]||!U?0*T:T/0:NaN);for(l?(p=1,u=i.e-n.e):(l=w,p=7,u=g(i.e/p)-g(n.e/p)),F=U.length,k=I.length,x=(y=new P(T)).d=[],f=0;U[f]==(I[f]||0);f++);if(U[f]>(I[f]||0)&&u--,null==s?(N=s=P.precision,o=P.rounding):N=h?s+(i.e-n.e)+1:s,N<0)x.push(1),m=!0;else{if(N=N/p+2|0,f=0,1==F){for(d=0,U=U[0],N++;(f<k||d)&&N--;f++)S=d*l+(I[f]||0),x[f]=S/U|0,d=S%U|0;m=d||f<k}else{for((d=l/(U[0]+1)|0)>1&&(U=t(U,d,l),I=t(I,d,l),F=U.length,k=I.length),A=F,M=(b=I.slice(0,F)).length;M<F;)b[M++]=0;(R=U.slice()).unshift(0),C=U[0],U[1]>=l/2&&++C;do{d=0,(c=e(U,b,F,M))<0?(E=b[0],F!=M&&(E=E*l+(b[1]||0)),(d=E/C|0)>1?(d>=l&&(d=l-1),1==(c=e(_=t(U,d,l),b,v=_.length,M=b.length))&&(d--,r(_,F<v?R:U,v,l))):(0==d&&(c=d=1),_=U.slice()),(v=_.length)<M&&_.unshift(0),r(b,_,M,l),-1==c&&(c=e(U,b,F,M=b.length))<1&&(d++,r(b,F<M?R:U,M,l)),M=b.length):0===c&&(d++,b=[0]),x[f++]=d,c&&b[0]?b[M++]=I[A]||0:(b=[I[A]],M=1)}while((A++<k||void 0!==b[0])&&N--);m=void 0!==b[0]}x[0]||x.shift()}if(1==p)y.e=u,a=m;else{for(f=1,d=x[0];d>=10;d/=10)f++;y.e=f+u*p-1,O(y,h?s+y.e+1:s,o,m)}return y}}();function O(t,e,r,i){var n,s,a,o,h,l,c,u,f,p=t.constructor;t:if(null!=e){if(!(u=t.d))return t;for(n=1,o=u[0];o>=10;o/=10)n++;if((s=e-n)<0)s+=7,a=e,h=(c=u[f=0])/m(10,n-a-1)%10|0;else if((f=Math.ceil((s+1)/7))>=(o=u.length)){if(!i)break t;for(;o++<=f;)u.push(0);c=h=0,n=1,a=(s%=7)-7+1}else{for(c=o=u[f],n=1;o>=10;o/=10)n++;h=(a=(s%=7)-7+n)<0?0:c/m(10,n-a-1)%10|0}if(i=i||e<0||void 0!==u[f+1]||(a<0?c:c%m(10,n-a-1)),l=r<4?(h||i)&&(0==r||r==(t.s<0?3:2)):h>5||5==h&&(4==r||i||6==r&&(s>0?a>0?c/m(10,n-a):0:u[f-1])%10&1||r==(t.s<0?8:7)),e<1||!u[0])return u.length=0,l?(e-=t.e+1,u[0]=m(10,(7-e%7)%7),t.e=-e||0):u[0]=t.e=0,t;if(0==s?(u.length=f,o=1,f--):(u.length=f+1,o=m(10,7-s),u[f]=a>0?(c/m(10,n-a)%m(10,a)|0)*o:0),l)for(;;){if(0==f){for(s=1,a=u[0];a>=10;a/=10)s++;for(a=u[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(t.e++,u[0]==w&&(u[0]=1));break}if(u[f]+=o,u[f]!=w)break;u[f--]=0,o=1}for(s=u.length;0===u[--s];)u.pop()}return d&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function F(t,e,r){if(!t.isFinite())return V(t);var i,n=t.e,s=N(t.d),a=s.length;return e?(r&&(i=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+U(i):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):n<0?(s="0."+U(-n-1)+s,r&&(i=r-a)>0&&(s+=U(i))):n>=a?(s+=U(n+1-a),r&&(i=r-n-1)>0&&(s=s+"."+U(i))):((i=n+1)<a&&(s=s.slice(0,i)+"."+s.slice(i)),r&&(i=r-a)>0&&(n+1===a&&(s+="."),s+=U(i))),s}function R(t,e){var r=t[0];for(e*=7;r>=10;r/=10)e++;return e}function P(t,e,r){if(e>b)throw d=!0,r&&(t.precision=r),Error("[DecimalError] Precision limit exceeded");return O(new t(c),e,1,!0)}function T(t,e,r){if(e>M)throw Error("[DecimalError] Precision limit exceeded");return O(new t(u),e,r,!0)}function I(t){var e=t.length-1,r=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function U(t){for(var e="";t--;)e+="0";return e}function j(t,e,r,i){var n,s=new t(1),a=Math.ceil(i/7+4);for(d=!1;;){if(r%2&&X((s=s.times(e)).d,a)&&(n=!0),0===(r=g(r/2))){r=s.d.length-1,n&&0===s.d[r]&&++s.d[r];break}X((e=e.times(e)).d,a)}return d=!0,s}function z(t){return 1&t.d[t.d.length-1]}function L(t,e,r){for(var i,n=new t(e[0]),s=0;++s<e.length;){if(!(i=new t(e[s])).s){n=i;break}n[r](i)&&(n=i)}return n}function B(t,e){var r,i,n,s,a,o,h,l=0,c=0,u=0,f=t.constructor,p=f.rounding,g=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(d=!1,h=g):h=e,o=new f(.03125);t.e>-2;)t=t.times(o),u+=5;for(h+=i=Math.log(m(2,u))/Math.LN10*2+5|0,r=s=a=new f(1),f.precision=h;;){if(s=O(s.times(t),h,1),r=r.times(++c),N((o=a.plus(C(s,r,h,1))).d).slice(0,h)===N(a.d).slice(0,h)){for(n=u;n--;)a=O(a.times(a),h,1);if(null!=e)return f.precision=g,a;if(!(l<3&&A(a.d,h-i,p,l)))return O(a,f.precision=g,p,d=!0);f.precision=h+=10,r=s=o=new f(1),c=0,l++}a=o}}function D(t,e){var r,i,n,s,a,o,h,l,c,u,f,p=1,g=t,m=g.d,_=g.constructor,v=_.rounding,y=_.precision;if(g.s<0||!m||!m[0]||!g.e&&1==m[0]&&1==m.length)return new _(m&&!m[0]?-1/0:1!=g.s?NaN:m?0:g);if(null==e?(d=!1,c=y):c=e,_.precision=c+=10,i=(r=N(m)).charAt(0),!(Math.abs(s=g.e)<15e14))return l=P(_,c+2,y).times(s+""),g=D(new _(i+"."+r.slice(1)),c-10).plus(l),_.precision=y,null==e?O(g,y,v,d=!0):g;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=N((g=g.times(t)).d)).charAt(0),p++;for(s=g.e,i>1?(g=new _("0."+r),s++):g=new _(i+"."+r.slice(1)),u=g,h=a=g=C(g.minus(1),g.plus(1),c,1),f=O(g.times(g),c,1),n=3;;){if(a=O(a.times(f),c,1),N((l=h.plus(C(a,new _(n),c,1))).d).slice(0,c)===N(h.d).slice(0,c)){if(h=h.times(2),0!==s&&(h=h.plus(P(_,c+2,y).times(s+""))),h=C(h,new _(p),c,1),null!=e)return _.precision=y,h;if(!A(h.d,c-10,v,o))return O(h,_.precision=y,v,d=!0);_.precision=c+=10,l=a=g=C(u.minus(1),u.plus(1),c,1),f=O(g.times(g),c,1),n=o=1}h=l,n+=2}}function V(t){return String(t.s*t.s/0)}function q(t,e){var r,i,n;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),i=0;48===e.charCodeAt(i);i++);for(n=e.length;48===e.charCodeAt(n-1);--n);if(e=e.slice(i,n)){if(n-=i,t.e=r=r-i-1,t.d=[],i=(r+1)%7,r<0&&(i+=7),i<n){for(i&&t.d.push(+e.slice(0,i)),n-=7;i<n;)t.d.push(+e.slice(i,i+=7));i=7-(e=e.slice(i)).length}else i-=n;for(;i--;)e+="0";t.d.push(+e),d&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function G(t,e){var r,i,n,a,o,h,l,c,u;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(v.test(e))r=16,e=e.toLowerCase();else if(_.test(e))r=2;else{if(!y.test(e))throw Error(p+e);r=8}for((a=e.search(/p/i))>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),o=(a=e.indexOf("."))>=0,i=t.constructor,o&&(a=(h=(e=e.replace(".","")).length)-a,n=j(i,new i(r),a,2*a)),a=u=(c=k(e,r,w)).length-1;0===c[a];--a)c.pop();return a<0?new i(0*t.s):(t.e=R(c,u),t.d=c,d=!1,o&&(t=C(t,n,4*h)),l&&(t=t.times(Math.abs(l)<54?m(2,l):s.pow(2,l))),d=!0,t)}function H(t,e,r,i,n){var s,a,o,h,l=t.precision,c=Math.ceil(l/7);for(d=!1,h=r.times(r),o=new t(i);;){if(a=C(o.times(h),new t(e++*e++),l,1),o=n?i.plus(a):i.minus(a),i=C(a.times(h),new t(e++*e++),l,1),void 0!==(a=o.plus(i)).d[c]){for(s=c;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=i,i=a,a=s}return d=!0,a.d.length=c+1,a}function Z(t,e){for(var r=t;--e;)r*=t;return r}function W(t,e){var r,i=e.s<0,n=T(t,t.precision,1),s=n.times(.5);if((e=e.abs()).lte(s))return o=i?4:1,e;if((r=e.divToInt(n)).isZero())o=i?3:2;else{if((e=e.minus(r.times(n))).lte(s))return o=z(r)?i?2:3:i?4:1,e;o=z(r)?i?1:4:i?3:2}return e.minus(n).abs()}function J(t,e,r,i){var n,s,o,h,c,u,f,d,p,g=t.constructor,m=void 0!==r;if(m?(S(r,1,1e9),void 0===i?i=g.rounding:S(i,0,8)):(r=g.precision,i=g.rounding),t.isFinite()){for(m?(n=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):n=e,(o=(f=F(t)).indexOf("."))>=0&&(f=f.replace(".",""),(p=new g(1)).e=f.length-o,p.d=k(F(p),10,n),p.e=p.d.length),s=c=(d=k(f,10,n)).length;0==d[--c];)d.pop();if(d[0]){if(o<0?s--:((t=new g(t)).d=d,t.e=s,d=(t=C(t,p,r,i,0,n)).d,s=t.e,u=a),o=d[r],h=n/2,u=u||void 0!==d[r+1],u=i<4?(void 0!==o||u)&&(0===i||i===(t.s<0?3:2)):o>h||o===h&&(4===i||u||6===i&&1&d[r-1]||i===(t.s<0?8:7)),d.length=r,u)for(;++d[--r]>n-1;)d[r]=0,r||(++s,d.unshift(1));for(c=d.length;!d[c-1];--c);for(o=0,f="";o<c;o++)f+=l.charAt(d[o]);if(m){if(c>1)if(16==e||8==e){for(o=16==e?4:3,--c;c%o;c++)f+="0";for(c=(d=k(f,n,e)).length;!d[c-1];--c);for(o=1,f="1.";o<c;o++)f+=l.charAt(d[o])}else f=f.charAt(0)+"."+f.slice(1);f=f+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)f="0"+f;f="0."+f}else if(++s>c)for(s-=c;s--;)f+="0";else s<c&&(f=f.slice(0,s)+"."+f.slice(s))}else f=m?"0p+0":"0";f=(16==e?"0x":2==e?"0b":8==e?"0o":"")+f}else f=V(t);return t.s<0?"-"+f:f}function X(t,e){if(t.length>e)return t.length=e,!0}function Y(t){return new this(t).abs()}function $(t){return new this(t).acos()}function K(t){return new this(t).acosh()}function Q(t,e){return new this(t).plus(e)}function tt(t){return new this(t).asin()}function et(t){return new this(t).asinh()}function rt(t){return new this(t).atan()}function it(t){return new this(t).atanh()}function nt(t,e){t=new this(t),e=new this(e);var r,i=this.precision,n=this.rounding,s=i+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?T(this,i,n):new this(0)).s=t.s:!t.d||e.isZero()?(r=T(this,s,1).times(.5)).s=t.s:e.s<0?(this.precision=s,this.rounding=1,r=this.atan(C(t,e,s,1)),e=T(this,s,1),this.precision=i,this.rounding=n,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(C(t,e,s,1)):(r=T(this,s,1).times(e.s>0?.25:.75)).s=t.s:r=new this(NaN),r}function st(t){return new this(t).cbrt()}function at(t){return O(t=new this(t),t.e+1,2)}function ot(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,r,i,n=!0===t.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-h,0,"toExpPos",0,h,"maxE",0,h,"minE",-h,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],n&&(this[r]=f[r]),void 0!==(i=t[r])){if(!(g(i)===i&&i>=s[e+1]&&i<=s[e+2]))throw Error(p+r+": "+i);this[r]=i}if(r="crypto",n&&(this[r]=f[r]),void 0!==(i=t[r])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(p+r+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0}else this[r]=!1}return this}function ht(t){return new this(t).cos()}function lt(t){return new this(t).cosh()}function ct(t,e){return new this(t).div(e)}function ut(t){return new this(t).exp()}function ft(t){return O(t=new this(t),t.e+1,3)}function dt(){var t,e,r=new this(0);for(d=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return d=!0,new this(1/0);r=e}return d=!0,r.sqrt()}function pt(t){return t instanceof s||t&&"[object Decimal]"===t.name||!1}function gt(t){return new this(t).ln()}function mt(t,e){return new this(t).log(e)}function _t(t){return new this(t).log(2)}function vt(t){return new this(t).log(10)}function yt(){return L(this,arguments,"lt")}function xt(){return L(this,arguments,"gt")}function wt(t,e){return new this(t).mod(e)}function bt(t,e){return new this(t).mul(e)}function Mt(t,e){return new this(t).pow(e)}function Et(t){var e,r,i,n,s=0,a=new this(1),o=[];if(void 0===t?t=this.precision:S(t,1,1e9),i=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));s<i;)(n=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=n%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(i*=4);s<i;)(n=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(o.push(n%1e7),s+=4);s=i/4}else for(;s<i;)o[s++]=1e7*Math.random()|0;for(t%=7,(i=o[--s])&&t&&(n=m(10,7-t),o[s]=(i/n|0)*n);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=7)o.shift();for(i=1,n=o[0];n>=10;n/=10)i++;i<7&&(r-=7-i)}return a.e=r,a.d=o,a}function Nt(t){return O(t=new this(t),t.e+1,this.rounding)}function St(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function At(t){return new this(t).sin()}function kt(t){return new this(t).sinh()}function Ct(t){return new this(t).sqrt()}function Ot(t,e){return new this(t).sub(e)}function Ft(t){return new this(t).tan()}function Rt(t){return new this(t).tanh()}function Pt(t){return O(t=new this(t),t.e+1,1)}(s=function t(e){var r,i,n;function s(t){var e,r,i,n=this;if(!(n instanceof s))return new s(t);if(n.constructor=s,t instanceof s)return n.s=t.s,void(d?!t.d||t.e>s.maxE?(n.e=NaN,n.d=null):t.e<s.minE?(n.e=0,n.d=[0]):(n.e=t.e,n.d=t.d.slice()):(n.e=t.e,n.d=t.d?t.d.slice():t.d));if("number"===(i=typeof t)){if(0===t)return n.s=1/t<0?-1:1,n.e=0,void(n.d=[0]);if(t<0?(t=-t,n.s=-1):n.s=1,t===~~t&&t<1e7){for(e=0,r=t;r>=10;r/=10)e++;return void(d?e>s.maxE?(n.e=NaN,n.d=null):e<s.minE?(n.e=0,n.d=[0]):(n.e=e,n.d=[t]):(n.e=e,n.d=[t]))}return 0*t!=0?(t||(n.s=NaN),n.e=NaN,void(n.d=null)):q(n,t.toString())}if("string"!==i)throw Error(p+t);return 45===(r=t.charCodeAt(0))?(t=t.slice(1),n.s=-1):(43===r&&(t=t.slice(1)),n.s=1),x.test(t)?q(n,t):G(n,t)}if(s.prototype=E,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=ot,s.clone=t,s.isDecimal=pt,s.abs=Y,s.acos=$,s.acosh=K,s.add=Q,s.asin=tt,s.asinh=et,s.atan=rt,s.atanh=it,s.atan2=nt,s.cbrt=st,s.ceil=at,s.cos=ht,s.cosh=lt,s.div=ct,s.exp=ut,s.floor=ft,s.hypot=dt,s.ln=gt,s.log=mt,s.log10=vt,s.log2=_t,s.max=yt,s.min=xt,s.mod=wt,s.mul=bt,s.pow=Mt,s.random=Et,s.round=Nt,s.sign=St,s.sin=At,s.sinh=kt,s.sqrt=Ct,s.sub=Ot,s.tan=Ft,s.tanh=Rt,s.trunc=Pt,void 0===e&&(e={}),e&&!0!==e.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)e.hasOwnProperty(i=n[r++])||(e[i]=this[i]);return s.config(e),s}(f)).default=s.Decimal=s,c=new s(c),u=new s(u),void 0===(i=function(){return s}.call(e,r,e,t))||(t.exports=i)}()},147:function(t,e,r){(function(r){var i;(this||self||window).Two=function(n){var s;s="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this;var a=Object.prototype.toString,o={_indexAmount:0,natural:{slice:Array.prototype.slice,indexOf:Array.prototype.indexOf,keys:Object.keys,bind:Function.prototype.bind,create:Object.create},identity:function(t){return t},isArguments:function(t){return"[object Arguments]"===a.call(t)},isFunction:function(t){return"[object Function]"===a.call(t)},isString:function(t){return"[object String]"===a.call(t)},isNumber:function(t){return"[object Number]"===a.call(t)},isDate:function(t){return"[object Date]"===a.call(t)},isRegExp:function(t){return"[object RegExp]"===a.call(t)},isError:function(t){return"[object Error]"===a.call(t)},isFinite:function(t){return isFinite(t)&&!isNaN(parseFloat(t))},isNaN:function(t){return o.isNumber(t)&&t!==+t},isBoolean:function(t){return!0===t||!1===t||"[object Boolean]"===a.call(t)},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isEmpty:function(t){return null==t||(w&&(o.isArray(t)||o.isString(t)||o.isArguments(t))?0===t.length:0===o.keys(t).length)},isElement:function(t){return!(!t||1!==t.nodeType)},isArray:Array.isArray||function(t){return"[object Array]"===a.call(t)},isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},toArray:function(t){return t?o.isArray(t)?v.call(t):w(t)?o.map(t,o.identity):o.values(t):[]},range:function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var i=Math.max(Math.ceil((e-t)/r),0),n=Array(i),s=0;s<i;s++,t+=r)n[s]=t;return n},indexOf:function(t,e){if(o.natural.indexOf)return o.natural.indexOf.call(t,e);for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1},has:function(t,e){return null!=t&&hasOwnProperty.call(t,e)},bind:function(t,e){var r=o.natural.bind;if(r&&t.bind===r)return r.apply(t,v.call(arguments,1));var i=v.call(arguments,2);return function(){t.apply(e,i)}},extend:function(t){for(var e=v.call(arguments,1),r=0;r<e.length;r++){var i=e[r];for(var n in i)t[n]=i[n]}return t},defaults:function(t){for(var e=v.call(arguments,1),r=0;r<e.length;r++){var i=e[r];for(var n in i)void 0===t[n]&&(t[n]=i[n])}return t},keys:function(t){if(!o.isObject(t))return[];if(o.natural.keys)return o.natural.keys(t);var e=[];for(var r in t)o.has(t,r)&&e.push(r);return e},values:function(t){for(var e=o.keys(t),r=[],i=0;i<e.length;i++){var n=e[i];r.push(t[n])}return r},each:function(t,e,r){for(var i=r||this,n=!w(t)&&o.keys(t),s=(n||t).length,a=0;a<s;a++){var h=n?n[a]:a;e.call(i,t[h],h,t)}return t},map:function(t,e,r){for(var i=r||this,n=!w(t)&&o.keys(t),s=(n||t).length,a=[],h=0;h<s;h++){var l=n?n[h]:h;a[h]=e.call(i,t[l],l,t)}return a},once:function(t){var e=!1;return function(){return e?t:(e=!0,t.apply(this,arguments))}},after:function(t,e){return function(){for(;--t<1;)return e.apply(this,arguments)}},uniqueId:function(t){var e=++o._indexAmount+"";return t?t+e:e}},h=Math.sin,l=Math.cos,c=(Math.acos,Math.atan2,Math.sqrt),u=(Math.round,Math.abs),f=Math.PI,d=f/2,p=Math.pow,g=Math.min,m=Math.max,_=0,v=o.natural.slice,y=s.performance&&s.performance.now?s.performance:Date,x=Math.pow(2,53)-1,w=function(t){var e,r=null==(e=t)?void 0:e.length;return"number"==typeof r&&r>=0&&r<=x},b={temp:s.document?s.document.createElement("div"):{},hasEventListeners:o.isFunction(s.addEventListener),bind:function(t,e,r,i){return this.hasEventListeners?t.addEventListener(e,r,!!i):t.attachEvent("on"+e,r),b},unbind:function(t,e,r,i){return b.hasEventListeners?t.removeEventListeners(e,r,!!i):t.detachEvent("on"+e,r),b},getRequestAnimationFrame:function(){var t,e=0,r=["ms","moz","webkit","o"],i=s.requestAnimationFrame;if(!i){for(var n=0;n<r.length;n++)i=s[r[n]+"RequestAnimationFrame"]||i,t=s[r[n]+"CancelAnimationFrame"]||s[r[n]+"CancelRequestAnimationFrame"]||t;i=i||function(t,r){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),a=s.setTimeout((function(){t(i+n)}),n);return e=i+n,a}}return i.init=o.once(T),i}},M=s.Two=function(t){var e=o.defaults(t||{},{fullscreen:!1,width:640,height:480,type:M.Types.svg,autostart:!1});if(o.each(e,(function(t,e){/fullscreen/i.test(e)||/autostart/i.test(e)||(this[e]=t)}),this),o.isElement(e.domElement)){var r=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+r)||(this.type=M.Types[r])}if(this.renderer=new M[this.type](this),M.Utils.setPlaying.call(this,e.autostart),this.frameCount=0,e.fullscreen){var i=o.bind(F,this);o.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),o.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),b.bind(s,"resize",i),i()}else o.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height);this.renderer.bind(M.Events.resize,o.bind(R,this)),this.scene=this.renderer.scene,M.Instances.push(this),e.autostart&&P.init()};o.extend(M,{root:s,nextFrameID:null,Array:s.Float32Array||Array,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.7.0",PublishDate:"2020-01-22T21:17:28.421Z",Identifier:"two-",Events:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"},Commands:{move:"M",line:"L",curve:"C",arc:"A",close:"Z"},Resolution:12,Instances:[],noConflict:function(){return s.Two=n,M},uniqueId:function(){var t=_;return _++,t},Utils:o.extend(o,{performance:y,defineProperty:function(t){var e="_"+t,r="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[r]=!0}})},Image:null,isHeadless:!1,shim:function(t,e){return M.CanvasRenderer.Utils.shim(t),o.isUndefined(e)||(M.Utils.Image=e),M.Utils.isHeadless=!0,t},release:function(t){if(o.isObject(t))return o.isFunction(t.unbind)&&t.unbind(),t.vertices&&(o.isFunction(t.vertices.unbind)&&t.vertices.unbind(),o.each(t.vertices,(function(t){o.isFunction(t.unbind)&&t.unbind()}))),t.children&&o.each(t.children,(function(t){M.Utils.release(t)})),t},xhr:function(t,e){var r=new XMLHttpRequest;return r.open("GET",t),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&e(r.responseText)},r.send(),r},Curve:{CollinearityEpsilon:p(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},devicePixelRatio:s.devicePixelRatio||1,getBackingStoreRatio:function(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},getRatio:function(t){return M.Utils.devicePixelRatio/A(t)},setPlaying:function(t){return this.playing=!!t,this},getComputedMatrix:function(t,e){e=e&&e.identity()||new M.Matrix;for(var r=t,i=[];r&&r._matrix;)i.push(r._matrix),r=r.parent;i.reverse();for(var n=0;n<i.length;n++){var s=i[n].elements;e.multiply(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9])}return e},decomposeMatrix:function(t){return{translateX:t.e,translateY:t.f,scaleX:t.a,scaleY:t.d,rotation:Math.asin(-t.b)}},extractCSSText:function(t,e){var r,i,n,s;e||(e={}),r=t.split(";");for(var a=0;a<r.length;a++)n=(i=r[a].split(":"))[0],s=i[1],o.isUndefined(n)||o.isUndefined(s)||(e[n]=s.replace(/\s/,""));return e},getSvgStyles:function(t){for(var e={},r=M.Utils.getSvgAttributes(t),i=Math.max(r.length,t.style.length),n=0;n<i;n++){var s=t.style[n],a=r[n];s&&(e[s]=t.style[s]),a&&(e[a]=t.getAttribute(a))}return e},getSvgAttributes:function(t){for(var e=t.getAttributeNames(),r=["id","class","transform","xmlns","viewBox"],i=0;i<r.length;i++){var n=r[i],s=o.indexOf(e,n);s>=0&&e.splice(s,1)}return e},applySvgViewBox:function(t,e){var r=e.split(/\s/),i=parseFloat(r[0]),n=parseFloat(r[1]),s=parseFloat(r[2]),a=parseFloat(r[3]),o=Math.min(this.width/s,this.height/a);return t.translation.x-=i*o,t.translation.y-=n*o,t.scale=o,t},applySvgAttributes:function(t,e,r){var i,n,a,h,l={},c={},u={};if(s.getComputedStyle){var f=s.getComputedStyle(t);for(i=f.length;i--;)a=f[n=f[i]],o.isUndefined(a)||(l[n]=a)}for(i=0;i<t.attributes.length;i++)h=t.attributes[i],/style/i.test(h.nodeName)?M.Utils.extractCSSText(h.value,u):c[h.nodeName]=h.value;for(n in o.isUndefined(l.opacity)||(l["stroke-opacity"]=l.opacity,l["fill-opacity"]=l.opacity,delete l.opacity),r&&o.defaults(l,r),o.extend(l,c,u),l.visible=!(o.isUndefined(l.display)&&/none/i.test(l.display))||o.isUndefined(l.visibility)&&/hidden/i.test(l.visibility),l)switch(a=l[n],n){case"transform":if(/none/i.test(a))break;var d=t.transform&&t.transform.baseVal&&t.transform.baseVal.length>0?t.transform.baseVal[0].matrix:t.getCTM?t.getCTM():null;if(o.isNull(d))break;var p=M.Utils.decomposeMatrix(d);e.translation.set(p.translateX,p.translateY),e.rotation=Math.PI*(p.rotation/180),e.scale=new M.Vector(p.scaleX,p.scaleY);var g=parseFloat((l.x+"").replace("px")),m=parseFloat((l.y+"").replace("px"));g&&(e.translation.x=g),m&&(e.translation.y=m);break;case"viewBox":M.Utils.applySvgViewBox.call(this,e,a);break;case"visible":if(e instanceof M.Group){e._visible=a;break}e.visible=a;break;case"stroke-linecap":if(e instanceof M.Group){e._cap=a;break}e.cap=a;break;case"stroke-linejoin":if(e instanceof M.Group){e._join=a;break}e.join=a;break;case"stroke-miterlimit":if(e instanceof M.Group){e._miter=a;break}e.miter=a;break;case"stroke-width":if(e instanceof M.Group){e._linewidth=parseFloat(a);break}e.linewidth=parseFloat(a);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(e instanceof M.Group){e._opacity=parseFloat(a);break}e.opacity=parseFloat(a);break;case"fill":case"stroke":if(e instanceof M.Group&&(n="_"+n),/url\(#.*\)/i.test(a)){var _=M.Utils.getScene(this);e[n]=_.getById(a.replace(/url\(#(.*)\)/i,"$1"))}else e[n]=/none/i.test(a)?"transparent":a;break;case"id":e.id=a,t.id=a+"-"+M.Identifier+"applied";break;case"class":case"className":e.classList=a.split(" ")}return l},getScene:function(t){for(;t.parent;)t=t.parent;return t.scene},read:{svg:function(t){var e=M.Utils.read.g.call(this,t);t.getAttribute("viewBox");return e},defs:function(t){var e=new M.Utils.Error("interpret <defs /> not supported.");return console.warn(e.name,e.message),null},use:function(t){var e=new M.Utils.Error("interpret <use /> not supported.");return console.warn(e.name,e.message),null},g:function(t,e){var r,i=new M.Group;M.Utils.applySvgAttributes.call(this,t,i,e),this.add(i),r=M.Utils.getSvgStyles.call(this,t);for(var n=0,s=t.childNodes.length;n<s;n++){var a=t.childNodes[n],o=a.nodeName;if(!o)return;var h=o.replace(/svg:/gi,"").toLowerCase();if(h in M.Utils.read){var l=M.Utils.read[h].call(i,a,r);l&&!l.parent&&i.add(l)}}return i},polygon:function(t,e){var r=t.getAttribute("points"),i=[];r.replace(/(-?[\d.?]+)[,|\s](-?[\d.?]+)/g,(function(t,e,r){i.push(new M.Anchor(parseFloat(e),parseFloat(r)))}));var n=new M.Path(i,!0).noStroke();return n.fill="black",M.Utils.applySvgAttributes.call(this,t,n,e),n},polyline:function(t,e){var r=M.Utils.read.polygon.call(this,t,e);return r.closed=!1,r},path:function(t,e){var r=t.getAttribute("d"),i=[],n=!1,s=!1;if(r){var a,h,l=new M.Anchor,c=r.match(/[a-df-z][^a-df-z]*/gi),u=c.length-1;o.each(c.slice(0),(function(t,e){var r,i,n,s,a,o,h,l,u,f=t[0],d=f.toLowerCase(),p=t.slice(1).trim().split(/[\s,]+|(?=\s?[+-])/),g=[],m=!1;for(a=0;a<p.length;a++)if((r=p[a]).indexOf(".")!==r.lastIndexOf(".")){for(n=(i=r.split("."))[0]+"."+i[1],p.splice(a,1,n),s=2;s<i.length;s++)p.splice(a+s-1,0,"0."+i[s]);m=!0}switch(m&&(t=f+p.join(",")),e<=0&&(c=[]),d){case"h":case"v":p.length>1&&(u=1);break;case"m":case"l":case"t":p.length>2&&(u=2);break;case"s":case"q":p.length>4&&(u=4);break;case"c":p.length>6&&(u=6);break;case"a":p.length>7&&(u=7)}if(u){for(a=0,h=p.length,l=0;a<h;a+=u){if(o=f,l>0)switch(f){case"m":o="l";break;case"M":o="L"}g.push(o+p.slice(a,a+u).join(" ")),l++}c=Array.prototype.concat.apply(c,g)}else c.push(t)})),o.each(c,(function(t,e){var r,c,f,d,g,m,_,v,y,x,w,b,E=t[0],N=E.toLowerCase();switch(h=(h=(h=t.slice(1).trim()).replace(/(-?\d+(?:\.\d*)?)[eE]([+-]?\d+)/g,(function(t,e,r){return parseFloat(e)*p(10,r)}))).split(/[\s,]+|(?=\s?[+-])/),s=E===N,N){case"z":if(e>=u)n=!0;else{c=l.x,f=l.y,r=new M.Anchor(c,f,void 0,void 0,void 0,void 0,M.Commands.close);for(var S=i.length-1;S>=0;S--){var A=i[S];if(/m/i.test(A.command)){l=A;break}}}break;case"m":case"l":a=void 0,c=parseFloat(h[0]),f=parseFloat(h[1]),r=new M.Anchor(c,f,void 0,void 0,void 0,void 0,/m/i.test(N)?M.Commands.move:M.Commands.line),s&&r.addSelf(l),l=r;break;case"h":case"v":var k=/h/i.test(N)?"x":"y",C=/x/i.test(k)?"y":"x";(r=new M.Anchor(void 0,void 0,void 0,void 0,void 0,void 0,M.Commands.line))[k]=parseFloat(h[0]),r[C]=l[C],s&&(r[k]+=l[k]),l=r;break;case"c":case"s":d=l.x,g=l.y,a||(a=new M.Vector),/c/i.test(N)?(m=parseFloat(h[0]),_=parseFloat(h[1]),v=parseFloat(h[2]),y=parseFloat(h[3]),x=parseFloat(h[4]),w=parseFloat(h[5])):(m=(b=O(l,a,s)).x,_=b.y,v=parseFloat(h[0]),y=parseFloat(h[1]),x=parseFloat(h[2]),w=parseFloat(h[3])),s&&(m+=d,_+=g,v+=d,y+=g,x+=d,w+=g),o.isObject(l.controls)||M.Anchor.AppendCurveProperties(l),l.controls.right.set(m-l.x,_-l.y),r=new M.Anchor(x,w,v-x,y-w,void 0,void 0,M.Commands.curve),l=r,a=r.controls.left;break;case"t":case"q":d=l.x,g=l.y,a||(a=new M.Vector),/q/i.test(N)?(m=parseFloat(h[0]),_=parseFloat(h[1]),v=parseFloat(h[0]),y=parseFloat(h[1]),x=parseFloat(h[2]),w=parseFloat(h[3])):(m=(b=O(l,a,s)).x,_=b.y,v=b.x,y=b.y,x=parseFloat(h[0]),w=parseFloat(h[1])),s&&(m+=d,_+=g,v+=d,y+=g,x+=d,w+=g),o.isObject(l.controls)||M.Anchor.AppendCurveProperties(l),l.controls.right.set(.33*(m-l.x),.33*(_-l.y)),r=new M.Anchor(x,w,v-x,y-w,void 0,void 0,M.Commands.curve),l=r,a=r.controls.left;break;case"a":d=l.x,g=l.y;var F=parseFloat(h[0]),R=parseFloat(h[1]),P=parseFloat(h[2]),T=parseFloat(h[3]),I=parseFloat(h[4]);x=parseFloat(h[5]),w=parseFloat(h[6]),s&&(x+=d,w+=g);var U=new M.Anchor(x,w);U.command=M.Commands.arc,U.rx=F,U.ry=R,U.xAxisRotation=P,U.largeArcFlag=T,U.sweepFlag=I,r=U,l=U,a=void 0}r&&(o.isArray(r)?i=i.concat(r):i.push(r))}))}(r=new M.Path(i,n,void 0,!0).noStroke()).fill="black";var f=r.getBoundingClientRect(!0);return f.centroid={x:f.left+f.width/2,y:f.top+f.height/2},o.each(r.vertices,(function(t){t.subSelf(f.centroid)})),M.Utils.applySvgAttributes.call(this,t,r,e),r.translation.addSelf(f.centroid),r},circle:function(t,e){var r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy")),n=parseFloat(t.getAttribute("r")),s=new M.Circle(r,i,n).noStroke();return s.fill="black",M.Utils.applySvgAttributes.call(this,t,s,e),s},ellipse:function(t,e){var r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy")),n=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry")),a=new M.Ellipse(r,i,n,s).noStroke();return a.fill="black",M.Utils.applySvgAttributes.call(this,t,a,e),a},rect:function(t,e){var r=parseFloat(t.getAttribute("rx")),i=parseFloat(t.getAttribute("ry"));if(!o.isNaN(r)||!o.isNaN(i))return M.Utils.read["rounded-rect"](t);var n=parseFloat(t.getAttribute("x"))||0,s=parseFloat(t.getAttribute("y"))||0,a=parseFloat(t.getAttribute("width")),h=parseFloat(t.getAttribute("height")),l=a/2,c=h/2,u=new M.Rectangle(n+l,s+c,a,h).noStroke();return u.fill="black",M.Utils.applySvgAttributes.call(this,t,u,e),u},"rounded-rect":function(t,e){var r=parseFloat(t.getAttribute("x"))||0,i=parseFloat(t.getAttribute("y"))||0,n=parseFloat(t.getAttribute("rx"))||0,s=parseFloat(t.getAttribute("ry"))||0,a=parseFloat(t.getAttribute("width")),o=parseFloat(t.getAttribute("height")),h=a/2,l=o/2,c=new M.Vector(n,s),u=new M.RoundedRectangle(r+h,i+l,a,o,c).noStroke();return u.fill="black",M.Utils.applySvgAttributes.call(this,t,u,e),u},line:function(t,e){var r=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),n=parseFloat(t.getAttribute("x2")),s=parseFloat(t.getAttribute("y2")),a=new M.Line(r,i,n,s).noFill();return M.Utils.applySvgAttributes.call(this,t,a,e),a},lineargradient:function(t,e){for(var r=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),n=parseFloat(t.getAttribute("x2")),s=parseFloat(t.getAttribute("y2")),a=(n+r)/2,h=(s+i)/2,l=[],c=0;c<t.children.length;c++){var u=t.children[c],f=u.getAttribute("offset");/%/gi.test(f)&&(f=parseFloat(f.replace(/%/gi,""))/100),f=parseFloat(f);var d,p=u.getAttribute("stop-color"),g=u.getAttribute("stop-opacity"),m=u.getAttribute("style");o.isNull(p)&&(p=(d=!!m&&m.match(/stop-color:\s?([#a-fA-F0-9]*)/))&&d.length>1?d[1]:void 0),g=o.isNull(g)?(d=!!m&&m.match(/stop-opacity:\s?([0-9.-]*)/))&&d.length>1?parseFloat(d[1]):1:parseFloat(g),l.push(new M.Gradient.Stop(f,p,g))}var _=new M.LinearGradient(r-a,i-h,n-a,s-h,l);return M.Utils.applySvgAttributes.call(this,t,_,e),_},radialgradient:function(t,e){var r=parseFloat(t.getAttribute("cx"))||0,i=parseFloat(t.getAttribute("cy"))||0,n=parseFloat(t.getAttribute("r")),s=parseFloat(t.getAttribute("fx")),a=parseFloat(t.getAttribute("fy"));o.isNaN(s)&&(s=r),o.isNaN(a)&&(a=i);for(var h=u(r+s)/2,l=u(i+a)/2,c=[],f=0;f<t.children.length;f++){var d=t.children[f],p=d.getAttribute("offset");/%/gi.test(p)&&(p=parseFloat(p.replace(/%/gi,""))/100),p=parseFloat(p);var g,m=d.getAttribute("stop-color"),_=d.getAttribute("stop-opacity"),v=d.getAttribute("style");o.isNull(m)&&(m=(g=!!v&&v.match(/stop-color:\s?([#a-fA-F0-9]*)/))&&g.length>1?g[1]:void 0),_=o.isNull(_)?(g=!!v&&v.match(/stop-opacity:\s?([0-9.-]*)/))&&g.length>1?parseFloat(g[1]):1:parseFloat(_),c.push(new M.Gradient.Stop(p,m,_))}var y=new M.RadialGradient(r-h,i-l,n,c,s-h,a-l);return M.Utils.applySvgAttributes.call(this,t,y,e),y}},subdivide:function(t,e,r,i,n,s,a,o,h){var l=(h=h||M.Utils.Curve.RecursionLimit)+1;if(u(t-a)<.001&&u(e-o)<.001)return[new M.Anchor(a,o)];for(var c=[],f=0;f<l;f++){var d=f/l,p=k(d,t,r,n,a),g=k(d,e,i,s,o);c.push(new M.Anchor(p,g))}return c},getComponentOnCubicBezier:function(t,e,r,i,n){var s=1-t;return s*s*s*e+3*s*s*t*r+3*s*t*t*i+t*t*t*n},getCurveLength:function(t,e,r,i,n,s,a,o,h){if(t===r&&e===i&&n===a&&s===o){var l=a-t,u=o-e;return c(l*l+u*u)}var f=9*(r-n)+3*(a-t),d=6*(t+n)-12*r,p=3*(r-t),g=9*(i-s)+3*(o-e),m=6*(e+s)-12*i,_=3*(i-e);return C((function(t){var e=(f*t+d)*t+p,r=(g*t+m)*t+_;return c(e*e+r*r)}),0,1,h||M.Utils.Curve.RecursionLimit)},getCurveBoundingBox:function(t,e,r,i,n,s,a,o){for(var h,l,c,f,d,p,g,m,_=[],v=[[],[]],y=0;y<2;++y)if(0==y?(l=6*t-12*r+6*n,h=-3*t+9*r-9*n+3*a,c=3*r-3*t):(l=6*e-12*i+6*s,h=-3*e+9*i-9*s+3*o,c=3*i-3*e),u(h)<1e-12){if(u(l)<1e-12)continue;0<(f=-c/l)&&f<1&&_.push(f)}else g=l*l-4*c*h,m=Math.sqrt(g),g<0||(0<(d=(-l+m)/(2*h))&&d<1&&_.push(d),0<(p=(-l-m)/(2*h))&&p<1&&_.push(p));for(var x,w=_.length,b=w;w--;)x=1-(f=_[w]),v[0][w]=x*x*x*t+3*x*x*f*r+3*x*f*f*n+f*f*f*a,v[1][w]=x*x*x*e+3*x*x*f*i+3*x*f*f*s+f*f*f*o;return v[0][b]=t,v[1][b]=e,v[0][b+1]=a,v[1][b+1]=o,v[0].length=v[1].length=b+2,{min:{x:Math.min.apply(0,v[0]),y:Math.min.apply(0,v[1])},max:{x:Math.max.apply(0,v[0]),y:Math.max.apply(0,v[1])}}},integrate:function(t,e,r,i){for(var n=M.Utils.Curve.abscissas[i-2],s=M.Utils.Curve.weights[i-2],a=.5*(r-e),o=a+e,h=0,l=i+1>>1,c=1&i?s[h++]*t(o):0;h<l;){var u=a*n[h];c+=s[h++]*(t(o+u)+t(o-u))}return a*c},getCurveFromPoints:function(t,e){for(var r=t.length,i=r-1,n=0;n<r;n++){var s=t[n];o.isObject(s.controls)||M.Anchor.AppendCurveProperties(s);var a=e?S(n-1,r):m(n-1,0),h=e?S(n+1,r):g(n+1,i),l=t[a],c=s,u=t[h];N(l,c,u),c.command=0===n?M.Commands.move:M.Commands.curve}},getControlPoints:function(t,e,r){var i=M.Vector.angleBetween(t,e),n=M.Vector.angleBetween(r,e),s=M.Vector.distanceBetween(t,e),a=M.Vector.distanceBetween(r,e),c=(i+n)/2;return s<1e-4||a<1e-4?(o.isBoolean(e.relative)&&!e.relative&&(e.controls.left.copy(e),e.controls.right.copy(e)),e):(s*=.33,a*=.33,n<i?c+=d:c-=d,e.controls.left.x=l(c)*s,e.controls.left.y=h(c)*s,c-=f,e.controls.right.x=l(c)*a,e.controls.right.y=h(c)*a,o.isBoolean(e.relative)&&!e.relative&&(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)},getReflection:function(t,e,r){return new M.Vector(2*t.x-(e.x+t.x)-(r?t.x:0),2*t.y-(e.y+t.y)-(r?t.y:0))},getAnchorsFromArcData:function(t,e,r,i,n,s,a){var h=M.Resolution;return o.map(o.range(h),(function(t){var e=(t+1)/h;a&&(e=1-e);var o=e*s+n,l=r*Math.cos(o),c=i*Math.sin(o),u=new M.Anchor(l,c);return M.Anchor.AppendCurveProperties(u),u.command=M.Commands.line,u}))},lerp:function(t,e,r){return r*(e-t)+t},toFixed:function(t){return Math.floor(1e3*t)/1e3},mod:function(t,e){for(;t<0;)t+=e;return t%e},Collection:function(){Array.call(this),arguments.length>1?Array.prototype.push.apply(this,arguments):arguments[0]&&Array.isArray(arguments[0])&&Array.prototype.push.apply(this,arguments[0])},Error:function(t){this.name="Two.js",this.message=t},Events:{on:function(t,e){return this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push(e),this},off:function(t,e){if(!this._events)return this;if(!t&&!e)return this._events={},this;for(var r=t?[t]:o.keys(this._events),i=0,n=r.length;i<n;i++){t=r[i];var s=this._events[t];if(s){var a=[];if(e)for(var h=0,l=s.length;h<l;h++){var c=s[h];c=c.handler?c.handler:c,e&&e!==c&&a.push(c)}this._events[t]=a}}return this},trigger:function(t){if(!this._events)return this;var e=v.call(arguments,1),r=this._events[t];return r&&E(this,r,e),this},listen:function(t,e,r){var i=this;if(t){var n=function(){r.apply(i,arguments)};n.obj=t,n.name=e,n.handler=r,t.on(e,n)}return this},ignore:function(t,e,r){return t.off(e,r),this}}})}),M.Utils.Events.bind=M.Utils.Events.on,M.Utils.Events.unbind=M.Utils.Events.off;var E=function(t,e,r){var i;switch(r.length){case 0:i=function(i){e[i].call(t,r[0])};break;case 1:i=function(i){e[i].call(t,r[0],r[1])};break;case 2:i=function(i){e[i].call(t,r[0],r[1],r[2])};break;case 3:i=function(i){e[i].call(t,r[0],r[1],r[2],r[3])};break;default:i=function(i){e[i].apply(t,r)}}for(var n=0;n<e.length;n++)i(n)};M.Utils.Error.prototype=new Error,M.Utils.Error.prototype.constructor=M.Utils.Error,M.Utils.Collection.prototype=new Array,M.Utils.Collection.prototype.constructor=M.Utils.Collection,o.extend(M.Utils.Collection.prototype,M.Utils.Events,{pop:function(){var t=Array.prototype.pop.apply(this,arguments);return this.trigger(M.Events.remove,[t]),t},shift:function(){var t=Array.prototype.shift.apply(this,arguments);return this.trigger(M.Events.remove,[t]),t},push:function(){var t=Array.prototype.push.apply(this,arguments);return this.trigger(M.Events.insert,arguments),t},unshift:function(){var t=Array.prototype.unshift.apply(this,arguments);return this.trigger(M.Events.insert,arguments),t},splice:function(){var t,e=Array.prototype.splice.apply(this,arguments);return this.trigger(M.Events.remove,e),arguments.length>2&&(t=this.slice(arguments[0],arguments[0]+arguments.length-2),this.trigger(M.Events.insert,t),this.trigger(M.Events.order)),e},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(M.Events.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(M.Events.order),this}});M.Utils.getAnchorsFromArcData;var N=M.Utils.getControlPoints,S=(M.Utils.getCurveFromPoints,M.Utils.solveSegmentIntersection,M.Utils.decoupleShapes,M.Utils.mod),A=M.Utils.getBackingStoreRatio,k=M.Utils.getComponentOnCubicBezier,C=(M.Utils.getCurveLength,M.Utils.integrate),O=M.Utils.getReflection;function F(){var t=document.body.getBoundingClientRect(),e=this.width=t.width,r=this.height=t.height;this.renderer.setSize(e,r,this.ratio)}function R(t,e){this.width=t,this.height=e,this.trigger(M.Events.resize,t,e)}o.extend(M.prototype,M.Utils.Events,{constructor:M,appendTo:function(t){return t.appendChild(this.renderer.domElement),this},play:function(){return M.Utils.setPlaying.call(this,!0),P.init(),this.trigger(M.Events.play)},pause:function(){return this.playing=!1,this.trigger(M.Events.pause)},update:function(){var t=!!this._lastFrame,e=y.now();t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e;var r=this.width,i=this.height,n=this.renderer;return r===n.width&&i===n.height||n.setSize(r,i,this.ratio),this.trigger(M.Events.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(M.Events.render,this.frameCount++)},add:function(t){var e=t;return e instanceof Array||(e=o.toArray(arguments)),this.scene.add(e),this},remove:function(t){var e=t;return e instanceof Array||(e=o.toArray(arguments)),this.scene.remove(e),this},clear:function(){return this.scene.remove(this.scene.children),this},makeLine:function(t,e,r,i){var n=new M.Line(t,e,r,i);return this.scene.add(n),n},makeArrow:function(t,e,r,i,n){var s=o.isNumber(n)?n:10,a=Math.atan2(i-e,r-t),h=[new M.Anchor(t,e,void 0,void 0,void 0,void 0,M.Commands.move),new M.Anchor(r,i,void 0,void 0,void 0,void 0,M.Commands.line),new M.Anchor(r-s*Math.cos(a-Math.PI/4),i-s*Math.sin(a-Math.PI/4),void 0,void 0,void 0,void 0,M.Commands.line),new M.Anchor(r,i,void 0,void 0,void 0,void 0,M.Commands.move),new M.Anchor(r-s*Math.cos(a+Math.PI/4),i-s*Math.sin(a+Math.PI/4),void 0,void 0,void 0,void 0,M.Commands.line)],l=new M.Path(h,!1,!1,!0);return l.noFill(),l.cap="round",l.join="round",this.scene.add(l),l},makeRectangle:function(t,e,r,i){var n=new M.Rectangle(t,e,r,i);return this.scene.add(n),n},makeRoundedRectangle:function(t,e,r,i,n){var s=new M.RoundedRectangle(t,e,r,i,n);return this.scene.add(s),s},makeCircle:function(t,e,r,i){var n=new M.Circle(t,e,r,i);return this.scene.add(n),n},makeEllipse:function(t,e,r,i,n){var s=new M.Ellipse(t,e,r,i,n);return this.scene.add(s),s},makeStar:function(t,e,r,i,n){var s=new M.Star(t,e,r,i,n);return this.scene.add(s),s},makeCurve:function(t){var e=arguments.length,r=t;if(!o.isArray(t)){r=[];for(var i=0;i<e;i+=2){var n=arguments[i];if(!o.isNumber(n))break;var s=arguments[i+1];r.push(new M.Anchor(n,s))}}var a=arguments[e-1],h=new M.Path(r,!(o.isBoolean(a)?a:void 0),!0),l=h.getBoundingClientRect();return h.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(h),h},makePolygon:function(t,e,r,i){var n=new M.Polygon(t,e,r,i);return this.scene.add(n),n},makeArcSegment:function(t,e,r,i,n,s,a){var o=new M.ArcSegment(t,e,r,i,n,s,a);return this.scene.add(o),o},makePath:function(t){var e=arguments.length,r=t;if(!o.isArray(t)){r=[];for(var i=0;i<e;i+=2){var n=arguments[i];if(!o.isNumber(n))break;var s=arguments[i+1];r.push(new M.Anchor(n,s))}}var a=arguments[e-1],h=new M.Path(r,!(o.isBoolean(a)?a:void 0)),l=h.getBoundingClientRect();return o.isNumber(l.top)&&o.isNumber(l.left)&&o.isNumber(l.right)&&o.isNumber(l.bottom)&&h.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(h),h},makeText:function(t,e,r,i){var n=new M.Text(t,e,r,i);return this.add(n),n},makeLinearGradient:function(t,e,r,i){var n=v.call(arguments,4),s=new M.LinearGradient(t,e,r,i,n);return this.add(s),s},makeRadialGradient:function(t,e,r){var i=v.call(arguments,3),n=new M.RadialGradient(t,e,r,i);return this.add(n),n},makeSprite:function(t,e,r,i,n,s,a){var o=new M.Sprite(t,e,r,i,n,s);return a&&o.play(),this.add(o),o},makeImageSequence:function(t,e,r,i,n){var s=new M.ImageSequence(t,e,r,i);return n&&s.play(),this.add(s),s},makeTexture:function(t,e){return new M.Texture(t,e)},makeGroup:function(t){var e=t;e instanceof Array||(e=o.toArray(arguments));var r=new M.Group;return this.scene.add(r),r.add(e),r},interpret:function(t,e,r){var i=t.tagName.toLowerCase();if(r=void 0===r||r,!(i in M.Utils.read))return null;var n=M.Utils.read[i].call(this,t);return r&&this.add(e&&n instanceof M.Group?n.children:n),n},load:function(t,e){var r,i,n,s=new M.Group,a=o.bind((function(t){for(b.temp.innerHTML=t,i=0;i<b.temp.children.length;i++)if(r=b.temp.children[i],/svg/i.test(r.nodeName))for(n=0;n<r.children.length;n++)s.add(this.interpret(r.children[n]));else s.add(this.interpret(r));if(o.isFunction(e)){var a=b.temp.children.length<=1?b.temp.children[0]:b.temp.children;e(s,a)}}),this);return/.*\.svg$/gi.test(t)?(M.Utils.xhr(t,a),s):(a(t),s)}});var P=b.getRequestAnimationFrame();function T(){for(var t=0;t<M.Instances.length;t++){var e=M.Instances[t];e.playing&&e.update()}M.nextFrameID=P(T)}return t.exports?t.exports=M:void 0===(i=function(){return M}.apply(e,[]))||(t.exports=i),M}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils,r=t.Registry=function(){this.map={}};e.extend(r.prototype,{constructor:r,add:function(t,e){return this.map[t]=e,this},remove:function(t){return delete this.map[t],this},get:function(t){return this.map[t]},contains:function(t){return t in this.map}})}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils,r=t.Vector=function(t,e){this.x=t||0,this.y=e||0};e.extend(r,{zero:new t.Vector,add:function(t,e){return new r(t.x+e.x,t.y+e.y)},sub:function(t,e){return new r(t.x-e.x,t.y-e.y)},subtract:function(t,e){return r.sub(t,e)},ratioBetween:function(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())},angleBetween:function(t,e){var r,i;return arguments.length>=4?(r=arguments[0]-arguments[2],i=arguments[1]-arguments[3],Math.atan2(i,r)):(r=t.x-e.x,i=t.y-e.y,Math.atan2(i,r))},distanceBetween:function(t,e){return Math.sqrt(r.distanceBetweenSquared(t,e))},distanceBetweenSquared:function(t,e){var r=t.x-e.x,i=t.y-e.y;return r*r+i*i},MakeObservable:function(r){r.bind=r.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,"x",n),Object.defineProperty(this,"y",s),e.extend(this,i),this._bound=!0),t.Utils.Events.bind.apply(this,arguments),this}}}),e.extend(r.prototype,t.Utils.Events,{constructor:r,set:function(t,e){return this.x=t,this.y=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new r(this.x,this.y)},add:function(t,r){return arguments.length<=0||(arguments.length<=1?e.isNumber(t)?(this.x+=t,this.y+=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=r)),this},addSelf:function(t){return this.add.apply(this,arguments)},sub:function(t,r){return arguments.length<=0||(arguments.length<=1?e.isNumber(t)?(this.x-=t,this.y-=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=r)),this},subtract:function(){return this.sub.apply(this,arguments)},subSelf:function(t){return this.sub.apply(this,arguments)},subtractSelf:function(t){return this.sub.apply(this,arguments)},multiply:function(t,r){return arguments.length<=0||(arguments.length<=1?e.isNumber(t)?(this.x*=t,this.y*=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=r)),this},multiplySelf:function(t){return this.multiply.apply(this,arguments)},multiplyScalar:function(t){return this.multiply(t)},divide:function(t,r){return arguments.length<=0||(arguments.length<=1?e.isNumber(t)?(this.x/=t,this.y/=t):t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=r),e.isNaN(this.x)&&(this.x=0),e.isNaN(this.y)&&(this.y=0)),this},divideSelf:function(t){return this.divide.apply(this,arguments)},divideScalar:function(t){return this.divide(t)},negate:function(){return this.multiply(-1)},dot:function(t){return this.x*t.x+this.y*t.y},length:function(){return Math.sqrt(this.lengthSquared())},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e=void 0===e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){var r=(t.x-this.x)*e+this.x,i=(t.y-this.y)*e+this.y;return this.set(r,i)},isZero:function(t){return t=void 0===t?1e-4:t,this.length()<t},toString:function(){return this.x+", "+this.y},toObject:function(){return{x:this.x,y:this.y}},rotate:function(t){var e=Math.cos(t),r=Math.sin(t);return this.x=this.x*e-this.y*r,this.y=this.x*r+this.y*e,this}});var i={constructor:r,set:function(e,r){return this._x=e,this._y=r,this.trigger(t.Events.change)},copy:function(e){return this._x=e.x,this._y=e.y,this.trigger(t.Events.change)},clear:function(){return this._x=0,this._y=0,this.trigger(t.Events.change)},clone:function(){return new r(this._x,this._y)},add:function(r,i){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(r)?(this._x+=r,this._y+=r):r&&e.isNumber(r.x)&&e.isNumber(r.y)&&(this._x+=r.x,this._y+=r.y):(this._x+=r,this._y+=i),this.trigger(t.Events.change))},sub:function(r,i){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(r)?(this._x-=r,this._y-=r):r&&e.isNumber(r.x)&&e.isNumber(r.y)&&(this._x-=r.x,this._y-=r.y):(this._x-=r,this._y-=i),this.trigger(t.Events.change))},multiply:function(r,i){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(r)?(this._x*=r,this._y*=r):r&&e.isNumber(r.x)&&e.isNumber(r.y)&&(this._x*=r.x,this._y*=r.y):(this._x*=r,this._y*=i),this.trigger(t.Events.change))},divide:function(r,i){return arguments.length<=0?this:(arguments.length<=1?e.isNumber(r)?(this._x/=r,this._y/=r):r&&e.isNumber(r.x)&&e.isNumber(r.y)&&(this._x/=r.x,this._y/=r.y):(this._x/=r,this._y/=i),e.isNaN(this._x)&&(this._x=0),e.isNaN(this._y)&&(this._y=0),this.trigger(t.Events.change))},dot:function(t){return this._x*t.x+this._y*t.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},distanceToSquared:function(t){var e=this._x-t.x,r=this._y-t.y;return e*e+r*r},lerp:function(t,e){var r=(t.x-this._x)*e+this._x,i=(t.y-this._y)*e+this._y;return this.set(r,i)},toString:function(){return this._x+", "+this._y},toObject:function(){return{x:this._x,y:this._y}},rotate:function(t){var e=Math.cos(t),r=Math.sin(t);return this._x=this._x*e-this._y*r,this._y=this._x*r+this._y*e,this}},n={enumerable:!0,get:function(){return this._x},set:function(e){this._x=e,this.trigger(t.Events.change,"x")}},s={enumerable:!0,get:function(){return this._y},set:function(e){this._y=e,this.trigger(t.Events.change,"y")}};r.MakeObservable(r.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Commands,r=t.Utils,i=t.Anchor=function(i,n,s,a,o,h,l){t.Vector.call(this,i,n),this._broadcast=r.bind((function(){this.trigger(t.Events.change)}),this),this._command=l||e.move,this._relative=!0;var c=r.isNumber(s),u=r.isNumber(a),f=r.isNumber(o),d=r.isNumber(h);(c||u||f||d)&&t.Anchor.AppendCurveProperties(this),c&&(this.controls.left.x=s),u&&(this.controls.left.y=a),f&&(this.controls.right.x=o),d&&(this.controls.right.y=h)};r.extend(t.Anchor,{AppendCurveProperties:function(e){e.relative=!0,e.controls={},e.controls.left=new t.Vector(0,0),e.controls.right=new t.Vector(0,0)},MakeObservable:function(s){Object.defineProperty(s,"command",{enumerable:!0,get:function(){return this._command},set:function(n){return this._command=n,this._command!==e.curve||r.isObject(this.controls)||i.AppendCurveProperties(this),this.trigger(t.Events.change)}}),Object.defineProperty(s,"relative",{enumerable:!0,get:function(){return this._relative},set:function(e){return this._relative==e?this:(this._relative=!!e,this.trigger(t.Events.change))}}),r.extend(s,t.Vector.prototype,n),s.bind=s.on=function(){var e=this._bound;t.Vector.prototype.bind.apply(this,arguments),e||r.extend(this,n)}}});var n={constructor:t.Anchor,listen:function(){return r.isObject(this.controls)||t.Anchor.AppendCurveProperties(this),this.controls.left.bind(t.Events.change,this._broadcast),this.controls.right.bind(t.Events.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(t.Events.change,this._broadcast),this.controls.right.unbind(t.Events.change,this._broadcast),this},copy:function(e){return this.x=e.x,this.y=e.y,r.isString(e.command)&&(this.command=e.command),r.isObject(e.controls)&&(r.isObject(this.controls)||t.Anchor.AppendCurveProperties(this),this.controls.left.copy(e.controls.left),this.controls.right.copy(e.controls.right)),r.isBoolean(e.relative)&&(this.relative=e.relative),this.command===t.Commands.arc&&(this.rx=e.rx,this.ry=e.ry,this.xAxisRotation=e.xAxisRotation,this.largeArcFlag=e.largeArcFlag,this.sweepFlag=e.sweepFlag),this},clone:function(){var e=this.controls,r=new t.Anchor(this.x,this.y,e&&e.left.x,e&&e.left.y,e&&e.right.x,e&&e.right.y,this.command);return r.relative=this._relative,r},toObject:function(){var t={x:this.x,y:this.y};return this._command&&(t.command=this._command),this._relative&&(t.relative=this._relative),this.controls&&(t.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),t},toString:function(){return this.controls?[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y,this._command,this._relative?1:0].join(", "):[this._x,this._y].join(", ")}};t.Anchor.MakeObservable(t.Anchor.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=Math.cos,r=Math.sin,i=Math.tan,n=t.Utils,s=[],a=t.Matrix=function(e,r,i,s,a,o){this.elements=new t.Array(9);var h=e;n.isArray(h)||(h=n.toArray(arguments)),this.identity(),h.length>0&&this.set(h)};n.extend(a,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(e,r,i){if(r.length<=3){var n=e,s=r[0]||0,a=r[1]||0,o=r[2]||0;return{x:n[0]*s+n[1]*a+n[2]*o,y:n[3]*s+n[4]*a+n[5]*o,z:n[6]*s+n[7]*a+n[8]*o}}var h=e[0],l=e[1],c=e[2],u=e[3],f=e[4],d=e[5],p=e[6],g=e[7],m=e[8],_=r[0],v=r[1],y=r[2],x=r[3],w=r[4],b=r[5],M=r[6],E=r[7],N=r[8];return(i=i||new t.Array(9))[0]=h*_+l*x+c*M,i[1]=h*v+l*w+c*E,i[2]=h*y+l*b+c*N,i[3]=u*_+f*x+d*M,i[4]=u*v+f*w+d*E,i[5]=u*y+f*b+d*N,i[6]=p*_+g*x+m*M,i[7]=p*v+g*w+m*E,i[8]=p*y+g*b+m*N,i}}),n.extend(a.prototype,t.Utils.Events,{constructor:a,manual:!1,set:function(e,r,i,s,a,o,h,l,c){var u;return n.isUndefined(r)&&(e=(u=e)[0],r=u[1],i=u[2],s=u[3],a=u[4],o=u[5],h=u[6],l=u[7],c=u[8]),this.elements[0]=e,this.elements[1]=r,this.elements[2]=i,this.elements[3]=s,this.elements[4]=a,this.elements[5]=o,this.elements[6]=h,this.elements[7]=l,this.elements[8]=c,this.trigger(t.Events.change)},copy:function(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(t.Events.change)},identity:function(){return this.elements[0]=a.Identity[0],this.elements[1]=a.Identity[1],this.elements[2]=a.Identity[2],this.elements[3]=a.Identity[3],this.elements[4]=a.Identity[4],this.elements[5]=a.Identity[5],this.elements[6]=a.Identity[6],this.elements[7]=a.Identity[7],this.elements[8]=a.Identity[8],this.trigger(t.Events.change)},multiply:function(e,r,i,s,a,o,h,l,c){if(n.isUndefined(r))return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(t.Events.change);if(n.isUndefined(s))return e=e||0,r=r||0,i=i||0,{x:(a=this.elements)[0]*e+a[1]*r+a[2]*i,y:a[3]*e+a[4]*r+a[5]*i,z:a[6]*e+a[7]*r+a[8]*i};var u=this.elements,f=[e,r,i,s,a,o,h,l,c],d=u[0],p=u[1],g=u[2],m=u[3],_=u[4],v=u[5],y=u[6],x=u[7],w=u[8],b=f[0],M=f[1],E=f[2],N=f[3],S=f[4],A=f[5],k=f[6],C=f[7],O=f[8];return this.elements[0]=d*b+p*N+g*k,this.elements[1]=d*M+p*S+g*C,this.elements[2]=d*E+p*A+g*O,this.elements[3]=m*b+_*N+v*k,this.elements[4]=m*M+_*S+v*C,this.elements[5]=m*E+_*A+v*O,this.elements[6]=y*b+x*N+w*k,this.elements[7]=y*M+x*S+w*C,this.elements[8]=y*E+x*A+w*O,this.trigger(t.Events.change)},inverse:function(e){var r=this.elements;e=e||new t.Matrix;var i=r[0],n=r[1],s=r[2],a=r[3],o=r[4],h=r[5],l=r[6],c=r[7],u=r[8],f=u*o-h*c,d=-u*a+h*l,p=c*a-o*l,g=i*f+n*d+s*p;return g?(g=1/g,e.elements[0]=f*g,e.elements[1]=(-u*n+s*c)*g,e.elements[2]=(h*n-s*o)*g,e.elements[3]=d*g,e.elements[4]=(u*i-s*l)*g,e.elements[5]=(-h*i+s*a)*g,e.elements[6]=p*g,e.elements[7]=(-c*i+n*l)*g,e.elements[8]=(o*i-n*a)*g,e):null},scale:function(t,e){var r=arguments.length;return r<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)},rotate:function(t){var i=e(t),n=r(t);return this.multiply(i,-n,0,n,i,0,0,0,1)},translate:function(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)},skewX:function(t){var e=i(t);return this.multiply(1,e,0,0,1,0,0,0,1)},skewY:function(t){var e=i(t);return this.multiply(1,0,0,e,1,0,0,0,1)},toString:function(e){return s.length=0,this.toTransformArray(e,s),s.map(t.Utils.toFixed).join(" ")},toTransformArray:function(t,e){var r=this.elements,i=!!e,n=r[0],s=r[1],a=r[2],o=r[3],h=r[4],l=r[5];if(t){var c=r[6],u=r[7],f=r[8];return i?(e[0]=n,e[1]=o,e[2]=c,e[3]=s,e[4]=h,e[5]=u,e[6]=a,e[7]=l,void(e[8]=f)):[n,o,c,s,h,u,a,l,f]}return i?(e[0]=n,e[1]=o,e[2]=s,e[3]=h,e[4]=a,void(e[5]=l)):[n,o,s,h,a,l]},toArray:function(t,e){var r=this.elements,i=!!e,n=r[0],s=r[1],a=r[2],o=r[3],h=r[4],l=r[5];if(t){var c=r[6],u=r[7],f=r[8];return i?(e[0]=n,e[1]=s,e[2]=a,e[3]=o,e[4]=h,e[5]=l,e[6]=c,e[7]=u,void(e[8]=f)):[n,s,a,o,h,l,c,u,f]}return i?(e[0]=n,e[1]=s,e[2]=a,e[3]=o,e[4]=h,void(e[5]=l)):[n,s,a,o,h,l]},toObject:function(){return{elements:this.toArray(!0),manual:!!this.manual}},clone:function(){return(new t.Matrix).copy(this)}})}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils.mod,r=t.Utils.toFixed,i=t.Utils,n={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){var r=t,s=document.createElementNS(n.ns,r);return"svg"===r&&(e=i.defaults(e||{},{version:n.version})),i.isEmpty(e)||n.setAttributes(s,e),s},setAttributes:function(t,e){for(var r=Object.keys(e),i=0;i<r.length;i++)/href/.test(r[i])?t.setAttributeNS(n.xlink,r[i],e[r[i]]):t.setAttribute(r[i],e[r[i]]);return this},removeAttributes:function(t,e){for(var r in e)t.removeAttribute(r);return this},toString:function(i,n){for(var s,a=i.length,o=a-1,h="",l=0;l<a;l++){var c,u,f,d,p,g,m,_,v,y,x,w,b,M,E=i[l],N=n?e(l-1,a):Math.max(l-1,0),S=n?e(l+1,a):Math.min(l+1,o),A=i[N],k=i[S],C=r(E.x),O=r(E.y);switch(E.command){case t.Commands.close:c=t.Commands.close;break;case t.Commands.arc:y=E.rx,x=E.ry,w=E.xAxisRotation,b=E.largeArcFlag,M=E.sweepFlag,c=t.Commands.arc+" "+y+" "+x+" "+w+" "+b+" "+M+" "+C+" "+O;break;case t.Commands.curve:g=A.controls&&A.controls.right||t.Vector.zero,m=E.controls&&E.controls.left||t.Vector.zero,A.relative?(u=r(g.x+A.x),f=r(g.y+A.y)):(u=r(g.x),f=r(g.y)),E.relative?(d=r(m.x+E.x),p=r(m.y+E.y)):(d=r(m.x),p=r(m.y)),c=(0===l?t.Commands.move:t.Commands.curve)+" "+u+" "+f+" "+d+" "+p+" "+C+" "+O;break;case t.Commands.move:s=E,c=t.Commands.move+" "+C+" "+O;break;default:c=E.command+" "+C+" "+O}l>=o&&n&&(E.command===t.Commands.curve&&(k=s,_=E.controls&&E.controls.right||E,v=k.controls&&k.controls.left||k,E.relative?(u=r(_.x+E.x),f=r(_.y+E.y)):(u=r(_.x),f=r(_.y)),k.relative?(d=r(v.x+k.x),p=r(v.y+k.y)):(d=r(v.x),p=r(v.y)),c+=" C "+u+" "+f+" "+d+" "+p+" "+(C=r(k.x))+" "+(O=r(k.y))),E.command!==t.Commands.close&&(c+=" Z")),h+=c+" "}return h},getClip:function(t){var e=t._renderer.clip;if(!e){for(var r=t;r.parent;)r=r.parent;e=t._renderer.clip=n.createElement("clipPath"),r.defs.appendChild(e)}return e},group:{appendChild:function(t){var e=t._renderer.elem;if(e){var r=e.nodeName;!r||/(radial|linear)gradient/i.test(r)||t._clip||this.elem.appendChild(e)}},removeChild:function(t){var e=t._renderer.elem;e&&e.parentNode==this.elem&&(e.nodeName&&(t._clip||this.elem.removeChild(e)))},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){n[t._renderer.type].render.call(t,this)},render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;this._renderer.elem||(this._renderer.elem=n.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));var e=this._matrix.manual||this._flagMatrix,r={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(var i=0;i<this.children.length;i++){var s=this.children[i];n[s._renderer.type].render.call(s,t)}return this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(n.group.appendChild,r),this._flagSubtractions&&this.subtractions.forEach(n.group.removeChild,r),this._flagOrder&&this.children.forEach(n.group.orderChild,r),this._flagMask&&(this._mask?this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")"):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},path:{render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagVertices){var r=n.toString(this._renderer.vertices,this._closed);e.d=r}if(this._fill&&this._fill._renderer&&(this._fill._update(),n[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),n[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?n.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=n.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){var i=n.getClip(this),s=this._renderer.elem;this._clip?(s.removeAttribute("id"),i.setAttribute("id",this.id),i.appendChild(s)):(i.removeAttribute("id"),s.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(s))}return this.flagReset()}},text:{render:function(t){this._update();var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=n.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),n[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),n[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?n.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=n.createElement("text",e),t.defs.appendChild(this._renderer.elem)),this._flagClip){var r=n.getClip(this),i=this._renderer.elem;this._clip?(i.removeAttribute("id"),r.setAttribute("id",this.id),r.appendChild(i)):(r.removeAttribute("id"),i.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(i))}return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();var r={};if(this._flagEndPoints&&(r.x1=this.left._x,r.y1=this.left._y,r.x2=this.right._x,r.y2=this.right._y),this._flagSpread&&(r.spreadMethod=this._spread),this._renderer.elem?n.setAttributes(this._renderer.elem,r):(r.id=this.id,r.gradientUnits="userSpaceOnUse",this._renderer.elem=n.createElement("linearGradient",r),t.defs.appendChild(this._renderer.elem)),this._flagStops){var i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var s=0;s<this.stops.length;s++){var a=this.stops[s],o={};a._flagOffset&&(o.offset=100*a._offset+"%"),a._flagColor&&(o["stop-color"]=a._color),a._flagOpacity&&(o["stop-opacity"]=a._opacity),a._renderer.elem?n.setAttributes(a._renderer.elem,o):a._renderer.elem=n.createElement("stop",o),i&&this._renderer.elem.appendChild(a._renderer.elem),a.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();var r={};if(this._flagCenter&&(r.cx=this.center._x,r.cy=this.center._y),this._flagFocal&&(r.fx=this.focal._x,r.fy=this.focal._y),this._flagRadius&&(r.r=this._radius),this._flagSpread&&(r.spreadMethod=this._spread),this._renderer.elem?n.setAttributes(this._renderer.elem,r):(r.id=this.id,r.gradientUnits="userSpaceOnUse",this._renderer.elem=n.createElement("radialGradient",r),t.defs.appendChild(this._renderer.elem)),this._flagStops){var i=this._renderer.elem.childNodes.length!==this.stops.length;if(i)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var s=0;s<this.stops.length;s++){var a=this.stops[s],o={};a._flagOffset&&(o.offset=100*a._offset+"%"),a._flagColor&&(o["stop-color"]=a._color),a._flagOpacity&&(o["stop-opacity"]=a._opacity),a._renderer.elem?n.setAttributes(a._renderer.elem,o):a._renderer.elem=n.createElement("stop",o),i&&this._renderer.elem.appendChild(a._renderer.elem),a.flagReset()}}return this.flagReset()}},texture:{render:function(e,r){r||this._update();var s={},a={x:0,y:0},o=this.image;if(this._flagLoaded&&this.loaded)switch(o.nodeName.toLowerCase()){case"canvas":a.href=a["xlink:href"]=o.toDataURL("image/png");break;case"img":case"image":a.href=a["xlink:href"]=this.src}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(s.x=this._offset.x,s.y=this._offset.y,o&&(s.x-=o.width/2,s.y-=o.height/2,this._scale instanceof t.Vector?(s.x*=this._scale.x,s.y*=this._scale.y):(s.x*=this._scale,s.y*=this._scale)),s.x>0&&(s.x*=-1),s.y>0&&(s.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(s.width=0,s.height=0,o)){switch(a.width=s.width=o.width,a.height=s.height=o.height,this._repeat){case"no-repeat":s.width+=1,s.height+=1}this._scale instanceof t.Vector?(s.width*=this._scale.x,s.height*=this._scale.y):(s.width*=this._scale,s.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?i.isEmpty(a)||n.setAttributes(this._renderer.image,a):this._renderer.image=n.createElement("image",a)),this._renderer.elem?i.isEmpty(s)||n.setAttributes(this._renderer.elem,s):(s.id=this.id,s.patternUnits="userSpaceOnUse",this._renderer.elem=n.createElement("pattern",s),e.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},s=t[t.Types.svg]=function(e){this.domElement=e.domElement||n.createElement("svg"),this.scene=new t.Group,this.scene.parent=this,this.defs=n.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"};i.extend(s,{Utils:n}),i.extend(s.prototype,t.Utils.Events,{constructor:s,setSize:function(e,r){return this.width=e,this.height=r,n.setAttributes(this.domElement,{width:e,height:r}),this.trigger(t.Events.resize,e,r)},render:function(){return n.group.render.call(this.scene,this.domElement),this}})}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils.mod,r=t.Utils.getRatio,i=t.Utils,n=[],s=2*Math.PI,a=Math.max,o=Math.min,h=Math.abs,l=Math.sin,c=Math.cos,u=Math.acos,f=Math.sqrt,d=function(t){return 1==t[0]&&0==t[3]&&0==t[1]&&1==t[4]&&0==t[2]&&0==t[5]},p={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t,e){return t.tagName=t.nodeName=e||"canvas",t.nodeType=1,t.getAttribute=function(t){return this[t]},t.setAttribute=function(t,e){return this[t]=e,this},t},group:{renderChild:function(t){p[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){this._update();var e=this._matrix.elements,r=this.parent;this._renderer.opacity=this._opacity*(r&&r._renderer?r._renderer.opacity:1);var i=this._mask,n=d(e),s=!n||!!i;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,s&&(t.save(),n||t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),i&&p[i._renderer.type].render.call(i,t,!0),this.opacity>0&&0!==this.scale)for(var a=0;a<this.children.length;a++){var o=this.children[a];p[o._renderer.type].render.call(o,t)}return s&&t.restore(),this.flagReset()}},path:{render:function(r,s,o){var h,l,c,u,f,g,m,_,v,y,x,w,b,M,E,N,S,A,k,C,O,F,R,P,T,I,U,j,z,L,B,D,V;if(this._update(),h=this._matrix.elements,l=this._stroke,c=this._linewidth,u=this._fill,f=this._opacity*this.parent._renderer.opacity,g=this._visible,m=this._cap,_=this._join,v=this._miter,y=this._closed,b=(w=(x=this._renderer.vertices).length)-1,B=d(h),V=this.dashes,L=this._clip,!s&&(!g||L))return this;B||(r.save(),r.transform(h[0],h[3],h[1],h[4],h[2],h[5])),u&&(i.isString(u)?r.fillStyle=u:(p[u._renderer.type].render.call(u,r),r.fillStyle=u._renderer.effect)),l&&(i.isString(l)?r.strokeStyle=l:(p[l._renderer.type].render.call(l,r),r.strokeStyle=l._renderer.effect),c&&(r.lineWidth=c),v&&(r.miterLimit=v),_&&(r.lineJoin=_),!y&&m&&(r.lineCap=m)),i.isNumber(f)&&(r.globalAlpha=f),V&&V.length>0&&(r.lineDashOffset=V.offset||0,r.setLineDash(V)),r.beginPath();for(var q=0;q<x.length;q++)switch(j=(S=x[q]).x,z=S.y,S.command){case t.Commands.close:r.closePath();break;case t.Commands.arc:var G=S.rx,H=S.ry,Z=S.xAxisRotation,W=S.largeArcFlag,J=S.sweepFlag,X=(N=x[E=y?e(q-1,w):a(q-1,0)]).x,Y=N.y;p.renderSvgArcCommand(r,X,Y,G,H,W,J,Z,j,z);break;case t.Commands.curve:E=y?e(q-1,w):Math.max(q-1,0),M=y?e(q+1,w):Math.min(q+1,b),N=x[E],A=x[M],P=N.controls&&N.controls.right||t.Vector.zero,T=S.controls&&S.controls.left||t.Vector.zero,N._relative?(F=P.x+N.x,R=P.y+N.y):(F=P.x,R=P.y),S._relative?(C=T.x+S.x,O=T.y+S.y):(C=T.x,O=T.y),r.bezierCurveTo(F,R,C,O,j,z),q>=b&&y&&(A=k,I=S.controls&&S.controls.right||t.Vector.zero,U=A.controls&&A.controls.left||t.Vector.zero,S._relative?(F=I.x+S.x,R=I.y+S.y):(F=I.x,R=I.y),A._relative?(C=U.x+A.x,O=U.y+A.y):(C=U.x,O=U.y),j=A.x,z=A.y,r.bezierCurveTo(F,R,C,O,j,z));break;case t.Commands.line:r.lineTo(j,z);break;case t.Commands.move:k=S,r.moveTo(j,z)}return y&&r.closePath(),L||o||(p.isHidden.test(u)||((D=u._renderer&&u._renderer.offset)&&(r.save(),r.translate(-u._renderer.offset.x,-u._renderer.offset.y),r.scale(u._renderer.scale.x,u._renderer.scale.y)),r.fill(),D&&r.restore()),p.isHidden.test(l)||((D=l._renderer&&l._renderer.offset)&&(r.save(),r.translate(-l._renderer.offset.x,-l._renderer.offset.y),r.scale(l._renderer.scale.x,l._renderer.scale.y),r.lineWidth=c/l._renderer.scale.x),r.stroke(),D&&r.restore())),B||r.restore(),L&&!o&&r.clip(),V&&V.length>0&&r.setLineDash(n),this.flagReset()}},text:{render:function(t,e,r){this._update();var s,a,o,h,l,c,u,f=this._matrix.elements,g=this._stroke,m=this._linewidth,_=this._fill,v=this._opacity*this.parent._renderer.opacity,y=this._visible,x=d(f),w=_._renderer&&_._renderer.offset&&g._renderer&&g._renderer.offset,b=this.dashes,M=this._clip;return e||y&&!M?(x||(t.save(),t.transform(f[0],f[3],f[1],f[4],f[2],f[5])),w||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=p.alignments[this._alignment]||this._alignment,t.textBaseline=this._baseline,_&&(i.isString(_)?t.fillStyle=_:(p[_._renderer.type].render.call(_,t),t.fillStyle=_._renderer.effect)),g&&(i.isString(g)?t.strokeStyle=g:(p[g._renderer.type].render.call(g,t),t.strokeStyle=g._renderer.effect),m&&(t.lineWidth=m)),i.isNumber(v)&&(t.globalAlpha=v),b&&b.length>0&&(t.lineDashOffset=b.offset||0,t.setLineDash(b)),M||r||(p.isHidden.test(_)||(_._renderer&&_._renderer.offset?(c=_._renderer.scale.x,u=_._renderer.scale.y,t.save(),t.translate(-_._renderer.offset.x,-_._renderer.offset.y),t.scale(c,u),s=this._size/_._renderer.scale.y,a=this._leading/_._renderer.scale.y,t.font=[this._style,this._weight,s+"px/",a+"px",this._family].join(" "),o=_._renderer.offset.x/_._renderer.scale.x,h=_._renderer.offset.y/_._renderer.scale.y,t.fillText(this.value,o,h),t.restore()):t.fillText(this.value,0,0)),p.isHidden.test(g)||(g._renderer&&g._renderer.offset?(c=g._renderer.scale.x,u=g._renderer.scale.y,t.save(),t.translate(-g._renderer.offset.x,-g._renderer.offset.y),t.scale(c,u),s=this._size/g._renderer.scale.y,a=this._leading/g._renderer.scale.y,t.font=[this._style,this._weight,s+"px/",a+"px",this._family].join(" "),o=g._renderer.offset.x/g._renderer.scale.x,h=g._renderer.offset.y/g._renderer.scale.y,l=m/g._renderer.scale.x,t.lineWidth=l,t.strokeText(this.value,o,h),t.restore()):t.strokeText(this.value,0,0))),x||t.restore(),M&&!r&&t.clip(),b&&b.length>0&&t.setLineDash(n),this.flagReset()):this}},"linear-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var e=0;e<this.stops.length;e++){var r=this.stops[e];this._renderer.effect.addColorStop(r._offset,r._color)}}return this.flagReset()}},"radial-gradient":{render:function(t){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var e=0;e<this.stops.length;e++){var r=this.stops[e];this._renderer.effect.addColorStop(r._offset,r._color)}}return this.flagReset()}},texture:{render:function(e){this._update();var r=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof t.Vector||(this._renderer.offset=new t.Vector),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,r&&(this._renderer.offset.x+=r.width/2,this._renderer.offset.y+=r.height/2,this._scale instanceof t.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(r,i,n,o,u,d,p,g,_,v){g=g*Math.PI/180,o=h(o),u=h(u);var y=(i-_)/2,x=(n-v)/2,w=c(g)*y+l(g)*x,b=-l(g)*y+c(g)*x,M=o*o,E=u*u,N=w*w,S=b*b,A=N/M+S/E;if(A>1){var k=f(A);M=(o*=k)*o,E=(u*=k)*u}var C=M*S+E*N,O=f(a(0,(M*E-C)/C));d===p&&(O=-O);var F=O*o*b/u,R=-O*u*w/o,P=c(g)*F-l(g)*R+(i+_)/2,T=l(g)*F+c(g)*R+(n+v)/2,I=m(1,0,(w-F)/o,(b-R)/u);!function(r,i,n,a,o,h,l,c,u){var f=t.Utils.Curve.Tolerance.epsilon,d=l-h,p=Math.abs(d)<f;(d=e(d,s))<f&&(d=p?0:s);!0!==c||p||(d===s?d=-s:d-=s);for(var g=0;g<t.Resolution;g++){var m=g/(t.Resolution-1),_=h+m*d,v=i+a*Math.cos(_),y=n+o*Math.sin(_);if(0!==u){var x=Math.cos(u),w=Math.sin(u),b=v-i,M=y-n;v=b*x-M*w+i,y=b*w+M*x+n}r.lineTo(v,y)}}(r,P,T,o,u,I,I+m((w-F)/o,(b-R)/u,(-w-F)/o,(-b-R)/u)%s,0===p,g)}},g=t[t.Types.canvas]=function(e){var r=!1!==e.smoothing;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,i.isUndefined(this.ctx.imageSmoothingEnabled)||(this.ctx.imageSmoothingEnabled=r),this.scene=new t.Group,this.scene.parent=this};function m(t,e,r,i){var n=t*r+e*i,s=f(t*t+e*e)*f(r*r+i*i),h=u(a(-1,o(1,n/s)));return t*i-e*r<0&&(h=-h),h}i.extend(g,{Utils:p}),i.extend(g.prototype,t.Utils.Events,{constructor:g,setSize:function(e,n,s){return this.width=e,this.height=n,this.ratio=i.isUndefined(s)?r(this.ctx):s,this.domElement.width=e*this.ratio,this.domElement.height=n*this.ratio,this.domElement.style&&i.extend(this.domElement.style,{width:e+"px",height:n+"px"}),this.trigger(t.Events.resize,e,n,s)},render:function(){var t=1===this.ratio;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),p.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}})}((void 0!==r?r:this||self||window).Two),function(t){var e=t.root,r=t.Matrix.Multiply,i=t.Utils.mod,n=[1,0,0,0,1,0,0,0,1],s=new t.Array(9),a=t.Utils.getRatio,o=(t.Utils.getComputedMatrix,t[t.Types.canvas].Utils),h=t.Utils,l={isHidden:/(undefined|none|transparent)/i,canvas:e.document?e.document.createElement("canvas"):{getContext:h.identity},alignments:{left:"start",middle:"center",right:"end"},matrix:new t.Matrix,group:{removeChild:function(t,e){if(t.children)for(var r=0;r<t.children.length;r++)l.group.removeChild(t.children[r],e);else e.deleteTexture(t._renderer.texture),delete t._renderer.texture},render:function(e,i){this._update();var n,a=this.parent,o=a._matrix&&a._matrix.manual||a._flagMatrix,h=this._matrix.manual||this._flagMatrix;if((o||h)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toTransformArray(!0,s),r(s,a._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(a._renderer.type)||(this._renderer.scale.x*=a._renderer.scale.x,this._renderer.scale.y*=a._renderer.scale.y),o&&(this._flagMatrix=!0)),this._mask&&(e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),l[this._mask._renderer.type].render.call(this._mask,e,i,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)),this._flagOpacity=a._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(a&&a._renderer?a._renderer.opacity:1),this._flagSubtractions)for(n=0;n<this.subtractions.length;n++)l.group.removeChild(this.subtractions[n],e);for(n=0;n<this.children.length;n++){var c=this.children[n];l[c._renderer.type].render.call(c,e,i)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e){var r,n,s,a,c,u,f,d,p,g,m,_,v,y,x,w=e._renderer.vertices,b=this.canvas,M=this.ctx,E=e._renderer.scale,N=e._stroke,S=e._linewidth,A=e._fill,k=e._renderer.opacity||e._opacity,C=e._cap,O=e._join,F=e._miter,R=e._closed,P=e.dashes,T=w.length,I=T-1;b.width=Math.max(Math.ceil(e._renderer.rect.width*E.x),1),b.height=Math.max(Math.ceil(e._renderer.rect.height*E.y),1);var U,j=e._renderer.rect.centroid,z=j.x,L=j.y;M.clearRect(0,0,b.width,b.height),A&&(h.isString(A)?M.fillStyle=A:(l[A._renderer.type].render.call(A,M,e),M.fillStyle=A._renderer.effect)),N&&(h.isString(N)?M.strokeStyle=N:(l[N._renderer.type].render.call(N,M,e),M.strokeStyle=N._renderer.effect),S&&(M.lineWidth=S),F&&(M.miterLimit=F),O&&(M.lineJoin=O),!R&&C&&(M.lineCap=C)),h.isNumber(k)&&(M.globalAlpha=k),P&&P.length>0&&(M.lineDashOffset=P.offset||0,M.setLineDash(P)),M.save(),M.scale(E.x,E.y),M.translate(z,L),M.beginPath();for(var B=0;B<w.length;B++){var D=w[B];switch(v=D.x,y=D.y,D.command){case t.Commands.close:M.closePath();break;case t.Commands.arc:var V=D.rx,q=D.ry,G=D.xAxisRotation,H=D.largeArcFlag,Z=D.sweepFlag,W=(s=w[n=R?i(B-1,T):Math.max(B-1,0)]).x,J=s.y;o.renderSvgArcCommand(M,W,J,V,q,H,Z,G,v,y);break;case t.Commands.curve:n=R?i(B-1,T):Math.max(B-1,0),r=R?i(B+1,T):Math.min(B+1,I),s=w[n],a=w[r],p=s.controls&&s.controls.right||t.Vector.zero,g=D.controls&&D.controls.left||t.Vector.zero,s._relative?(f=p.x+s.x,d=p.y+s.y):(f=p.x,d=p.y),D._relative?(c=g.x+D.x,u=g.y+D.y):(c=g.x,u=g.y),M.bezierCurveTo(f,d,c,u,v,y),B>=I&&R&&(a=U,m=D.controls&&D.controls.right||t.Vector.zero,_=a.controls&&a.controls.left||t.Vector.zero,D._relative?(f=m.x+D.x,d=m.y+D.y):(f=m.x,d=m.y),a._relative?(c=_.x+a.x,u=_.y+a.y):(c=_.x,u=_.y),v=a.x,y=a.y,M.bezierCurveTo(f,d,c,u,v,y));break;case t.Commands.line:M.lineTo(v,y);break;case t.Commands.move:U=D,M.moveTo(v,y)}}R&&M.closePath(),l.isHidden.test(A)||((x=A._renderer&&A._renderer.offset)&&(M.save(),M.translate(-A._renderer.offset.x,-A._renderer.offset.y),M.scale(A._renderer.scale.x,A._renderer.scale.y)),M.fill(),x&&M.restore()),l.isHidden.test(N)||((x=N._renderer&&N._renderer.offset)&&(M.save(),M.translate(-N._renderer.offset.x,-N._renderer.offset.y),M.scale(N._renderer.scale.x,N._renderer.scale.y),M.lineWidth=S/N._renderer.scale.x),M.stroke(),x&&M.restore()),M.restore()},getBoundingClientRect:function(t,e,r){var i,n,s=1/0,a=-1/0,o=1/0,l=-1/0;t.forEach((function(t){var e,r,i,n,h,c,u=t.x,f=t.y,d=t.controls;o=Math.min(f,o),s=Math.min(u,s),a=Math.max(u,a),l=Math.max(f,l),t.controls&&(h=d.left,c=d.right,h&&c&&(e=t._relative?h.x+u:h.x,r=t._relative?h.y+f:h.y,i=t._relative?c.x+u:c.x,n=t._relative?c.y+f:c.y,e&&r&&i&&n&&(o=Math.min(r,n,o),s=Math.min(e,i,s),a=Math.max(e,i,a),l=Math.max(r,n,l))))})),h.isNumber(e)&&(o-=e,s-=e,a+=e,l+=e),i=a-s,n=l-o,r.top=o,r.left=s,r.right=a,r.bottom=l,r.width=i,r.height=n,r.centroid||(r.centroid={}),r.centroid.x=-s,r.centroid.y=-o},render:function(e,i,n){if(!this._visible||!this._opacity)return this;this._update();var a=this.parent,o=a._matrix.manual||a._flagMatrix,h=this._matrix.manual||this._flagMatrix,c=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof t.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof t.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||a._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((o||h)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toTransformArray(!0,s),r(s,a._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?(this._renderer.scale.x=this._scale.x*a._renderer.scale.x,this._renderer.scale.y=this._scale.y*a._renderer.scale.y):(this._renderer.scale.x=this._scale*a._renderer.scale.x,this._renderer.scale.y=this._scale*a._renderer.scale.y)),c?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*a._renderer.opacity,l.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),l.updateTexture.call(l,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||n){e.bindTexture(e.TEXTURE_2D,this._renderer.texture);var u=this._renderer.rect;return e.uniformMatrix3fv(i.matrix,!1,this._renderer.matrix),e.uniform4f(i.rect,u.left,u.top,u.right,u.bottom),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()}}},text:{updateCanvas:function(t){var e=this.canvas,r=this.ctx,i=t._renderer.scale,n=t._stroke,s=t._linewidth*i,a=t._fill,o=t._renderer.opacity||t._opacity,c=t.dashes;e.width=Math.max(Math.ceil(t._renderer.rect.width*i.x),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*i.y),1);var u,f,d,p,g,m,_,v=t._renderer.rect.centroid,y=v.x,x=v.y,w=a._renderer&&a._renderer.offset&&n._renderer&&n._renderer.offset;r.clearRect(0,0,e.width,e.height),w||(r.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),r.textAlign="center",r.textBaseline="middle",a&&(h.isString(a)?r.fillStyle=a:(l[a._renderer.type].render.call(a,r,t),r.fillStyle=a._renderer.effect)),n&&(h.isString(n)?r.strokeStyle=n:(l[n._renderer.type].render.call(n,r,t),r.strokeStyle=n._renderer.effect),s&&(r.lineWidth=s)),h.isNumber(o)&&(r.globalAlpha=o),c&&c.length>0&&(r.lineDashOffset=c.offset||0,r.setLineDash(c)),r.save(),r.scale(i.x,i.y),r.translate(y,x),l.isHidden.test(a)||(a._renderer&&a._renderer.offset?(m=a._renderer.scale.x,_=a._renderer.scale.y,r.save(),r.translate(-a._renderer.offset.x,-a._renderer.offset.y),r.scale(m,_),u=t._size/a._renderer.scale.y,f=t._leading/a._renderer.scale.y,r.font=[t._style,t._weight,u+"px/",f+"px",t._family].join(" "),d=a._renderer.offset.x/a._renderer.scale.x,p=a._renderer.offset.y/a._renderer.scale.y,r.fillText(t.value,d,p),r.restore()):r.fillText(t.value,0,0)),l.isHidden.test(n)||(n._renderer&&n._renderer.offset?(m=n._renderer.scale.x,_=n._renderer.scale.y,r.save(),r.translate(-n._renderer.offset.x,-n._renderer.offset.y),r.scale(m,_),u=t._size/n._renderer.scale.y,f=t._leading/n._renderer.scale.y,r.font=[t._style,t._weight,u+"px/",f+"px",t._family].join(" "),d=n._renderer.offset.x/n._renderer.scale.x,p=n._renderer.offset.y/n._renderer.scale.y,g=s/n._renderer.scale.x,r.lineWidth=g,r.strokeText(t.value,d,p),r.restore()):r.strokeText(t.value,0,0)),r.restore()},getBoundingClientRect:function(t,e){var r=l.ctx;r.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),r.textAlign="center",r.textBaseline=t._baseline;var i=1.25*r.measureText(t._value).width,n=1.25*Math.max(t._size,t._leading);this._linewidth&&!l.isHidden.test(this._stroke)&&(i+=2*this._linewidth,n+=2*this._linewidth);var s=i/2,a=n/2;switch(l.alignments[t._alignment]||t._alignment){case l.alignments.left:e.left=0,e.right=i;break;case l.alignments.right:e.left=-i,e.right=0;break;default:e.left=-s,e.right=s}switch(t._baseline){case"bottom":e.top=-n,e.bottom=0;break;case"top":e.top=0,e.bottom=n;break;default:e.top=-a,e.bottom=a}e.width=i,e.height=n,e.centroid||(e.centroid={}),e.centroid.x=s,e.centroid.y=a},render:function(e,i,n){if(!this._visible||!this._opacity)return this;this._update();var a=this.parent,o=a._matrix.manual||a._flagMatrix,h=this._matrix.manual||this._flagMatrix,c=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof t.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof t.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||a._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((o||h)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toTransformArray(!0,s),r(s,a._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?(this._renderer.scale.x=this._scale.x*a._renderer.scale.x,this._renderer.scale.y=this._scale.y*a._renderer.scale.y):(this._renderer.scale.x=this._scale*a._renderer.scale.x,this._renderer.scale.y=this._scale*a._renderer.scale.y)),c?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*a._renderer.opacity,l.text.getBoundingClientRect(this,this._renderer.rect),l.updateTexture.call(l,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||n){e.bindTexture(e.TEXTURE_2D,this._renderer.texture);var u=this._renderer.rect;return e.uniformMatrix3fv(i.matrix,!1,this._renderer.matrix),e.uniform4f(i.rect,u.left,u.top,u.right,u.bottom),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()}}},"linear-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var r=0;r<this.stops.length;r++){var i=this.stops[r];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var r=0;r<this.stops.length;r++){var i=this.stops[r];this._renderer.effect.addColorStop(i._offset,i._color)}}return this.flagReset()}}},texture:{render:function(e,r){if(e.canvas.getContext("2d")){this._update();var i=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(i,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof t.Vector||(this._renderer.offset=new t.Vector),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,i&&(this._renderer.offset.x+=i.width/2,this._renderer.offset.y+=i.height/2,this._scale instanceof t.Vector?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof t.Vector||(this._renderer.scale=new t.Vector),this._scale instanceof t.Vector?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},updateTexture:function(t,e){this[e._renderer.type].updateCanvas.call(l,e),e._renderer.texture||(e._renderer.texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.canvas.width<=0||this.canvas.height<=0||t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},program:{create:function(e,r){var i,n;if(i=e.createProgram(),h.each(r,(function(t){e.attachShader(i,t)})),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw n=e.getProgramInfoLog(i),e.deleteProgram(i),new t.Utils.Error("unable to link program: "+n);return i}},shaders:{create:function(e,r,i){var n,s;if(n=e.createShader(e[i]),e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw s=e.getShaderInfoLog(n),e.deleteShader(n),new t.Utils.Error("unable to compile shader "+n+": "+s);return n},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},vertex:["precision mediump float;","attribute vec2 a_position;","","uniform mat3 u_matrix;","uniform vec2 u_resolution;","uniform vec4 u_rect;","","varying vec2 v_textureCoords;","","void main() {","   vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;","   vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;","   vec2 normal = projected / u_resolution;","   vec2 clipspace = (normal * 2.0) - 1.0;","","   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);","   v_textureCoords = a_position;","}"].join("\n"),fragment:["precision mediump float;","","uniform sampler2D u_image;","varying vec2 v_textureCoords;","","void main() {","  vec4 texel = texture2D(u_image, v_textureCoords);","  if (texel.a == 0.0) {","    discard;","  }","  gl_FragColor = texel;","}"].join("\n")},TextureRegistry:new t.Registry};l.ctx=l.canvas.getContext("2d");var c=t[t.Types.webgl]=function(e){var r,i,s;if(this.domElement=e.domElement||document.createElement("canvas"),h.isUndefined(e.offscreenElement)||(l.canvas=e.offscreenElement,l.ctx=l.canvas.getContext("2d")),this.scene=new t.Group,this.scene.parent=this,this._renderer={type:"renderer",matrix:new t.Array(n),scale:1,opacity:1},this._flagMatrix=!0,e=h.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,r=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new t.Utils.Error("unable to create a webgl context. Try using another renderer.");i=l.shaders.create(r,l.shaders.vertex,l.shaders.types.vertex),s=l.shaders.create(r,l.shaders.fragment,l.shaders.types.fragment),this.program=l.program.create(r,[i,s]),r.useProgram(this.program),this.program.position=r.getAttribLocation(this.program,"a_position"),this.program.matrix=r.getUniformLocation(this.program,"u_matrix"),this.program.rect=r.getUniformLocation(this.program,"u_rect");var a=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,a),r.vertexAttribPointer(this.program.position,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(this.program.position),r.bufferData(r.ARRAY_BUFFER,new t.Array([0,0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW),r.enable(r.BLEND),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA)};h.extend(c,{Utils:l}),h.extend(c.prototype,t.Utils.Events,{constructor:c,setSize:function(e,r,i){this.width=e,this.height=r,this.ratio=h.isUndefined(i)?a(this.ctx):i,this.domElement.width=e*this.ratio,this.domElement.height=r*this.ratio,h.isObject(this.domElement.style)&&h.extend(this.domElement.style,{width:e+"px",height:r+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,this.ctx.viewport(0,0,e*this.ratio,r*this.ratio);var n=this.ctx.getUniformLocation(this.program,"u_resolution");return this.ctx.uniform2f(n,e*this.ratio,r*this.ratio),this.trigger(t.Events.resize,e,r,i)},render:function(){var t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT),l.group.render.call(this.scene,t,this.program),this._flagMatrix=!1,this}})}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils,r=t.Shape=function(){this._renderer={},this._renderer.flagMatrix=e.bind(r.FlagMatrix,this),this.isShape=!0,this.id=t.Identifier+t.uniqueId(),this.classList=[],this.matrix=new t.Matrix,this.translation=new t.Vector,this.rotation=0,this.scale=1};e.extend(r,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(i){var n={enumerable:!1,get:function(){return this._translation},set:function(e){this._translation&&this._translation.unbind(t.Events.change,this._renderer.flagMatrix),this._translation=e,this._translation.bind(t.Events.change,this._renderer.flagMatrix),r.FlagMatrix.call(this)}};Object.defineProperty(i,"translation",n),Object.defineProperty(i,"position",n),Object.defineProperty(i,"rotation",{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}}),Object.defineProperty(i,"scale",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof t.Vector&&this._scale.unbind(t.Events.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof t.Vector&&this._scale.bind(t.Events.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}}),Object.defineProperty(i,"matrix",{enumerable:!0,get:function(){return this._matrix},set:function(t){this._matrix=t,this._flagMatrix=!0}}),Object.defineProperty(i,"className",{enumerable:!0,get:function(){return this._className},set:function(t){if(this._flagClassName=this._className!==t,this._flagClassName){for(var r=this._className.split(/\s+?/),i=t.split(/\s+?/),n=0;n<r.length;n++){var s=r[n],a=e.indexOf(this.classList,s);a>=0&&this.classList.splice(a,1)}this.classList=this.classList.concat(i)}this._className=t}})}}),e.extend(r.prototype,t.Utils.Events,{_flagMatrix:!0,_flagScale:!1,_flagClassName:!1,_translation:null,_rotation:0,_scale:1,_className:"",constructor:r,addTo:function(t){return t.add(this),this},clone:function(t){var e=new r;return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},_update:function(e){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.translation.x,this.translation.y),this._scale instanceof t.Vector?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation)),e&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagMatrix=this._flagScale=this._flagClassName=!1,this}}),r.MakeObservable(r.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=Math.min,r=Math.max,i=(Math.round,Math.ceil),n=Math.floor,s=t.Utils.getComputedMatrix,a={},o=t.Utils;o.each(t.Commands,(function(t,e){a[e]=new RegExp(t)}));var h=t.Path=function(e,r,i,n){t.Shape.call(this),this._renderer.type="path",this._renderer.flagVertices=o.bind(h.FlagVertices,this),this._renderer.bindVertices=o.bind(h.BindVertices,this),this._renderer.unbindVertices=o.bind(h.UnbindVertices,this),this._renderer.flagFill=o.bind(h.FlagFill,this),this._renderer.flagStroke=o.bind(h.FlagStroke,this),this._renderer.vertices=[],this._renderer.collection=[],this._closed=!!r,this._curved=!!i,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=e,this.automatic=!n,this.dashes=[],this.dashes.offset=0};function l(t,e){if(0===e||1===e)return!0;for(var r=t._length*e,i=0,n=0;n<t._lengths.length;n++){var s=t._lengths[n];if(i>=r)return r-i>=0;i+=s}return!1}function c(t,e){var r=t._length;if(e<=0)return 0;if(e>=r)return t._lengths.length-1;for(var i=0,n=0;i<t._lengths.length;i++){if(n+t._lengths[i]>=e)return e-=n,Math.max(i-1,0)+e/t._lengths[i];n+=t._lengths[i]}return-1}function u(e,r,i){var n,s,a,o,h,l,c,u,f=r.controls&&r.controls.right,d=e.controls&&e.controls.left;return n=r.x,h=r.y,s=(f||r).x,l=(f||r).y,a=(d||e).x,c=(d||e).y,o=e.x,u=e.y,f&&r._relative&&(s+=r.x,l+=r.y),d&&e._relative&&(a+=e.x,c+=e.y),t.Utils.getCurveLength(n,h,s,l,a,c,o,u,i)}function f(e,r,i){var n,s,a,o,h,l,c,u,f=r.controls&&r.controls.right,d=e.controls&&e.controls.left;return n=r.x,h=r.y,s=(f||r).x,l=(f||r).y,a=(d||e).x,c=(d||e).y,o=e.x,u=e.y,f&&r._relative&&(s+=r.x,l+=r.y),d&&e._relative&&(a+=e.x,c+=e.y),t.Utils.subdivide(n,h,s,l,a,c,o,u,i)}o.extend(h,{Properties:["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"],Utils:{getCurveLength:u},FlagVertices:function(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)},BindVertices:function(e){for(var r=e.length;r--;)e[r].bind(t.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},UnbindVertices:function(e){for(var r=e.length;r--;)e[r].unbind(t.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()},FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){t.Shape.MakeObservable(e),o.each(h.Properties.slice(2,8),t.Utils.defineProperty,e),Object.defineProperty(e,"fill",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.unbind(t.Events.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.bind(t.Events.change,this._renderer.flagFill)}}),Object.defineProperty(e,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.unbind(t.Events.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.bind(t.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(e,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(e,"closed",{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}}),Object.defineProperty(e,"curved",{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}}),Object.defineProperty(e,"automatic",{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t!==this._automatic){this._automatic=!!t;var e=this._automatic?"ignore":"listen";o.each(this.vertices,(function(t){t[e]()}))}}}),Object.defineProperty(e,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}}),Object.defineProperty(e,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}}),Object.defineProperty(e,"vertices",{enumerable:!0,get:function(){return this._collection},set:function(e){this._renderer.flagVertices;var r=this._renderer.bindVertices,i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(t.Events.insert,r).unbind(t.Events.remove,i),e instanceof t.Utils.Collection?this._collection=e:this._collection=new t.Utils.Collection(e||[]),this._collection.bind(t.Events.insert,r).bind(t.Events.remove,i),r(this._collection)}}),Object.defineProperty(e,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(e,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(t){o.isNumber(t.offset)||(t.offset=this._dashes.offset||0),this._dashes=t}})}}),o.extend(h.prototype,t.Shape.prototype,{_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagClip:!1,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_clip:!1,_dashes:[],constructor:h,clone:function(t){for(var e=new h,r=0;r<this.vertices.length;r++)e.vertices.push(this.vertices[r].clone());for(var i=0;i<h.Properties.length;i++){var n=h.Properties[i];e[n]=this[n]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var e={vertices:o.map(this.vertices,(function(t){return t.toObject()}))};return o.each(t.Shape.Properties,(function(t){e[t]=this[t]}),this),e.className=this.className,e.translation=this.translation.toObject(),e.rotation=this.rotation,e.scale=this.scale instanceof t.Vector?this.scale.toObject():this.scale,this.matrix.manual&&(e.matrix=this.matrix.toObject()),e},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this},corner:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2,y:t.top+t.height/2},o.each(this.vertices,(function(e){e.subSelf(t.centroid),e.x+=t.width/2,e.y+=t.height/2})),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2-this.translation.x,y:t.top+t.height/2-this.translation.y},o.each(this.vertices,(function(e){e.subSelf(t.centroid)})),this},remove:function(){return this.parent?(this.parent.remove(this),this):this},getBoundingClientRect:function(i){var n,a,o,h,l,c,u,f,d=1/0,p=-1/0,g=1/0,m=-1/0;if(this._update(!0),n=i?this._matrix:s(this),a=this.linewidth/2,(o=this._renderer.vertices.length)<=0)return{width:0,height:0};for(h=0;h<o;h++)if(f=this._renderer.vertices[h],(l=this._renderer.vertices[(h+o-1)%o]).controls&&f.controls){c=l.relative?n.multiply(l.controls.right.x+l.x,l.controls.right.y+l.y,1):n.multiply(l.controls.right.x,l.controls.right.y,1),l=n.multiply(l.x,l.y,1),u=f.relative?n.multiply(f.controls.left.x+f.x,f.controls.left.y+f.y,1):n.multiply(f.controls.left.x,f.controls.left.y,1),f=n.multiply(f.x,f.y,1);var _=t.Utils.getCurveBoundingBox(l.x,l.y,c.x,c.y,u.x,u.y,f.x,f.y);g=e(_.min.y-a,g),d=e(_.min.x-a,d),p=r(_.max.x+a,p),m=r(_.max.y+a,m)}else h<=1&&(l=n.multiply(l.x,l.y,1),g=e(l.y-a,g),d=e(l.x-a,d),p=r(l.x+a,p),m=r(l.y+a,m)),f=n.multiply(f.x,f.y,1),g=e(f.y-a,g),d=e(f.x-a,d),p=r(f.x+a,p),m=r(f.y+a,m);return{top:g,left:d,right:p,bottom:m,width:p-d,height:m-g}},getPointAt:function(e,r){for(var i,n,s,a,h,l,c,u,f,d,p,g,m,_,v,y=this.length*Math.min(Math.max(e,0),1),x=this.vertices.length,w=x-1,b=null,M=null,E=0,N=this._lengths.length,S=0;E<N;E++){if(S+this._lengths[E]>=y){this._closed?(i=t.Utils.mod(E,x),n=t.Utils.mod(E-1,x),0===E&&(i=n,n=E)):(i=E,n=Math.min(Math.max(E-1,0),w)),b=this.vertices[i],M=this.vertices[n],y-=S,e=0!==this._lengths[E]?y/this._lengths[E]:0;break}S+=this._lengths[E]}if(o.isNull(b)||o.isNull(M))return null;if(!b)return M;if(!M)return b;v=M.controls&&M.controls.right,_=b.controls&&b.controls.left,h=M.x,d=M.y,l=(v||M).x,p=(v||M).y,c=(_||b).x,g=(_||b).y,u=b.x,m=b.y,v&&M.relative&&(l+=M.x,p+=M.y),_&&b.relative&&(c+=b.x,g+=b.y),a=t.Utils.getComponentOnCubicBezier(e,h,l,c,u),f=t.Utils.getComponentOnCubicBezier(e,d,p,g,m);var A=t.Utils.lerp(h,l,e),k=t.Utils.lerp(d,p,e),C=t.Utils.lerp(l,c,e),O=t.Utils.lerp(p,g,e),F=t.Utils.lerp(c,u,e),R=t.Utils.lerp(g,m,e),P=t.Utils.lerp(A,C,e),T=t.Utils.lerp(k,O,e),I=t.Utils.lerp(C,F,e),U=t.Utils.lerp(O,R,e);return o.isObject(r)?(r.x=a,r.y=f,o.isObject(r.controls)||t.Anchor.AppendCurveProperties(r),r.controls.left.x=P,r.controls.left.y=T,r.controls.right.x=I,r.controls.right.y=U,o.isBoolean(r.relative)&&!r.relative||(r.controls.left.x-=a,r.controls.left.y-=f,r.controls.right.x-=a,r.controls.right.y-=f),r.t=e,r):((s=new t.Anchor(a,f,P-a,T-f,I-a,U-f,this._curved?t.Commands.curve:t.Commands.line)).t=e,s)},plot:function(){if(this.curved)return t.Utils.getCurveFromPoints(this._collection,this.closed),this;for(var e=0;e<this._collection.length;e++)this._collection[e].command=0===e?t.Commands.move:t.Commands.line;return this},subdivide:function(e){this._update();var r=this.vertices.length-1,i=this.vertices[r],n=this._closed||this.vertices[r]._command===t.Commands.close,s=[];return o.each(this.vertices,(function(a,h){if(h<=0&&!n)i=a;else{if(a.command===t.Commands.move)return s.push(new t.Anchor(i.x,i.y)),h>0&&(s[s.length-1].command=t.Commands.line),void(i=a);var l=f(a,i,e);s=s.concat(l),o.each(l,(function(e,r){r<=0&&i.command===t.Commands.move?e.command=t.Commands.move:e.command=t.Commands.line})),h>=r&&(this._closed&&this._automatic?(l=f(a,i=a,e),s=s.concat(l),o.each(l,(function(e,r){r<=0&&i.command===t.Commands.move?e.command=t.Commands.move:e.command=t.Commands.line}))):n&&s.push(new t.Anchor(a.x,a.y)),s[s.length-1].command=n?t.Commands.close:t.Commands.line),i=a}}),this),this._automatic=!1,this._curved=!1,this.vertices=s,this},_updateLength:function(e,r){r||this._update();var i=this.vertices.length,n=i-1,s=this.vertices[n],a=0;return o.isUndefined(this._lengths)&&(this._lengths=[]),o.each(this.vertices,(function(r,i){if(i<=0||r.command===t.Commands.move)return s=r,void(this._lengths[i]=0);this._lengths[i]=u(r,s,e),a+=this._lengths[i],s=r}),this),this._length=a,this._flagLength=!1,this},_update:function(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);var e,r,s,a,o,h=this._collection.length,u=this._closed,f=Math.min(this._beginning,this._ending),d=Math.max(this._beginning,this._ending),p=c(this,f*this._length),g=c(this,d*this._length),m=i(p),_=n(g);this._renderer.vertices.length=0;for(var v=0;v<h;v++)this._renderer.collection.length<=v&&this._renderer.collection.push(new t.Anchor),v>_&&!r?((o=this._renderer.collection[v]).copy(this._collection[v]),this.getPointAt(d,o),o.command=this._renderer.collection[v].command,this._renderer.vertices.push(o),r=o,(s=this._collection[v-1])&&s.controls&&(o.controls.right.clear(),this._renderer.collection[v-1].controls.right.clear().lerp(s.controls.right,o.t))):v>=m&&v<=_&&(o=this._renderer.collection[v].copy(this._collection[v]),this._renderer.vertices.push(o),v===_&&l(this,d)?(r=o,!u&&r.controls&&r.controls.right.clear()):v===m&&l(this,f)&&((e=o).command=t.Commands.move,!u&&e.controls&&e.controls.left.clear()));m>0&&!e&&(v=m-1,(o=this._renderer.collection[v]).copy(this._collection[v]),this.getPointAt(f,o),o.command=t.Commands.move,this._renderer.vertices.unshift(o),e=o,(a=this._collection[v+1])&&a.controls&&(o.controls.left.clear(),this._renderer.collection[v+1].controls.left.copy(a.controls.left).lerp(t.Vector.zero,o.t)))}return t.Shape.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,t.Shape.prototype.flagReset.call(this),this}}),h.MakeObservable(h.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Path,r=t.Utils,i=t.Line=function(r,i,n,s){e.call(this,[new t.Anchor(r,i),new t.Anchor(n,s)]),this.vertices[0].command=t.Commands.move,this.vertices[1].command=t.Commands.line,this.automatic=!1};r.extend(i.prototype,e.prototype),i.prototype.constructor=i,e.MakeObservable(i.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Path,r=t.Utils,i=t.Rectangle=function(r,i,n,s){e.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0,!1,!0),this.width=n,this.height=s,this.origin=new t.Vector,this.translation.set(r,i),this._update()};r.extend(i,{Properties:["width","height"],MakeObservable:function(n){e.MakeObservable(n),r.each(i.Properties,t.Utils.defineProperty,n),Object.defineProperty(n,"origin",{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(t.Events.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(t.Events.change,this._renderer.flagVertices),this._renderer.flagVertices()}})}}),r.extend(i.prototype,e.prototype,{_flagWidth:0,_flagHeight:0,_width:0,_height:0,_origin:null,constructor:i,_update:function(){if(this._flagWidth||this._flagHeight){var r=this._width/2,i=this._height/2;this.vertices[0].set(-r,-i).add(this._origin).command=t.Commands.move,this.vertices[1].set(r,-i).add(this._origin).command=t.Commands.line,this.vertices[2].set(r,i).add(this._origin).command=t.Commands.line,this.vertices[3].set(-r,i).add(this._origin).command=t.Commands.line,this.vertices[4]&&(this.vertices[4].set(-r,-i).add(this._origin).command=t.Commands.line)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,e.prototype.flagReset.call(this),this},clone:function(e){var n=new i(0,0,this.width,this.height);return n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,this.matrix.manual&&n.matrix.copy(this.matrix),r.each(t.Path.Properties,(function(t){n[t]=this[t]}),this),e&&e.add(n),n},toObject:function(){var t=e.prototype.toObject.call(this);return t.width=this.width,t.height=this.height,t.origin=this.origin.toObject(),t}}),i.MakeObservable(i.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Path,r=2*Math.PI,i=Math.PI/2,n=Math.cos,s=Math.sin,a=t.Utils,o=t.Ellipse=function(r,i,n,s,o){a.isNumber(s)||(s=n);var h=o?Math.max(o,2):4,l=a.map(a.range(h),(function(e){return new t.Anchor}),this);e.call(this,l,!0,!0,!0),this.width=2*n,this.height=2*s,this._update(),this.translation.set(r,i)};a.extend(o,{Properties:["width","height"],MakeObservable:function(r){e.MakeObservable(r),a.each(o.Properties,t.Utils.defineProperty,r)}}),a.extend(o.prototype,e.prototype,{_flagWidth:!1,_flagHeight:!1,_width:0,_height:0,constructor:o,_update:function(){if(this._flagWidth||this._flagHeight)for(var a=4/3*Math.tan(Math.PI/(2*this.vertices.length)),o=this._width/2,h=this._height/2,l=0,c=this.vertices.length;l<c;l++){var u=l/c*r,f=o*n(u),d=h*s(u),p=o*a*n(u-i),g=h*a*s(u-i),m=o*a*n(u+i),_=h*a*s(u+i),v=this.vertices[l];v.command=t.Commands.curve,v.set(f,d),v.controls.left.set(p,g),v.controls.right.set(m,_)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,e.prototype.flagReset.call(this),this},clone:function(e){var r=this.width/2,i=this.height/2,n=this.vertices.length,s=new o(0,0,r,i,n);return s.translation.copy(this.translation),s.rotation=this.rotation,s.scale=this.scale,this.matrix.manual&&s.matrix.copy(this.matrix),a.each(t.Path.Properties,(function(t){s[t]=this[t]}),this),e&&e.add(s),s},toObject:function(){var t=e.prototype.toObject.call(this);return a.each(o.Properties,(function(e){t[e]=this[e]}),this),t}}),o.MakeObservable(o.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Path,r=2*Math.PI,i=Math.PI/2,n=Math.cos,s=Math.sin,a=t.Utils,o=t.Circle=function(r,i,n,s){var o=s?Math.max(s,2):4,h=a.map(a.range(o),(function(e){return new t.Anchor}),this);e.call(this,h,!0,!0,!0),this.radius=n,this._update(),a.isNumber(r)&&(this.translation.x=r),a.isNumber(i)&&(this.translation.y=i)};a.extend(o,{Properties:["radius"],MakeObservable:function(r){e.MakeObservable(r),a.each(o.Properties,t.Utils.defineProperty,r)}}),a.extend(o.prototype,e.prototype,{_flagRadius:!1,_radius:0,constructor:o,_update:function(){if(this._flagRadius)for(var a=4/3*Math.tan(Math.PI/(2*this.vertices.length)),o=this._radius,h=o*a,l=0,c=this.vertices.length;l<c;l++){var u=l/c*r,f=o*n(u),d=o*s(u),p=h*n(u-i),g=h*s(u-i),m=h*n(u+i),_=h*s(u+i),v=this.vertices[l];v.command=t.Commands.curve,v.set(f,d),v.controls.left.set(p,g),v.controls.right.set(m,_)}return e.prototype._update.call(this),this},flagReset:function(){return this._flagRadius=!1,e.prototype.flagReset.call(this),this},clone:function(e){var r=new o(0,0,this.radius,this.vertices.length);return r.translation.copy(this.translation),r.rotation=this.rotation,r.scale=this.scale,this.matrix.manual&&r.matrix.copy(this.matrix),a.each(t.Path.Properties,(function(t){r[t]=this[t]}),this),e&&e.add(r),r},toObject:function(){var t=e.prototype.toObject.call(this);return a.each(o.Properties,(function(e){t[e]=this[e]}),this),t}}),o.MakeObservable(o.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Path,r=2*Math.PI,i=Math.cos,n=Math.sin,s=t.Utils,a=t.Polygon=function(t,r,i,n){n=Math.max(n||0,3),e.call(this),this.closed=!0,this.automatic=!1,this.width=2*i,this.height=2*i,this.sides=n,this._update(),this.translation.set(t,r)};s.extend(a,{Properties:["width","height","sides"],MakeObservable:function(r){e.MakeObservable(r),s.each(a.Properties,t.Utils.defineProperty,r)}}),s.extend(a.prototype,e.prototype,{_flagWidth:!1,_flagHeight:!1,_flagSides:!1,_width:0,_height:0,_sides:0,constructor:a,_update:function(){if(this._flagWidth||this._flagHeight||this._flagSides){var s=this._sides,a=s+1,o=this.vertices.length;o>s&&(this.vertices.splice(s-1,o-s),o=s);for(var h=0;h<a;h++){var l=r*((h+.5)/s)+Math.PI/2,c=this._width*i(l)/2,u=this._height*n(l)/2;h>=o?this.vertices.push(new t.Anchor(c,u)):this.vertices[h].set(c,u),this.vertices[h].command=0===h?t.Commands.move:t.Commands.line}}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagSides=!1,e.prototype.flagReset.call(this),this},clone:function(e){var r=new a(0,0,this.radius,this.sides);return r.translation.copy(this.translation),r.rotation=this.rotation,r.scale=this.scale,this.matrix.manual&&r.matrix.copy(this.matrix),s.each(t.Path.Properties,(function(t){r[t]=this[t]}),this),e&&e.add(r),r},toObject:function(){var t=e.prototype.toObject.call(this);return s.each(a.Properties,(function(e){t[e]=this[e]}),this),t}}),a.MakeObservable(a.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Path,r=(Math.PI,2*Math.PI),i=Math.PI/2,n=(Math.cos,Math.sin,Math.abs,t.Utils),s=t.Utils.mod,a=t.ArcSegment=function(r,i,s,a,o,h,l){var c=l||3*t.Resolution,u=n.map(n.range(c),(function(){return new t.Anchor}));e.call(this,u,!0,!1,!0),this.innerRadius=s,this.outerRadius=a,this.startAngle=o,this.endAngle=h,this._update(),n.isNumber(r)&&(this.translation.x=r),n.isNumber(i)&&(this.translation.y=i)};n.extend(a,{Properties:["startAngle","endAngle","innerRadius","outerRadius"],MakeObservable:function(r){e.MakeObservable(r),n.each(a.Properties,t.Utils.defineProperty,r)}}),n.extend(a.prototype,e.prototype,{_flagStartAngle:!1,_flagEndAngle:!1,_flagInnerRadius:!1,_flagOuterRadius:!1,_startAngle:0,_endAngle:r,_innerRadius:0,_outerRadius:0,constructor:a,_update:function(){if(this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var n,a=this._startAngle,o=this._endAngle,h=this._innerRadius,l=this._outerRadius,c=s(a,r)===s(o,r),u=h>0,f=this.vertices,d=u?f.length/2:f.length,p=0;c?d--:u||(d-=2);for(var g=0,m=d-1;g<d;g++){var _=g/m,v=f[p],y=_*(o-a)+a,x=(o-a)/d,w=l*Math.cos(y),b=l*Math.sin(y);switch(g){case 0:n=t.Commands.move;break;default:n=t.Commands.curve}if(v.command=n,v.x=w,v.y=b,v.controls.left.clear(),v.controls.right.clear(),v.command===t.Commands.curve){var M=l*x/Math.PI;v.controls.left.x=M*Math.cos(y-i),v.controls.left.y=M*Math.sin(y-i),v.controls.right.x=M*Math.cos(y+i),v.controls.right.y=M*Math.sin(y+i),1===g&&v.controls.left.multiplyScalar(2),g===m&&v.controls.right.multiplyScalar(2)}p++}if(u){for(c?(f[p].command=t.Commands.close,p++):m=--d-1,g=0;g<d;g++)_=g/m,v=f[p],y=(1-_)*(o-a)+a,x=(o-a)/d,w=h*Math.cos(y),b=h*Math.sin(y),n=t.Commands.curve,g<=0&&(n=c?t.Commands.move:t.Commands.line),v.command=n,v.x=w,v.y=b,v.controls.left.clear(),v.controls.right.clear(),v.command===t.Commands.curve&&(M=h*x/Math.PI,v.controls.left.x=M*Math.cos(y+i),v.controls.left.y=M*Math.sin(y+i),v.controls.right.x=M*Math.cos(y-i),v.controls.right.y=M*Math.sin(y-i),1===g&&v.controls.left.multiplyScalar(2),g===m&&v.controls.right.multiplyScalar(2)),p++;f[p].copy(f[0]),f[p].command=t.Commands.line}else c||(f[p].command=t.Commands.line,f[p].x=0,f[p].y=0,f[++p].copy(f[0]),f[p].command=t.Commands.line)}return e.prototype._update.call(this),this},flagReset:function(){return e.prototype.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this},clone:function(e){var r=this.innerRadius,i=this.outerradius,s=this.startAngle,o=this.endAngle,h=this.vertices.length,l=new a(0,0,r,i,s,o,h);return l.translation.copy(this.translation),l.rotation=this.rotation,l.scale=this.scale,this.matrix.manual&&l.matrix.copy(this.matrix),n.each(t.Path.Properties,(function(t){l[t]=this[t]}),this),e&&e.add(l),l},toObject:function(){var t=e.prototype.toObject.call(this);return n.each(a.Properties,(function(e){t[e]=this[e]}),this),t}}),a.MakeObservable(a.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Path,r=2*Math.PI,i=Math.cos,n=Math.sin,s=t.Utils,a=t.Star=function(t,r,i,n,a){arguments.length<=3&&(i=(n=i)/2),(!s.isNumber(a)||a<=0)&&(a=5);e.call(this),this.closed=!0,this.automatic=!1,this.innerRadius=i,this.outerRadius=n,this.sides=a,this._update(),this.translation.set(t,r)};s.extend(a,{Properties:["innerRadius","outerRadius","sides"],MakeObservable:function(r){e.MakeObservable(r),s.each(a.Properties,t.Utils.defineProperty,r)}}),s.extend(a.prototype,e.prototype,{_flagInnerRadius:!1,_flagOuterRadius:!1,_flagSides:!1,_innerRadius:0,_outerRadius:0,_sides:0,constructor:a,_update:function(){if(this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var s=2*this._sides,a=s+1,o=this.vertices.length;o>s&&(this.vertices.splice(s-1,o-s),o=s);for(var h=0;h<a;h++){var l=r*((h+.5)/s),c=(h%2?this._outerRadius:this._innerRadius)/2,u=c*i(l),f=c*n(l);h>=o?this.vertices.push(new t.Anchor(u,f)):this.vertices[h].set(u,f),this.vertices[h].command=0===h?t.Commands.move:t.Commands.line}}return e.prototype._update.call(this),this},flagReset:function(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,e.prototype.flagReset.call(this),this},clone:function(e){var r=this.innerRadius,i=this.outerRadius,n=this.sides,o=new a(0,0,r,i,n);return o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,this.matrix.manual&&o.matrix.copy(this.matrix),s.each(t.Path.Properties,(function(t){o[t]=this[t]}),this),e&&e.add(o),o},toObject:function(){var t=e.prototype.toObject.call(this);return s.each(a.Properties,(function(e){t[e]=this[e]}),this),t}}),a.MakeObservable(a.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Path,r=t.Utils,i=t.RoundedRectangle=function(n,s,a,o,h){r.isUndefined(h)&&(h=Math.floor(Math.min(a,o)/12));var l=r.map(r.range(10),(function(e){return new t.Anchor(0,0,0,0,0,0,0===e?t.Commands.move:t.Commands.curve)}));e.call(this,l),this.closed=!0,this.automatic=!1,this._renderer.flagRadius=r.bind(i.FlagRadius,this),this.width=a,this.height=o,this.radius=h,this._update(),this.translation.set(n,s)};r.extend(i,{Properties:["width","height"],FlagRadius:function(){this._flagRadius=!0},MakeObservable:function(n){e.MakeObservable(n),r.each(i.Properties,t.Utils.defineProperty,n),Object.defineProperty(n,"radius",{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof t.Vector&&this._radius.unbind(t.Events.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof t.Vector&&this._radius.bind(t.Events.change,this._renderer.flagRadius),this._flagRadius=!0}})}}),r.extend(i.prototype,e.prototype,{_flagWidth:!1,_flagHeight:!1,_flagRadius:!1,_width:0,_height:0,_radius:0,constructor:i,_update:function(){if(this._flagWidth||this._flagHeight||this._flagRadius){var r,i,n,s=this._width,a=this._height;this._radius instanceof t.Vector?(r=this._radius.x,i=this._radius.y):(r=this._radius,i=this._radius);var o=s/2,h=a/2;(n=this.vertices[0]).x=-(o-r),n.y=-h,(n=this.vertices[1]).x=o-r,n.y=-h,n.controls.left.clear(),n.controls.right.x=r,n.controls.right.y=0,(n=this.vertices[2]).x=o,n.y=-(h-i),n.controls.right.clear(),n.controls.left.clear(),(n=this.vertices[3]).x=o,n.y=h-i,n.controls.left.clear(),n.controls.right.x=0,n.controls.right.y=i,(n=this.vertices[4]).x=o-r,n.y=h,n.controls.right.clear(),n.controls.left.clear(),(n=this.vertices[5]).x=-(o-r),n.y=h,n.controls.left.clear(),n.controls.right.x=-r,n.controls.right.y=0,(n=this.vertices[6]).x=-o,n.y=h-i,n.controls.left.clear(),n.controls.right.clear(),(n=this.vertices[7]).x=-o,n.y=-(h-i),n.controls.left.clear(),n.controls.right.x=0,n.controls.right.y=-i,(n=this.vertices[8]).x=-(o-r),n.y=-h,n.controls.left.clear(),n.controls.right.clear(),(n=this.vertices[9]).copy(this.vertices[8])}return e.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,e.prototype.flagReset.call(this),this},clone:function(e){var n=this.width,s=this.height,a=this.radius,o=new i(0,0,n,s,a);return o.translation.copy(this.translation),o.rotation=this.rotation,o.scale=this.scale,this.matrix.manual&&o.matrix.copy(this.matrix),r.each(t.Path.Properties,(function(t){o[t]=this[t]}),this),e&&e.add(o),o},toObject:function(){var t=e.prototype.toObject.call(this);return r.each(i.Properties,(function(e){t[e]=this[e]}),this),t.radius=r.isNumber(this.radius)?this.radius:this.radius.toObject(),t}}),i.MakeObservable(i.prototype)}((void 0!==r?r:this||self||window).Two),function(t){t.root;var e=t.Utils.getComputedMatrix,r=t.Utils,i=t.Text=function(e,i,n,s){if(t.Shape.call(this),this._renderer.type="text",this._renderer.flagFill=r.bind(t.Text.FlagFill,this),this._renderer.flagStroke=r.bind(t.Text.FlagStroke,this),this.value=e,r.isNumber(i)&&(this.translation.x=i),r.isNumber(n)&&(this.translation.y=n),this.dashes=[],this.dashes.offset=0,!r.isObject(s))return this;r.each(t.Text.Properties,(function(t){t in s&&(this[t]=s[t])}),this)};r.extend(t.Text,{Ratio:.6,Properties:["value","family","size","leading","alignment","linewidth","style","className","weight","decoration","baseline","opacity","visible","fill","stroke"],FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){t.Shape.MakeObservable(e),r.each(t.Text.Properties.slice(0,13),t.Utils.defineProperty,e),Object.defineProperty(e,"fill",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.unbind(t.Events.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof t.Gradient||this._fill instanceof t.LinearGradient||this._fill instanceof t.RadialGradient||this._fill instanceof t.Texture)&&this._fill.bind(t.Events.change,this._renderer.flagFill)}}),Object.defineProperty(e,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.unbind(t.Events.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof t.Gradient||this._stroke instanceof t.LinearGradient||this._stroke instanceof t.RadialGradient||this._stroke instanceof t.Texture)&&this._stroke.bind(t.Events.change,this._renderer.flagStroke)}}),Object.defineProperty(e,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(e,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(t){r.isNumber(t.offset)||(t.offset=this._dashes.offset||0),this._dashes=t}})}}),r.extend(t.Text.prototype,t.Shape.prototype,{_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagClassName:!0,_flagVisible:!0,_flagClip:!1,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_className:"",_visible:!0,_clip:!1,_dashes:[],constructor:t.Text,remove:function(){return this.parent?(this.parent.remove(this),this):this},clone:function(e){var i=new t.Text(this.value);return i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,r.each(t.Text.Properties,(function(t){i[t]=this[t]}),this),this.matrix.manual&&i.matrix.copy(this.matrix),e&&e.add(i),i._update()},toObject:function(){var e={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return this.matrix.manual&&(e.matrix=this.matrix.toObject()),r.each(t.Text.Properties,(function(t){e[t]=this[t]}),this),e},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this.linewidth=void 0,this},getBoundingClientRect:function(t){var r,n,s,a,o,h;this._update(!0),r=t?this._matrix:e(this);var l=this.leading,c=this.value.length*this.size*i.Ratio;switch(this.alignment){case"left":s=0,a=c;break;case"right":s=-c,a=0;break;default:s=-c/2,a=c/2}switch(this.baseline){case"top":o=0,h=l;break;case"bottom":o=-l,h=0;break;default:o=-l/2,h=l/2}return{top:o=(n=r.multiply(s,o,1)).y,left:s=n.x,right:a=(n=r.multiply(a,h,1)).x,bottom:h=n.y,width:a-s,height:h-o}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=!1,t.Shape.prototype.flagReset.call(this),this}}),t.Text.MakeObservable(t.Text.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils,r=t.Stop=function(t,i,n){this._renderer={},this._renderer.type="stop",this.offset=e.isNumber(t)?t:r.Index<=0?0:1,this.opacity=e.isNumber(n)?n:1,this.color=e.isString(i)?i:r.Index<=0?"#fff":"#000",r.Index=(r.Index+1)%2};e.extend(r,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(t){e.each(r.Properties,(function(t){var e="_"+t,r="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[e]},set:function(t){this[e]=t,this[r]=!0,this.parent&&(this.parent._flagStops=!0)}})}),t)}}),e.extend(r.prototype,t.Utils.Events,{constructor:r,clone:function(){var t=new r;return e.each(r.Properties,(function(e){t[e]=this[e]}),this),t},toObject:function(){var t={};return e.each(r.Properties,(function(e){t[e]=this[e]}),this),t},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),r.MakeObservable(r.prototype),r.prototype.constructor=r;var i=t.Gradient=function(r){this._renderer={},this._renderer.type="gradient",this.id=t.Identifier+t.uniqueId(),this.classList=[],this._renderer.flagStops=e.bind(i.FlagStops,this),this._renderer.bindStops=e.bind(i.BindStops,this),this._renderer.unbindStops=e.bind(i.UnbindStops,this),this.spread="pad",this.stops=r};e.extend(i,{Stop:r,Properties:["spread"],MakeObservable:function(r){e.each(i.Properties,t.Utils.defineProperty,r),Object.defineProperty(r,"stops",{enumerable:!0,get:function(){return this._stops},set:function(e){this._renderer.flagStops;var r=this._renderer.bindStops,i=this._renderer.unbindStops;this._stops&&this._stops.unbind(t.Events.insert,r).unbind(t.Events.remove,i),this._stops=new t.Utils.Collection((e||[]).slice(0)),this._stops.bind(t.Events.insert,r).bind(t.Events.remove,i),r(this._stops)}})},FlagStops:function(){this._flagStops=!0},BindStops:function(e){for(var r=e.length;r--;)e[r].bind(t.Events.change,this._renderer.flagStops),e[r].parent=this;this._renderer.flagStops()},UnbindStops:function(e){for(var r=e.length;r--;)e[r].unbind(t.Events.change,this._renderer.flagStops),delete e[r].parent;this._renderer.flagStops()}}),e.extend(i.prototype,t.Utils.Events,{_flagStops:!1,_flagSpread:!1,clone:function(r){var n=e.map(this.stops,(function(t){return t.clone()})),s=new i(n);return e.each(t.Gradient.Properties,(function(t){s[t]=this[t]}),this),r&&r.add(s),s},toObject:function(){var t={stops:e.map(this.stops,(function(t){return t.toObject()}))};return e.each(i.Properties,(function(e){t[e]=this[e]}),this),t},_update:function(){return(this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagSpread=this._flagStops=!1,this}}),i.MakeObservable(i.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils,r=t.LinearGradient=function(i,n,s,a,o){t.Gradient.call(this,o),this._renderer.type="linear-gradient";var h=e.bind(r.FlagEndPoints,this);this.left=(new t.Vector).bind(t.Events.change,h),this.right=(new t.Vector).bind(t.Events.change,h),e.isNumber(i)&&(this.left.x=i),e.isNumber(n)&&(this.left.y=n),e.isNumber(s)&&(this.right.x=s),e.isNumber(a)&&(this.right.y=a)};e.extend(r,{Stop:t.Gradient.Stop,MakeObservable:function(e){t.Gradient.MakeObservable(e)},FlagEndPoints:function(){this._flagEndPoints=!0}}),e.extend(r.prototype,t.Gradient.prototype,{_flagEndPoints:!1,constructor:r,clone:function(i){var n=e.map(this.stops,(function(t){return t.clone()})),s=new r(this.left._x,this.left._y,this.right._x,this.right._y,n);return e.each(t.Gradient.Properties,(function(t){s[t]=this[t]}),this),i&&i.add(s),s},toObject:function(){var e=t.Gradient.prototype.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e},_update:function(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagEndPoints=!1,t.Gradient.prototype.flagReset.call(this),this}}),r.MakeObservable(r.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils,r=t.RadialGradient=function(r,i,n,s,a,o){t.Gradient.call(this,s),this._renderer.type="radial-gradient",this.center=(new t.Vector).bind(t.Events.change,e.bind((function(){this._flagCenter=!0}),this)),this.radius=e.isNumber(n)?n:20,this.focal=(new t.Vector).bind(t.Events.change,e.bind((function(){this._flagFocal=!0}),this)),e.isNumber(r)&&(this.center.x=r),e.isNumber(i)&&(this.center.y=i),this.focal.copy(this.center),e.isNumber(a)&&(this.focal.x=a),e.isNumber(o)&&(this.focal.y=o)};e.extend(r,{Stop:t.Gradient.Stop,Properties:["radius"],MakeObservable:function(i){t.Gradient.MakeObservable(i),e.each(r.Properties,t.Utils.defineProperty,i)}}),e.extend(r.prototype,t.Gradient.prototype,{_flagRadius:!1,_flagCenter:!1,_flagFocal:!1,constructor:r,clone:function(i){var n=e.map(this.stops,(function(t){return t.clone()})),s=new r(this.center._x,this.center._y,this._radius,n,this.focal._x,this.focal._y);return e.each(t.Gradient.Properties.concat(r.Properties),(function(t){s[t]=this[t]}),this),i&&i.add(s),s},toObject:function(){var i=t.Gradient.prototype.toObject.call(this);return e.each(r.Properties,(function(t){i[t]=this[t]}),this),i.center=this.center.toObject(),i.focal=this.focal.toObject(),i},_update:function(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(t.Events.change),this},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,t.Gradient.prototype.flagReset.call(this),this}}),r.MakeObservable(r.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e,r=t.root,i=t.Utils,n={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};r.document&&(e=document.createElement("a"));var s=t.Texture=function(e,r){if(this._renderer={},this._renderer.type="texture",this._renderer.flagOffset=i.bind(s.FlagOffset,this),this._renderer.flagScale=i.bind(s.FlagScale,this),this.id=t.Identifier+t.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new t.Vector,i.isFunction(r)){var n=i.bind((function(){this.unbind(t.Events.load,n),i.isFunction(r)&&r()}),this);this.bind(t.Events.load,n)}i.isString(e)?this.src=e:i.isElement(e)&&(this.image=e),this._update()};i.extend(s,{Properties:["src","loaded","repeat"],RegularExpressions:n,ImageRegistry:new t.Registry,getAbsoluteURL:function(t){return e?(e.href=t,e.href):t},loadHeadlessBuffer:new Function("texture","loaded",['var fs = require("fs");',"var buffer = fs.readFileSync(texture.src);","texture.image.src = buffer;","loaded();"].join("\n")),getImage:function(e){var i,a=s.getAbsoluteURL(e);return s.ImageRegistry.contains(a)?s.ImageRegistry.get(a):(t.Utils.Image?(i=new t.Utils.Image,t.CanvasRenderer.Utils.shim(i,"img")):r.document?i=n.video.test(a)?document.createElement("video"):document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),i.crossOrigin="anonymous",i)},Register:{canvas:function(t,e){t._src="#"+t.id,s.ImageRegistry.add(t.src,t.image),i.isFunction(e)&&e()},img:function(e,r){var n=function(t){i.isFunction(e.image.removeEventListener)&&(e.image.removeEventListener("load",n,!1),e.image.removeEventListener("error",a,!1)),i.isFunction(r)&&r()},a=function(r){throw i.isFunction(e.image.removeEventListener)&&(e.image.removeEventListener("load",n,!1),e.image.removeEventListener("error",a,!1)),new t.Utils.Error("unable to load "+e.src)};i.isNumber(e.image.width)&&e.image.width>0&&i.isNumber(e.image.height)&&e.image.height>0?n():i.isFunction(e.image.addEventListener)&&(e.image.addEventListener("load",n,!1),e.image.addEventListener("error",a,!1)),e._src=s.getAbsoluteURL(e._src),e.image&&e.image.getAttribute("two-src")||(e.image.setAttribute("two-src",e.src),s.ImageRegistry.add(e.src,e.image),t.Utils.isHeadless?s.loadHeadlessBuffer(e,n):e.image.src=e.src)},video:function(e,r){var n=function(t){e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",a,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,e.image.play(),i.isFunction(r)&&r()},a=function(r){throw e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",a,!1),new t.Utils.Error("unable to load "+e.src)};if(e._src=s.getAbsoluteURL(e._src),e.image.addEventListener("canplaythrough",n,!1),e.image.addEventListener("error",a,!1),!e.image||!e.image.getAttribute("two-src")){if(t.Utils.isHeadless)throw new t.Utils.Error("video textures are not implemented in headless environments.");e.image.setAttribute("two-src",e.src),s.ImageRegistry.add(e.src,e.image),e.image.src=e.src,e.image.loop=!0,e.image.load()}}},load:function(t,e){t.src;var r=t.image,i=r&&r.nodeName.toLowerCase();t._flagImage&&(/canvas/i.test(i)?s.Register.canvas(t,e):(t._src=r.getAttribute("two-src")||r.src,s.Register[i](t,e))),t._flagSrc&&(r||(t.image=s.getImage(t.src)),i=t.image.nodeName.toLowerCase(),s.Register[i](t,e))},FlagOffset:function(){this._flagOffset=!0},FlagScale:function(){this._flagScale=!0},MakeObservable:function(e){i.each(s.Properties,t.Utils.defineProperty,e),Object.defineProperty(e,"image",{enumerable:!0,get:function(){return this._image},set:function(t){var e;switch(t&&t.nodeName.toLowerCase()){case"canvas":e="#"+t.id;break;default:e=t.src}s.ImageRegistry.contains(e)?this._image=s.ImageRegistry.get(t.src):this._image=t,this._flagImage=!0}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(t.Events.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(t.Events.change,this._renderer.flagOffset),this._flagOffset=!0}}),Object.defineProperty(e,"scale",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof t.Vector&&this._scale.unbind(t.Events.change,this._renderer.flagScale),this._scale=e,this._scale instanceof t.Vector&&this._scale.bind(t.Events.change,this._renderer.flagScale),this._flagScale=!0}})}}),i.extend(s.prototype,t.Utils.Events,t.Shape.prototype,{_flagSrc:!1,_flagImage:!1,_flagVideo:!1,_flagLoaded:!1,_flagRepeat:!1,_flagOffset:!1,_flagScale:!1,_src:"",_image:null,_loaded:!1,_repeat:"no-repeat",_scale:1,_offset:null,constructor:s,clone:function(){var t=new s(this.src);return t.repeat=this.repeat,t.offset.copy(this.origin),t.scale=this.scale,t},toObject:function(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:i.isNumber(this.scale)?this.scale:this.scale.toObject()}},_update:function(){return(this._flagSrc||this._flagImage)&&(this.trigger(t.Events.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,s.load(this,i.bind((function(){this.loaded=!0,this.trigger(t.Events.change).trigger(t.Events.load)}),this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this},flagReset:function(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagVideo=this._flagScale=this._flagOffset=!1,this}}),s.MakeObservable(s.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils,r=t.Path,i=t.Rectangle,n=t.Sprite=function(i,n,s,a,o,h){r.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0),this.noStroke(),this.noFill(),i instanceof t.Texture?this.texture=i:e.isString(i)&&(this.texture=new t.Texture(i)),this.origin=new t.Vector,this._update(),this.translation.set(n||0,s||0),e.isNumber(a)&&(this.columns=a),e.isNumber(o)&&(this.rows=o),e.isNumber(h)&&(this.frameRate=h),this.index=0};e.extend(n,{Properties:["texture","columns","rows","frameRate","index"],MakeObservable:function(r){i.MakeObservable(r),e.each(n.Properties,t.Utils.defineProperty,r)}}),e.extend(n.prototype,i.prototype,{_flagTexture:!1,_flagColumns:!1,_flagRows:!1,_flagFrameRate:!1,flagIndex:!1,_amount:1,_duration:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_texture:null,_columns:1,_rows:1,_frameRate:0,_index:0,_origin:null,constructor:n,play:function(t,r,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=e.performance.now(),e.isNumber(t)&&(this._firstFrame=t),e.isNumber(r)&&(this._lastFrame=r),e.isFunction(i)?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(t){var e=new n(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e},toObject:function(){var t=i.prototype.toObject.call(this);return t.texture=this.texture.toObject(),t.columns=this.columns,t.rows=this.rows,t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var t,r,n,s,a,o,h,l,c,u=this._texture,f=this._columns,d=this._rows;if((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=this._texture),this._texture.loaded){t=(h=u.image.width)/f,r=(l=u.image.height)/d,s=this._amount,this.width!==t&&(this.width=t),this.height!==r&&(this.height=r),this._playing&&this._frameRate>0&&(e.isNaN(this._lastFrame)&&(this._lastFrame=s-1),n=e.performance.now()-this._startTime,a=1e3*((c=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?n%=a:n=Math.min(n,a),o=e.lerp(this._firstFrame,c,n/a),(o=Math.floor(o))!==this._index&&(this._index=o,o>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));var p=-t*(this._index%f)+(h-t)/2,g=-r*Math.floor(this._index/f)+(l-r)/2;p!==u.offset.x&&(u.offset.x=p),g!==u.offset.y&&(u.offset.y=g)}return i.prototype._update.call(this),this},flagReset:function(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,i.prototype.flagReset.call(this),this}}),n.MakeObservable(n.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=t.Utils,r=t.Path,i=t.Rectangle,n=t.ImageSequence=function(i,s,a,o){r.call(this,[new t.Anchor,new t.Anchor,new t.Anchor,new t.Anchor],!0),this._renderer.flagTextures=e.bind(n.FlagTextures,this),this._renderer.bindTextures=e.bind(n.BindTextures,this),this._renderer.unbindTextures=e.bind(n.UnbindTextures,this),this.noStroke(),this.noFill(),e.isObject(i)?this.textures=e.map(i,n.GenerateTexture,this):this.textures=[n.GenerateTexture(i)],this.origin=new t.Vector,this._update(),this.translation.set(s||0,a||0),e.isNumber(o)?this.frameRate=o:this.frameRate=n.DefaultFrameRate,this.index=0};e.extend(n,{Properties:["frameRate","index"],DefaultFrameRate:30,FlagTextures:function(){this._flagTextures=!0},BindTextures:function(e){for(var r=e.length;r--;)e[r].bind(t.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},UnbindTextures:function(e){for(var r=e.length;r--;)e[r].unbind(t.Events.change,this._renderer.flagTextures);this._renderer.flagTextures()},MakeObservable:function(r){i.MakeObservable(r),e.each(n.Properties,t.Utils.defineProperty,r),Object.defineProperty(r,"textures",{enumerable:!0,get:function(){return this._textures},set:function(e){this._renderer.flagTextures;var r=this._renderer.bindTextures,i=this._renderer.unbindTextures;this._textures&&this._textures.unbind(t.Events.insert,r).unbind(t.Events.remove,i),this._textures=new t.Utils.Collection((e||[]).slice(0)),this._textures.bind(t.Events.insert,r).bind(t.Events.remove,i),r(this._textures)}})},GenerateTexture:function(r){return r instanceof t.Texture?r:e.isString(r)?new t.Texture(r):void 0}}),e.extend(n.prototype,i.prototype,{_flagTextures:!1,_flagFrameRate:!1,_flagIndex:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_textures:null,_frameRate:0,_origin:null,constructor:n,play:function(t,r,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=e.performance.now(),e.isNumber(t)&&(this._firstFrame=t),e.isNumber(r)&&(this._lastFrame=r),e.isFunction(i)?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=this._firstFrame,this},clone:function(t){var e=new n(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e},toObject:function(){var t=i.prototype.toObject.call(this);return t.textures=e.map(this.textures,(function(t){return t.toObject()})),t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var r,n,s,a,o,h,l,c,u=this._textures;return this._flagTextures&&(this._amount=u.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(a=this._amount,e.isNaN(this._lastFrame)&&(this._lastFrame=a-1),s=e.performance.now()-this._startTime,o=1e3*((c=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?s%=o:s=Math.min(s,o),l=e.lerp(this._firstFrame,c,s/o),(l=Math.floor(l))!==this._index&&(this._index=l,(h=u[this._index]).loaded&&(r=h.image.width,n=h.image.height,this.width!==r&&(this.width=r),this.height!==n&&(this.height=n),this.fill=h,l>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):!this._flagIndex&&this.fill instanceof t.Texture||((h=u[this._index]).loaded&&(r=h.image.width,n=h.image.height,this.width!==r&&(this.width=r),this.height!==n&&(this.height=n)),this.fill=h),i.prototype._update.call(this),this},flagReset:function(){return this._flagTextures=this._flagFrameRate=!1,i.prototype.flagReset.call(this),this}}),n.MakeObservable(n.prototype)}((void 0!==r?r:this||self||window).Two),function(t){var e=Math.min,r=Math.max,i=t.Utils,n=function(){t.Utils.Collection.apply(this,arguments),Object.defineProperty(this,"_events",{value:{},enumerable:!1}),this.ids={},this.on(t.Events.insert,this.attach),this.on(t.Events.remove,this.detach),n.prototype.attach.apply(this,arguments)};n.prototype=new t.Utils.Collection,i.extend(n.prototype,{constructor:n,attach:function(t){for(var e=0;e<t.length;e++)this.ids[t[e].id]=t[e];return this},detach:function(t){for(var e=0;e<t.length;e++)delete this.ids[t[e].id];return this}});var s=t.Group=function(e){t.Shape.call(this,!0),this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=i.isArray(e)?e:arguments};function a(t,e){var r,n=t.parent;function s(){e.subtractions.length>0&&(r=i.indexOf(e.subtractions,t))>=0&&e.subtractions.splice(r,1),e.additions.length>0&&(r=i.indexOf(e.additions,t))>=0&&e.additions.splice(r,1),t.parent=e,e.additions.push(t),e._flagAdditions=!0}function a(){(r=i.indexOf(n.additions,t))>=0&&n.additions.splice(r,1),(r=i.indexOf(n.subtractions,t))<0&&(n.subtractions.push(t),n._flagSubtractions=!0)}n!==e?(n&&n.children.ids[t.id]&&(r=i.indexOf(n.children,t),n.children.splice(r,1),a()),e?s():(a(),n._flagAdditions&&0===n.additions.length&&(n._flagAdditions=!1),n._flagSubtractions&&0===n.subtractions.length&&(n._flagSubtractions=!1),delete t.parent)):s()}i.extend(s,{Children:n,InsertChildren:function(t){for(var e=0;e<t.length;e++)a.call(this,t[e],this)},RemoveChildren:function(t){for(var e=0;e<t.length;e++)a.call(this,t[e])},OrderChildren:function(t){this._flagOrder=!0},Properties:["fill","stroke","linewidth","visible","cap","join","miter","closed","curved","automatic"],MakeObservable:function(e){var r=t.Group.Properties;Object.defineProperty(e,"opacity",{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!==t,this._opacity=t}}),Object.defineProperty(e,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._flagBeginning=this._beginning!==t,this._beginning=t}}),Object.defineProperty(e,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._flagEnding=this._ending!==t,this._ending=t}}),Object.defineProperty(e,"length",{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(var t=0;t<this.children.length;t++){var e=this.children[t];this._length+=e.length}}return this._length}}),t.Shape.MakeObservable(e),s.MakeGetterSetters(e,r),Object.defineProperty(e,"children",{enumerable:!0,get:function(){return this._children},set:function(e){var r=i.bind(s.InsertChildren,this),a=i.bind(s.RemoveChildren,this),o=i.bind(s.OrderChildren,this);this._children&&this._children.unbind(),this._children=new n(e),this._children.bind(t.Events.insert,r),this._children.bind(t.Events.remove,a),this._children.bind(t.Events.order,o)}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,t.clip||(t.clip=!0)}})},MakeGetterSetters:function(t,e){i.isArray(e)||(e=[e]),i.each(e,(function(e){s.MakeGetterSetter(t,e)}))},MakeGetterSetter:function(t,e){var r="_"+e;Object.defineProperty(t,e,{enumerable:!0,get:function(){return this[r]},set:function(t){this[r]=t;for(var i=0;i<this.children.length;i++){this.children[i][e]=t}}})}}),i.extend(s.prototype,t.Shape.prototype,{_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagBeginning:!1,_flagEnding:!1,_flagLength:!1,_flagMask:!1,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_length:0,_mask:null,constructor:s,clone:function(t){var e=new s,r=i.map(this.children,(function(t){return t.clone()}));return e.add(r),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.className=this.className,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var e={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof t.Vector?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(e.matrix=this.matrix.toObject()),i.each(this.children,(function(t,r){e.children[r]=t.toObject()}),this),e},corner:function(){var t=this.getBoundingClientRect(!0),e={x:t.left,y:t.top};return this.children.forEach((function(t){t.translation.sub(e)})),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2-this.translation.x,y:t.top+t.height/2-this.translation.y},this.children.forEach((function(e){e.isShape&&e.translation.sub(t.centroid)})),this},getById:function(t){var e=null;return function r(i){if(i.id===t)return i;if(i.children)for(var n=0;n<i.children.length;n++)if(e=r(i.children[n]))return e;return null}(this)},getByClassName:function(t){var e=[];return function r(n){if(i.indexOf(n.classList,t)>=0&&e.push(n),n.children)for(var s=0;s<n.children.length;s++){r(n.children[s])}return e}(this)},getByType:function(t){var e=[];return function r(i){if(i instanceof t&&e.push(i),i.children)for(var n=0;n<i.children.length;n++){r(i.children[n])}return e}(this)},add:function(t){t=t instanceof Array?t.slice():i.toArray(arguments);for(var e=0;e<t.length;e++){var r=t[e];if(r&&r.id){var n=i.indexOf(this.children,r);n>=0&&this.children.splice(n,1),this.children.push(r)}}return this},remove:function(t){var e=arguments.length,r=this.parent;if(e<=0&&r)return r.remove(this),this;t=t instanceof Array?t.slice():i.toArray(arguments);for(var n=0;n<t.length;n++)t[n]&&this.children.ids[t[n].id]&&this.children.splice(i.indexOf(this.children,t[n]),1);return this},getBoundingClientRect:function(n){var s;this._update(!0);for(var a=1/0,o=-1/0,h=1/0,l=-1/0,c=t.Texture.RegularExpressions.effect,u=0;u<this.children.length;u++){var f=this.children[u];f.visible&&!c.test(f._renderer.type)&&(s=f.getBoundingClientRect(n),i.isNumber(s.top)&&i.isNumber(s.left)&&i.isNumber(s.right)&&i.isNumber(s.bottom)&&(h=e(s.top,h),a=e(s.left,a),o=r(s.right,o),l=r(s.bottom,l)))}return{top:h,left:a,right:o,bottom:l,width:o-a,height:l-h}},noFill:function(){return this.children.forEach((function(t){t.noFill()})),this},noStroke:function(){return this.children.forEach((function(t){t.noStroke()})),this},subdivide:function(){var t=arguments;return this.children.forEach((function(e){e.subdivide.apply(e,t)})),this},_update:function(){if(this._flagBeginning||this._flagEnding)for(var e=Math.min(this._beginning,this._ending),r=Math.max(this._beginning,this._ending),i=this.length,n=0,s=e*i,a=r*i,o=0;o<this.children.length;o++){var h=this.children[o],l=h.length;s>n+l?(h.beginning=1,h.ending=1):a<n?(h.beginning=0,h.ending=0):s>n&&s<n+l?(h.beginning=(s-n)/l,h.ending=1):a>n&&a<n+l?(h.beginning=0,h.ending=(a-n)/l):(h.beginning=0,h.ending=1),n+=l}return t.Shape.prototype._update.apply(this,arguments)},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,t.Shape.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}((void 0!==r?r:this||self||window).Two)}).call(this,r(135))},185:function(t,e,r){"use strict";r.d(e,"c",(function(){return Tr})),r.d(e,"b",(function(){return Ur})),r.d(e,"d",(function(){return jr})),r.d(e,"a",(function(){return Dr}));var i={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return"number"==typeof t}function a(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function o(t){return t&&"object"===n(t)&&!0===Object.getPrototypeOf(t).isComplex||!1}function h(t){return t&&"object"===n(t)&&!0===Object.getPrototypeOf(t).isFraction||!1}function l(t){return t&&!0===t.constructor.prototype.isUnit||!1}function c(t){return"string"==typeof t}var u=Array.isArray;function f(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function d(t){return Array.isArray(t)||f(t)}function p(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function g(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function m(t){return t&&!0===t.constructor.prototype.isRange||!1}function _(t){return t&&!0===t.constructor.prototype.isIndex||!1}function v(t){return"boolean"==typeof t}function y(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function x(t){return t&&!0===t.constructor.prototype.isHelp||!1}function w(t){return"function"==typeof t}function b(t){return t instanceof Date}function M(t){return t instanceof RegExp}function E(t){return!(!t||"object"!==n(t)||t.constructor!==Object||o(t)||h(t))}function N(t){return null===t}function S(t){return void 0===t}function A(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function k(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function C(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function O(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function F(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function R(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function P(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function T(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function I(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function U(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function j(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function z(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function L(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function B(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function D(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function V(t){return t&&!0===t.constructor.prototype.isChain||!1}function q(t){var e=n(t);return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":a(t)?"BigNumber":o(t)?"Complex":h(t)?"Fraction":f(t)?"Matrix":l(t)?"Unit":_(t)?"Index":m(t)?"Range":y(t)?"ResultSet":U(t)?t.type:V(t)?"Chain":x(t)?"Help":"Object":"function"===e?"Function":e}function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t){var e=G(t);if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return H(t)}));if(t instanceof Date)return new Date(t.valueOf());if(a(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return Z(t,H)}function Z(t,e){var r={};for(var i in t)J(t,i)&&(r[i]=e(t[i]));return r}function W(t,e){var r,i,n;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(i=0,n=t.length;i<n;i++)if(!W(t[i],e[i]))return!1;return!0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!W(t[r],e[r]))return!1;for(r in e)if(!(r in t)||!W(t[r],e[r]))return!1;return!0}return t===e}function J(t,e){return t&&Object.hasOwnProperty.call(t,e)}var X=["Matrix","Array"],Y=["number","BigNumber","Fraction"];function $(){return($=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var K=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(i)};function Q(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}$(K,i,{MATRIX_OPTIONS:X,NUMBER_OPTIONS:Y});var tt=Math.sign||function(t){return t>0?1:t<0?-1:0},et=Math.log2||function(t){return Math.log(t)/Math.LN2},rt=Math.log10||function(t){return Math.log(t)/Math.LN10},it=(Math.log1p,Math.cbrt||function(t){if(0===t)return t;var e,r=t<0;return r&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,r?-e:e}),nt=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function st(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r,i="auto";switch(e&&(e.notation&&(i=e.notation),s(e)?r=e:s(e.precision)&&(r=e.precision)),i){case"fixed":return ot(t,r);case"exponential":return ht(t,r);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=lt(at(t),e),i=r.exponent,n=r.coefficients,a=i%3==0?i:i<0?i-3-i%3:i-i%3;if(s(e))for(;e>n.length||i-a+1>n.length;)n.push(0);else for(var o=Math.abs(i-a)-(n.length-1),h=0;h<o;h++)n.push(0);var l=Math.abs(i-a),c=1;for(;l>0;)c++,l--;var u=n.slice(c).join(""),f=s(e)&&u.length||u.match(/[1-9]/)?"."+u:"",d=n.slice(0,c).join("")+f+"e"+(i>=0?"+":"")+a.toString();return r.sign+d}(t,r);case"auto":return function(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var i=r&&void 0!==r.lowerExp?r.lowerExp:-3,n=r&&void 0!==r.upperExp?r.upperExp:5,s=at(t),a=e?lt(s,e):s;if(a.exponent<i||a.exponent>=n)return ht(t,e);var o=a.coefficients,h=a.exponent;o.length<e&&(o=o.concat(ct(e-o.length))),o=o.concat(ct(h-o.length+1+(o.length<e?e-o.length:0))),o=ct(-h).concat(o);var l=h>0?h:0;return l<o.length-1&&o.splice(l+1,0,"."),a.sign+o.join("")}(t,r,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}}function at(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],i=e[2],n=parseFloat(e[4]||"0"),s=i.indexOf(".");n+=-1!==s?s-1:i.length-1;var a=i.replace(".","").replace(/^0*/,(function(t){return n-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),n++),{sign:r,coefficients:a,exponent:n}}function ot(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=at(t),i="number"==typeof e?lt(r,r.exponent+1+e):r,n=i.coefficients,s=i.exponent+1,a=s+(e||0);return n.length<a&&(n=n.concat(ct(a-n.length))),s<0&&(n=ct(1-s).concat(n),s=1),s<n.length&&n.splice(s,0,0===s?"0.":"."),i.sign+n.join("")}function ht(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=at(t),i=e?lt(r,e):r,n=i.coefficients,s=i.exponent;n.length<e&&(n=n.concat(ct(e-n.length)));var a=n.shift();return i.sign+a+(n.length>0?"."+n.join(""):"")+"e"+(s>=0?"+":"")+s}function lt(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},i=r.coefficients;e<=0;)i.unshift(0),r.exponent++,e++;if(i.length>e&&i.splice(e,i.length-e)[0]>=5){var n=e-1;for(i[n]++;10===i[n];)i.pop(),0===n&&(i.unshift(0),r.exponent++,n++),i[--n]++}return r}function ct(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}var ut=Number.EPSILON||2220446049250313e-31;function ft(t,e,r){if(null==r)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var i=Math.abs(t-e);return i<ut||i<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}var dt=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},pt=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},gt=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},mt=(Math.cosh,Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2});Math.tanh;function _t(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r,i="auto";switch(void 0!==e&&(e.notation&&(i=e.notation),"number"==typeof e?r=e:e.precision&&(r=e.precision)),i){case"fixed":return function(t,e){return t.toFixed(e)}(t,r);case"exponential":return vt(t,r);case"engineering":return function(t,e){var r=t.e,i=r%3==0?r:r<0?r-3-r%3:r-r%3,n=t.mul(Math.pow(10,-i)),s=n.toPrecision(e);-1!==s.indexOf("e")&&(s=n.toString());return s+"e"+(r>=0?"+":"")+i.toString()}(t,r);case"auto":var n=e&&void 0!==e.lowerExp?e.lowerExp:-3,s=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var a=t.toSignificantDigits(r),o=a.e;return(o>=n&&o<s?a.toFixed():vt(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}}function vt(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){return"number"==typeof t?st(t,e):a(t)?_t(t,e):function(t){return t&&"object"===yt(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?function t(e,r){if(Array.isArray(e)){for(var i="[",n=e.length,s=0;s<n;s++)0!==s&&(i+=", "),i+=t(e[s],r);return i+="]"}return xt(e,r)}(t,e):c(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"===yt(t)?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((function(r){return'"'+r+'": '+xt(t[r],e)})).join(", ")+"}":String(t)}function wt(t,e,r){if(!(this instanceof wt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function bt(t,e,r){if(!(this instanceof bt))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Mt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Et(t,e){if(0===e.length){if(Array.isArray(t))throw new wt(t.length,0)}else!function t(e,r,i){var n,s=e.length;if(s!==r[i])throw new wt(s,r[i]);if(i<r.length-1){var a=i+1;for(n=0;n<s;n++){var o=e[n];if(!Array.isArray(o))throw new wt(r.length-1,r.length,"<");t(e[n],r,a)}}else for(n=0;n<s;n++)if(Array.isArray(e[n]))throw new wt(r.length+1,r.length,">")}(t,e,0)}function Nt(t,e){if(!s(t)||!Q(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new bt(t,e)}function St(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!s(t)||!Q(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(e)+")")})),function t(e,r,i,n){var s,a,o=e.length,h=r[i],l=Math.min(o,h);if(e.length=h,i<r.length-1){var c=i+1;for(s=0;s<l;s++)a=e[s],Array.isArray(a)||(a=[a],e[s]=a),t(a,r,c,n);for(s=l;s<h;s++)a=[],e[s]=a,t(a,r,c,n)}else{for(s=0;s<l;s++)for(;Array.isArray(e[s]);)e[s]=e[s][0];for(s=l;s<h;s++)e[s]=n}}(t,e,0,void 0!==r?r:0),t}function At(t,e){var r,i=Ct(t);function n(t){return t.reduce((function(t,e){return t*e}))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new wt(0,n(Mt(t)),"!=");for(var s=1,a=0;a<e.length;a++)s*=e[a];if(i.length!==s)throw new wt(n(e),n(Mt(t)),"!=");try{r=function(t,e){for(var r,i=t,n=e.length-1;n>0;n--){var s=e[n];r=[];for(var a=i.length/s,o=0;o<a;o++)r.push(i.slice(o*s,(o+1)*s));i=r}return i}(i,e)}catch(r){if(r instanceof wt)throw new wt(n(e),n(Mt(t)),"!=");throw r}return r}function kt(t,e,r,i){var n=i||Mt(t);if(r)for(var s=0;s<r;s++)t=[t],n.unshift(1);for(t=function t(e,r,i){var n,s;if(Array.isArray(e)){var a=i+1;for(n=0,s=e.length;n<s;n++)e[n]=t(e[n],r,a)}else for(var o=i;o<r;o++)e=[e];return e}(t,e,0);n.length<e;)n.push(1);return t}function Ct(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(r){Array.isArray(r)?r.forEach(t):e.push(r)})),e}function Ot(t,e){for(var r,i=0,n=0;n<t.length;n++){var s=t[n],a=Array.isArray(s);if(0===n&&a&&(i=s.length),a&&s.length!==i)return;var o=a?Ot(s,e):e(s);if(void 0===r)r=o;else if(r!==o)return"mixed"}return r}function Ft(t,e,r,i){function n(i){var n=function(t,e){for(var r={},i=0;i<e.length;i++){var n=e[i],s=t[n];void 0!==s&&(r[n]=s)}return r}(i,e.map(Rt));return function(t,e,r){if(!e.filter((function(t){return!function(t){return t&&"?"===t[0]}(t)})).every((function(t){return void 0!==r[t]}))){var i=e.filter((function(t){return void 0===r[t]}));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map((function(t){return'"'.concat(t,'"')})).join(", "),"."))}}(t,e,i),r(n)}return n.isFactory=!0,n.fn=t,n.dependencies=e.slice().sort(),i&&(n.meta=i),n}function Rt(t){return t&&"?"===t[0]?t.slice(1):t}wt.prototype=new RangeError,wt.prototype.constructor=RangeError,wt.prototype.name="DimensionError",wt.prototype.isDimensionError=!0,bt.prototype=new RangeError,bt.prototype.constructor=RangeError,bt.prototype.name="IndexError",bt.prototype.isIndexError=!0;var Pt=r(4),Tt=r.n(Pt);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ut=Ft("Complex",[],(function(){return Tt.a.prototype.type="Complex",Tt.a.prototype.isComplex=!0,Tt.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Tt.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Tt.a.prototype.format=function(t){var e=this.im,r=this.re,i=st(this.re,t),n=st(this.im,t),a=s(t)?t:t?t.precision:null;if(null!==a){var o=Math.pow(10,-a);Math.abs(r/e)<o&&(r=0),Math.abs(e/r)<o&&(e=0)}return 0===e?i:0===r?1===e?"i":-1===e?"-i":n+"i":e<0?-1===e?i+" - i":i+" - "+n.substring(1)+"i":1===e?i+" + i":i+" + "+n+"i"},Tt.a.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"===It(e))return Tt()(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],i=arguments[1];if(s(r)){if(l(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),s(i))return new Tt.a({r:r,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Tt.a.prototype.valueOf=Tt.a.prototype.toString,Tt.a.fromJSON=function(t){return new Tt.a(t)},Tt.a.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Tt.a}),{isClass:!0});function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){return function r(){"object"!==jt(r.cache)&&(r.cache={});for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var s=e?e(i):JSON.stringify(i);return s in r.cache||(r.cache[s]=t.apply(t,i)),r.cache[s]}}zt((function(t){return new t(1).exp()}),Bt),zt((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),Bt);var Lt=zt((function(t){return t.acos(-1)}),Bt);zt((function(t){return Lt(t).times(2)}),Bt);function Bt(t){return t[0].precision}Math.PI,Math.PI,Math.E;var Dt=r(145),Vt=r.n(Dt),qt=Ft("BigNumber",["?on","config"],(function(t){var e=t.on,r=t.config,i=Vt.a.clone({precision:r.precision});return i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(t){return new i(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&i.config({precision:t.precision})})),i}),{isClass:!0}),Gt=Ft("Matrix",[],(function(){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0});Ht("fineStructure",.0072973525693),Ht("weakMixingAngle",.2229),Ht("efimovFactor",22.7),Ht("sackurTetrode",-1.16487052358);function Ht(t,e){return Ft(t,["config","BigNumber"],(function(t){var r=t.config,i=t.BigNumber;return"BigNumber"===r.number?new i(e):e}))}var Zt=r(133),Wt=r.n(Zt),Jt=Ft("Fraction",[],(function(){return Wt.a.prototype.type="Fraction",Wt.a.prototype.isFraction=!0,Wt.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Wt.a.fromJSON=function(t){return new Wt.a(t)},Wt.a}),{isClass:!0}),Xt=Ft("DenseMatrix",["Matrix"],(function(t){var e=t.Matrix;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!c(e))throw new Error("Invalid datatype: "+e);if(f(t))"DenseMatrix"===t.type?(this._data=H(t._data),this._size=H(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&u(t.data)&&u(t.size))this._data=t.data,this._size=t.size,Et(this._data,this._size),this._datatype=e||t.datatype;else if(u(t))this._data=function t(e){for(var r=0,i=e.length;r<i;r++){var n=e[r];u(n)?e[r]=t(n):n&&!0===n.isMatrix&&(e[r]=t(n.valueOf()))}return e}(t),this._size=Mt(this._data),Et(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+q(t)+")");this._data=[],this._size=[0],this._datatype=e}}function i(t,e){if(!_(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var i=e.size();if(i.length!==t._size.length)throw new wt(i.length,t._size.length);for(var n=e.min(),s=e.max(),a=0,o=t._size.length;a<o;a++)Nt(n[a],t._size[a]),Nt(s[a],t._size[a]);return new r(function t(e,r,i,n){var s=n===i-1,a=r.dimension(n);return s?a.map((function(t){return Nt(t,e.length),e[t]})).valueOf():a.map((function(s){Nt(s,e.length);var a=e[s];return t(a,r,i,n+1)})).valueOf()}(t._data,e,i.length,0),t._datatype)}function n(t,e,r,i){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var n,s=e.size(),a=e.isScalar();if(f(r)?(n=r.size(),r=r.valueOf()):n=Mt(r),a){if(0!==n.length)throw new TypeError("Scalar expected");t.set(e.min(),r,i)}else{if(s.length<t._size.length)throw new wt(s.length,t._size.length,"<");if(n.length<s.length){for(var o=0,l=0;1===s[o]&&1===n[o];)o++;for(;1===s[o];)l++,o++;r=kt(r,s.length,l,n)}if(!W(s,n))throw new wt(s,n,">");h(t,e.max().map((function(t){return t+1})),i);var c=s.length;!function t(e,r,i,n,s){var a=s===n-1,o=r.dimension(s);a?o.forEach((function(t,r){Nt(t),e[t]=i[r[0]]})):o.forEach((function(a,o){Nt(a),t(e[a],r,i[o[0]],n,s+1)}))}(t._data,e,r,c,0)}return t}function o(t,e,r){if(0===e.length){for(var i=t._data;u(i);)i=i[0];return i}return t._size=e.slice(0),t._data=St(t._data,t._size,r),t}function h(t,e,r){for(var i=t._size.slice(0),n=!1;i.length<e.length;)i.push(0),n=!0;for(var s=0,a=e.length;s<a;s++)e[s]>i[s]&&(i[s]=e[s],n=!0);n&&o(t,i,r)}return r.prototype=new e,r.prototype.createDenseMatrix=function(t,e){return new r(t,e)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Ot(this._data,q)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(t,e){return new r(t,e)},r.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return i(this,t);case 2:case 3:return n(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(t){if(!u(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new wt(t.length,this._size.length);for(var e=0;e<t.length;e++)Nt(t[e],this._size[e]);for(var r=this._data,i=0,n=t.length;i<n;i++){var s=t[i];Nt(s,r.length),r=r[s]}return r},r.prototype.set=function(t,e,r){if(!u(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new wt(t.length,this._size.length,"<");var i,n,s;h(this,t.map((function(t){return t+1})),r);var a=this._data;for(i=0,n=t.length-1;i<n;i++)Nt(s=t[i],a.length),a=a[s];return Nt(s=t[t.length-1],a.length),a[s]=e,this},r.prototype.resize=function(t,e,r){if(!d(t))throw new TypeError("Array or Matrix expected");var i=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));return o(r?this.clone():this,i,e)},r.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=At(r._data,t),r._size=t.slice(0),r},r.prototype.clone=function(){return new r({data:H(this._data),size:H(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(t){var e=this,i=function r(i,n){return u(i)?i.map((function(t,e){return r(t,n.concat(e))})):t(i,n,e)}(this._data,[]);return new r(i,void 0!==this._datatype?Ot(i,q):void 0)},r.prototype.forEach=function(t){var e=this;!function r(i,n){u(i)?i.forEach((function(t,e){r(t,n.concat(e))})):t(i,n,e)}(this._data,[])},r.prototype.toArray=function(){return H(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(t){return xt(this._data,t)},r.prototype.toString=function(){return xt(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(t){if(t){if(a(t)&&(t=t.toNumber()),!s(t)||!Q(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,i=t<0?-t:0,n=this._size[0],o=this._size[1],h=Math.min(n-i,o-e),l=[],c=0;c<h;c++)l[c]=this._data[c+i][c+e];return new r({data:l,size:[h],datatype:this._datatype})},r.diagonal=function(t,e,i,n){if(!u(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(a(t)&&(t=t.toNumber()),!s(t)||!Q(t)||t<1)throw new Error("Size values must be positive integers");return t})),i){if(a(i)&&(i=i.toNumber()),!s(i)||!Q(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var o,h=i>0?i:0,l=i<0?-i:0,c=t[0],d=t[1],p=Math.min(c-l,d-h);if(u(e)){if(e.length!==p)throw new Error("Invalid value array length");o=function(t){return e[t]}}else if(f(e)){var g=e.size();if(1!==g.length||g[0]!==p)throw new Error("Invalid matrix length");o=function(t){return e.get([t])}}else o=function(){return e};n||(n=a(o(0))?o(0).mul(0):0);var m=[];if(t.length>0){m=St(m,t,n);for(var _=0;_<p;_++)m[_+l][_+h]=o(_)}return new r({data:m,size:[c,d]})},r.fromJSON=function(t){return new r(t)},r.prototype.swapRows=function(t,e){if(!(s(t)&&Q(t)&&s(e)&&Q(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Nt(t,this._size[0]),Nt(e,this._size[0]),r._swapRows(t,e,this._data),this},r._swapRows=function(t,e,r){var i=r[t];r[t]=r[e],r[e]=i},r}),{isClass:!0}),Yt=r(143),$t=r.n(Yt),Kt=function(){return Kt=$t.a.create,$t.a},Qt=Ft("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var e=t.BigNumber,r=t.Complex,i=t.DenseMatrix,n=t.Fraction,d=Kt();return d.types=[{name:"number",test:s},{name:"Complex",test:o},{name:"BigNumber",test:a},{name:"Fraction",test:h},{name:"Unit",test:l},{name:"string",test:c},{name:"Chain",test:V},{name:"Array",test:u},{name:"Matrix",test:f},{name:"DenseMatrix",test:p},{name:"SparseMatrix",test:g},{name:"Range",test:m},{name:"Index",test:_},{name:"boolean",test:v},{name:"ResultSet",test:y},{name:"Help",test:x},{name:"function",test:w},{name:"Date",test:b},{name:"RegExp",test:M},{name:"null",test:N},{name:"undefined",test:S},{name:"AccessorNode",test:A},{name:"ArrayNode",test:k},{name:"AssignmentNode",test:C},{name:"BlockNode",test:O},{name:"ConditionalNode",test:F},{name:"ConstantNode",test:R},{name:"FunctionNode",test:T},{name:"FunctionAssignmentNode",test:P},{name:"IndexNode",test:I},{name:"Node",test:U},{name:"ObjectNode",test:j},{name:"OperatorNode",test:z},{name:"ParenthesisNode",test:L},{name:"RangeNode",test:B},{name:"SymbolNode",test:D},{name:"Object",test:E}],d.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||te(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return r||ee(t),new r(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return r||ee(t),new r(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return r||ee(t),new r(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){n||re(t);var e=new n(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||te(t);try{return new e(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){n||re(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){r||ee(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||te(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return n||re(t),new n(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return i||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],d}));function te(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function ee(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function re(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}function ie(t,e,r){return t&&"function"==typeof t.map?t.map((function(t){return ie(t,e,r)})):e(t)}var ne="number";function se(t){return t<0}function ae(t){return t>0}function oe(t){return 0===t}function he(t){return Number.isNaN(t)}se.signature=ne,ae.signature=ne,oe.signature=ne,he.signature=ne;function le(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var i=t.minus(e).abs();if(i.isZero())return!0;var n=t.constructor.max(t.abs(),e.abs());return i.lte(n.times(r))}return!1}var ce=Ft("equalScalar",["typed","config"],(function(t){var e=t.typed,r=t.config,i=e("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return ft(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||le(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,r){return ft(t.re,e.re,r)&&ft(t.im,e.im,r)}(t,e,r.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return i(t.value,e.value)}});return i})),ue=(Ft("equalScalar",["typed","config"],(function(t){var e=t.typed,r=t.config;return e("equalScalar",{"number, number":function(t,e){return ft(t,e,r.epsilon)}})})),"number, number");function fe(t){return Math.abs(t)}function de(t,e){return t+e}function pe(t,e){return t*e}function ge(t){return-t}function me(t){return t}function _e(t){return it(t)}function ve(t){return Math.ceil(t)}function ye(t){return t*t*t}function xe(t){return Math.exp(t)}function we(t){return nt(t)}function be(t,e){if(!Q(t)||!Q(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!==e;)r=t%e,t=e,e=r;return t<0?-t:t}function Me(t,e){if(!Q(t)||!Q(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var r,i=t*e;0!==e;)e=t%(r=e),t=r;return Math.abs(i/t)}function Ee(t){return Math.log(t)}function Ne(t){return rt(t)}function Se(t){return et(t)}function Ae(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function ke(t,e){var r=e<0;if(r&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===t)return r?1/0:0;if(!isFinite(t))return r?0:t;var i=Math.pow(Math.abs(t),1/e);return i=t<0?-i:i,r?1/i:i}function Ce(t){return tt(t)}function Oe(t){return t*t}function Fe(t,e){var r,i,n,s=0,a=1,o=1,h=0;if(!Q(t)||!Q(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=t-(i=Math.floor(t/e))*e,r=s,s=a-i*s,a=r,r=o,o=h-i*o,h=r,t=e,e=n;return t<0?[-t,-a,-h]:[t,t?a:0,h]}function Re(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function Pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(ot(t,e))}fe.signature="number",de.signature=ue,pe.signature=ue,ge.signature="number",me.signature="number",_e.signature="number",ve.signature="number",ye.signature="number",xe.signature="number",we.signature="number",be.signature=ue,Me.signature=ue,Ee.signature="number",Ne.signature="number",Se.signature="number",Ae.signature=ue,ke.signature=ue,Ce.signature="number",Oe.signature="number",Fe.signature=ue,Re.signature=ue,Pe.signature=ue;var Te="number, number";function Ie(t,e){if(!Q(t)||!Q(e))throw new Error("Integers expected in function bitAnd");return t&e}function Ue(t){if(!Q(t))throw new Error("Integer expected in function bitNot");return~t}function je(t,e){if(!Q(t)||!Q(e))throw new Error("Integers expected in function bitOr");return t|e}function ze(t,e){if(!Q(t)||!Q(e))throw new Error("Integers expected in function bitXor");return t^e}function Le(t,e){if(!Q(t)||!Q(e))throw new Error("Integers expected in function leftShift");return t<<e}function Be(t,e){if(!Q(t)||!Q(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function De(t,e){if(!Q(t)||!Q(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}Ie.signature=Te,Ue.signature="number",je.signature=Te,ze.signature=Te,Le.signature=Te,Be.signature=Te,De.signature=Te;function Ve(t){return!t}function qe(t,e){return!(!t&&!e)}function Ge(t,e){return!!t!=!!e}function He(t,e){return!(!t||!e)}Ve.signature="number",qe.signature="number, number",Ge.signature="number, number",He.signature="number, number";Math.pow(2,53);function Ze(t){return dt(t)}function We(t){return Math.atan(1/t)}function Je(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function Xe(t){return Math.asin(1/t)}function Ye(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function $e(t){return Math.acos(1/t)}function Ke(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}function Qe(t){return pt(t)}function tr(t){return gt(t)}function er(t){return 1/Math.tan(t)}function rr(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function ir(t){return 1/Math.sin(t)}function nr(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*tt(t)}function sr(t){return 1/Math.cos(t)}function ar(t){return 2/(Math.exp(t)+Math.exp(-t))}function or(t){return mt(t)}Ze.signature="number",We.signature="number",Je.signature="number",Xe.signature="number",Ye.signature="number",$e.signature="number",Ke.signature="number",Qe.signature="number",tr.signature="number",er.signature="number",rr.signature="number",ir.signature="number",nr.signature="number",sr.signature="number",ar.signature="number",or.signature="number";function hr(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return hr(t,r)*hr(r+1,e)}function lr(t,e){if(!Q(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!Q(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");var r=t-e;return e<r?hr(r+1,t)/hr(1,e):hr(e+1,t)/hr(1,r)}lr.signature="number, number";r(144);var cr=Ft("sqrt",["config","typed","Complex"],(function(t){var e=t.config,r=t.typed,i=t.Complex,n=r("sqrt",{number:s,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||e.predictable?t.sqrt():s(t.toNumber())},"Array | Matrix":function(t){return ie(t,n,!0)},Unit:function(t){return t.pow(.5)}});function s(t){return isNaN(t)?NaN:t>=0||e.predictable?Math.sqrt(t):new i(t,0).sqrt()}return n}));var ur=Ft("SparseMatrix",["typed","equalScalar","Matrix"],(function(t){var e=t.typed,r=t.equalScalar,i=t.Matrix;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!c(e))throw new Error("Invalid datatype: "+e);if(f(t))!function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?H(e._values):void 0,t._index=H(e._index),t._ptr=H(e._ptr),t._size=H(e._size),t._datatype=r||e._datatype):o(t,e.valueOf(),r||e._datatype)}(this,t,e);else if(t&&u(t.index)&&u(t.ptr)&&u(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(u(t))o(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+q(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function o(t,i,n){t._values=[],t._index=[],t._ptr=[],t._datatype=n;var s=i.length,a=0,o=r,h=0;if(c(n)&&(o=e.find(r,[n,n])||r,h=e.convert(0,n)),s>0){var l=0;do{t._ptr.push(t._index.length);for(var f=0;f<s;f++){var d=i[f];if(u(d)){if(0===l&&a<d.length&&(a=d.length),l<d.length){var p=d[l];o(p,h)||(t._values.push(p),t._index.push(f))}}else 0===l&&a<1&&(a=1),o(d,h)||(t._values.push(d),t._index.push(f))}l++}while(l<a)}t._ptr.push(t._index.length),t._size=[s,a]}function h(t,e){if(!_(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r,i,s,a,o=e.size();if(o.length!==t._size.length)throw new wt(o.length,t._size.length);var h=e.min(),l=e.max();for(r=0,i=t._size.length;r<i;r++)Nt(h[r],t._size[r]),Nt(l[r],t._size[r]);var c=t._values,u=t._index,f=t._ptr,d=e.dimension(0),p=e.dimension(1),g=[],m=[];d.forEach((function(t,e){m[t]=e[0],g[t]=!0}));var v=c?[]:void 0,y=[],x=[];return p.forEach((function(t){for(x.push(y.length),s=f[t],a=f[t+1];s<a;s++)r=u[s],!0===g[r]&&(y.push(m[r]),v&&v.push(c[s]))})),x.push(y.length),new n({values:v,index:y,ptr:x,size:o,datatype:t._datatype})}function l(t,e,r,i){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var n,s=e.size(),a=e.isScalar();if(f(r)?(n=r.size(),r=r.toArray()):n=Mt(r),a){if(0!==n.length)throw new TypeError("Scalar expected");t.set(e.min(),r,i)}else{if(1!==s.length&&2!==s.length)throw new wt(s.length,t._size.length,"<");if(n.length<s.length){for(var o=0,h=0;1===s[o]&&1===n[o];)o++;for(;1===s[o];)h++,o++;r=kt(r,s.length,h,n)}if(!W(s,n))throw new wt(s,n,">");for(var l=e.min()[0],c=e.min()[1],u=n[0],d=n[1],p=0;p<u;p++)for(var g=0;g<d;g++){var m=r[p][g];t.set([p+l,g+c],m,i)}}return t}function p(t,e,r,i){if(r-e==0)return r;for(var n=e;n<r;n++)if(i[n]===t)return n;return e}function g(t,e,r,i,n,s,a){n.splice(t,0,i),s.splice(t,0,e);for(var o=r+1;o<a.length;o++)a[o]++}function m(t,i,n,s){var a=s||0,o=r,h=0;c(t._datatype)&&(o=e.find(r,[t._datatype,t._datatype])||r,h=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var l,u,f,d=!o(a,h),p=t._size[0],g=t._size[1];if(n>g){for(u=g;u<n;u++)if(t._ptr[u]=t._values.length,d)for(l=0;l<p;l++)t._values.push(a),t._index.push(l);t._ptr[n]=t._values.length}else n<g&&(t._ptr.splice(n+1,g-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(g=n,i>p){if(d){var m=0;for(u=0;u<g;u++){t._ptr[u]=t._ptr[u]+m,f=t._ptr[u+1]+m;var _=0;for(l=p;l<i;l++,_++)t._values.splice(f+_,0,a),t._index.splice(f+_,0,l),m++}t._ptr[g]=t._values.length}}else if(i<p){var v=0;for(u=0;u<g;u++){t._ptr[u]=t._ptr[u]-v;var y=t._ptr[u],x=t._ptr[u+1]-v;for(f=y;f<x;f++)(l=t._index[f])>i-1&&(t._values.splice(f,1),t._index.splice(f,1),v++)}t._ptr[u]=t._values.length}return t._size[0]=i,t._size[1]=n,t}function v(t,e,r,i,n){var s,a,o=i[0],h=i[1],l=[];for(s=0;s<o;s++)for(l[s]=[],a=0;a<h;a++)l[s][a]=0;for(a=0;a<h;a++)for(var c=r[a],u=r[a+1],f=c;f<u;f++)l[s=e[f]][a]=t?n?H(t[f]):t[f]:1;return l}return n.prototype=new i,n.prototype.createSparseMatrix=function(t,e){return new n(t,e)},n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Ot(this._values,q)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},n.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,t);case 2:case 3:return l(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!u(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new wt(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];Nt(e,this._size[0]),Nt(r,this._size[1]);var i=p(e,this._ptr[r],this._ptr[r+1],this._index);return i<this._ptr[r+1]&&this._index[i]===e?this._values[i]:0},n.prototype.set=function(t,i,n){if(!u(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new wt(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=t[0],a=t[1],o=this._size[0],h=this._size[1],l=r,f=0;c(this._datatype)&&(l=e.find(r,[this._datatype,this._datatype])||r,f=e.convert(0,this._datatype)),(s>o-1||a>h-1)&&(m(this,Math.max(s+1,o),Math.max(a+1,h),n),o=this._size[0],h=this._size[1]),Nt(s,o),Nt(a,h);var d=p(s,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===s?l(i,f)?function(t,e,r,i,n){r.splice(t,1),i.splice(t,1);for(var s=e+1;s<n.length;s++)n[s]--}(d,a,this._values,this._index,this._ptr):this._values[d]=i:g(d,s,a,i,this._values,this._index,this._ptr),this},n.prototype.resize=function(t,e,r){if(!d(t))throw new TypeError("Array or Matrix expected");var i=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));if(2!==i.length)throw new Error("Only two dimensions matrix are supported");return i.forEach((function(t){if(!s(t)||!Q(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(i)+")")})),m(r?this.clone():this,i[0],i[1],e)},n.prototype.reshape=function(t,e){if(!u(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!s(e)||!Q(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var i=[],n=0;n<r._ptr.length;n++)for(var a=0;a<r._ptr[n+1]-r._ptr[n];a++)i.push(n);for(var o=r._values.slice(),h=r._index.slice(),l=0;l<r._index.length;l++){var c=h[l],f=i[l],d=c*r._size[1]+f;i[l]=d%t[1],h[l]=Math.floor(d/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var m=0;m<r._ptr.length;m++)r._ptr[m]=0;for(var _=0;_<o.length;_++){var v=h[_],y=i[_],x=o[_];g(p(v,r._ptr[y],r._ptr[y+1],r._index),v,y,x,r._values,r._index,r._ptr)}return r},n.prototype.clone=function(){return new n({values:this._values?H(this._values):void 0,index:H(this._index),ptr:H(this._ptr),size:H(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t,i){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(t,i,s,a,o,h,l){var u=[],f=[],d=[],p=r,g=0;c(t._datatype)&&(p=e.find(r,[t._datatype,t._datatype])||r,g=e.convert(0,t._datatype));for(var m=function(t,e,r){t=h(t,e,r),p(t,g)||(u.push(t),f.push(e))},_=a;_<=o;_++){d.push(u.length);var v=t._ptr[_],y=t._ptr[_+1];if(l)for(var x=v;x<y;x++){var w=t._index[x];w>=i&&w<=s&&m(t._values[x],w-i,_-a)}else{for(var b={},M=v;M<y;M++){var E=t._index[M];b[E]=t._values[M]}for(var N=i;N<=s;N++){var S=N in b?b[N]:0;m(S,N-i,_-a)}}}return d.push(u.length),new n({values:u,index:f,ptr:d,size:[s-i+1,o-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,r,i){return t(e,[r,i],s)}),i)},n.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],i=this._size[1],n=0;n<i;n++){var s=this._ptr[n],a=this._ptr[n+1];if(e)for(var o=s;o<a;o++){var h=this._index[o];t(this._values[o],[h,n],this)}else{for(var l={},c=s;c<a;c++){l[this._index[c]]=this._values[c]}for(var u=0;u<r;u++){t(u in l?l[u]:0,[u,n],this)}}}},n.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)},n.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],i=this.density(),n="Sparse Matrix ["+xt(e,t)+" x "+xt(r,t)+"] density: "+xt(i,t)+"\n",s=0;s<r;s++)for(var a=this._ptr[s],o=this._ptr[s+1],h=a;h<o;h++){n+="\n    ("+xt(this._index[h],t)+", "+xt(s,t)+") ==> "+(this._values?xt(this._values[h],t):"X")}return n},n.prototype.toString=function(){return xt(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(a(t)&&(t=t.toNumber()),!s(t)||!Q(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],o=this._size[1],h=Math.min(i-r,o-e),l=[],c=[],u=[];u[0]=0;for(var f=e;f<o&&l.length<h;f++)for(var d=this._ptr[f],p=this._ptr[f+1],g=d;g<p;g++){var m=this._index[g];if(m===f-e+r){l.push(this._values[g]),c[l.length-1]=m-r;break}}return u.push(l.length),new n({values:l,index:c,ptr:u,size:[h,1]})},n.fromJSON=function(t){return new n(t)},n.diagonal=function(t,i,o,h,l){if(!u(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(a(t)&&(t=t.toNumber()),!s(t)||!Q(t)||t<1)throw new Error("Size values must be positive integers");return t})),o){if(a(o)&&(o=o.toNumber()),!s(o)||!Q(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var d=r,p=0;c(l)&&(d=e.find(r,[l,l])||r,p=e.convert(0,l));var g,m=o>0?o:0,_=o<0?-o:0,v=t[0],y=t[1],x=Math.min(v-_,y-m);if(u(i)){if(i.length!==x)throw new Error("Invalid value array length");g=function(t){return i[t]}}else if(f(i)){var w=i.size();if(1!==w.length||w[0]!==x)throw new Error("Invalid matrix length");g=function(t){return i.get([t])}}else g=function(){return i};for(var b=[],M=[],E=[],N=0;N<y;N++){E.push(b.length);var S=N-m;if(S>=0&&S<x){var A=g(S);d(A,p)||(M.push(S+_),b.push(A))}}return E.push(b.length),new n({values:b,index:M,ptr:E,size:[v,y]})},n.prototype.swapRows=function(t,e){if(!(s(t)&&Q(t)&&s(e)&&Q(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Nt(t,this._size[0]),Nt(e,this._size[0]),n._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(t,e,r,i,n){for(var s=i[t],a=i[t+1],o=s;o<a;o++)n(r[o],e[o])},n._swapRows=function(t,e,r,i,n,s){for(var a=0;a<r;a++){var o=s[a],h=s[a+1],l=p(t,o,h,n),c=p(e,o,h,n);if(l<h&&c<h&&n[l]===t&&n[c]===e){if(i){var u=i[l];i[l]=i[c],i[c]=u}}else if(l<h&&n[l]===t&&(c>=h||n[c]!==e)){var f=i?i[l]:void 0;n.splice(c,0,e),i&&i.splice(c,0,f),n.splice(c<=l?l+1:l,1),i&&i.splice(c<=l?l+1:l,1)}else if(c<h&&n[c]===e&&(l>=h||n[l]!==t)){var d=i?i[c]:void 0;n.splice(l,0,t),i&&i.splice(l,0,d),n.splice(l<=c?c+1:c,1),i&&i.splice(l<=c?c+1:c,1)}}},n}),{isClass:!0}),fr=Ft("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,r=(t.Matrix,t.DenseMatrix),i=t.SparseMatrix;return e("matrix",{"":function(){return n([])},string:function(t){return n([],t)},"string, string":function(t,e){return n([],t,e)},Array:function(t){return n(t)},Matrix:function(t){return n(t,t.storage())},"Array | Matrix, string":n,"Array | Matrix, string, string":n});function n(t,e,n){if("dense"===e||"default"===e||void 0===e)return new r(t,n);if("sparse"===e)return new i(t,n);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),dr=Ft("algorithm13",["typed"],(function(t){var e=t.typed;return function(t,r,i){var n,s=t._data,a=t._size,o=t._datatype,h=r._data,l=r._size,c=r._datatype,u=[];if(a.length!==l.length)throw new wt(a.length,l.length);for(var f=0;f<a.length;f++){if(a[f]!==l[f])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");u[f]=a[f]}var d=i;"string"==typeof o&&o===c&&(n=o,d=e.find(i,[n,n]));var p=u.length>0?function t(e,r,i,n,s,a){var o=[];if(r===i.length-1)for(var h=0;h<n;h++)o[h]=e(s[h],a[h]);else for(var l=0;l<n;l++)o[l]=t(e,r+1,i,i[r+1],s[l],a[l]);return o}(d,0,u,u[0],s,h):[];return t.createDenseMatrix({data:p,size:u,datatype:n})}})),pr=Ft("algorithm14",["typed"],(function(t){var e=t.typed;return function(t,r,i,n){var s,a=t._data,o=t._size,h=t._datatype,l=i;"string"==typeof h&&(s=h,r=e.convert(r,s),l=e.find(i,[s,s]));var c=o.length>0?function t(e,r,i,n,s,a,o){var h=[];if(r===i.length-1)for(var l=0;l<n;l++)h[l]=o?e(a,s[l]):e(s[l],a);else for(var c=0;c<n;c++)h[c]=t(e,r+1,i,i[r+1],s[c],a,o);return h}(l,0,o,o[0],a,r,n):[];return t.createDenseMatrix({data:c,size:H(o),datatype:s})}})),gr=Ft("algorithm03",["typed"],(function(t){var e=t.typed;return function(t,r,i,n){var s=t._data,a=t._size,o=t._datatype,h=r._values,l=r._index,c=r._ptr,u=r._size,f=r._datatype;if(a.length!==u.length)throw new wt(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,p=a[0],g=a[1],m=0,_=i;"string"==typeof o&&o===f&&(d=o,m=e.convert(0,d),_=e.find(i,[d,d]));for(var v=[],y=0;y<p;y++)v[y]=[];for(var x=[],w=[],b=0;b<g;b++){for(var M=b+1,E=c[b],N=c[b+1],S=E;S<N;S++){var A=l[S];x[A]=n?_(h[S],s[A][b]):_(s[A][b],h[S]),w[A]=M}for(var k=0;k<p;k++)w[k]===M?v[k][b]=x[k]:v[k][b]=n?_(m,s[k][b]):_(s[k][b],m)}return t.createDenseMatrix({data:v,size:[p,g],datatype:d})}})),mr=Ft("algorithm12",["typed","DenseMatrix"],(function(t){var e=t.typed,r=t.DenseMatrix;return function(t,i,n,s){var a=t._values,o=t._index,h=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var u,f=l[0],d=l[1],p=n;"string"==typeof c&&(u=c,i=e.convert(i,u),p=e.find(n,[u,u]));for(var g=[],m=[],_=[],v=0;v<d;v++){for(var y=v+1,x=h[v],w=h[v+1],b=x;b<w;b++){var M=o[b];m[M]=a[b],_[M]=y}for(var E=0;E<f;E++)0===v&&(g[E]=[]),_[E]===y?g[E][v]=s?p(i,m[E]):p(m[E],i):g[E][v]=s?p(i,0):p(0,i)}return new r({data:g,size:[f,d],datatype:u})}})),_r=Ft("algorithm07",["typed","DenseMatrix"],(function(t){var e=t.typed,r=t.DenseMatrix;return function(t,n,s){var a=t._size,o=t._datatype,h=n._size,l=n._datatype;if(a.length!==h.length)throw new wt(a.length,h.length);if(a[0]!==h[0]||a[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");var c,u,f,d=a[0],p=a[1],g=0,m=s;"string"==typeof o&&o===l&&(c=o,g=e.convert(0,c),m=e.find(s,[c,c]));var _=[];for(u=0;u<d;u++)_[u]=[];var v=[],y=[],x=[],w=[];for(f=0;f<p;f++){var b=f+1;for(i(t,f,x,v,b),i(n,f,w,y,b),u=0;u<d;u++){var M=x[u]===b?v[u]:g,E=w[u]===b?y[u]:g;_[u][f]=m(M,E)}}return new r({data:_,size:[d,p],datatype:c})};function i(t,e,r,i,n){for(var s=t._values,a=t._index,o=t._ptr,h=o[e],l=o[e+1];h<l;h++){var c=a[h];r[c]=n,i[c]=s[h]}}}));var vr=Ft("zeros",["typed","config","matrix","BigNumber"],(function(t){var e=t.typed,r=t.config,i=t.matrix,n=t.BigNumber;return e("zeros",{"":function(){return"Array"===r.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return s(t,e)}return"Array"===r.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){var r=function(t){var e=!1;return t.forEach((function(t,r,i){a(t)&&(e=!0,i[r]=t.toNumber())})),e}(t)?new n(0):0;if(function(t){t.forEach((function(t){if("number"!=typeof t||!Q(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}))}(t),e){var s=i(e);return t.length>0?s.resize(t,r):s}var o=[];return t.length>0?St(o,t,r):o}}));var yr=Ft("smaller",["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,r=t.config,i=t.matrix,n=t.DenseMatrix,s=gr({typed:e}),a=_r({typed:e,DenseMatrix:n}),o=mr({typed:e,DenseMatrix:n}),h=dr({typed:e}),l=pr({typed:e}),c=e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!ft(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!le(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return c(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,c)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,c,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,c,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,c)},"Array, Array":function(t,e){return c(i(t),i(e)).valueOf()},"Array, Matrix":function(t,e){return c(i(t),e)},"Matrix, Array":function(t,e){return c(t,i(e))},"SparseMatrix, any":function(t,e){return o(t,e,c,!1)},"DenseMatrix, any":function(t,e){return l(t,e,c,!1)},"any, SparseMatrix":function(t,e){return o(e,t,c,!0)},"any, DenseMatrix":function(t,e){return l(e,t,c,!0)},"Array, any":function(t,e){return l(i(t),e,c,!1).valueOf()},"any, Array":function(t,e){return l(i(e),t,c,!0).valueOf()}});return c})),xr=(Ft("unequal",["typed","equalScalar"],(function(t){var e=t.typed,r=t.equalScalar;return e("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:!r(t,e)}})})),Ft("ImmutableDenseMatrix",["smaller","DenseMatrix"],(function(t){var e=t.smaller,r=t.DenseMatrix;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!c(e))throw new Error("Invalid datatype: "+e);if(f(t)||u(t)){var n=new r(t,e);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(t&&u(t.data)&&u(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=void 0!==t.min?t.min:null,this._max=void 0!==t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+q(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}return i.prototype=new r,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(t){switch(arguments.length){case 1:var e=r.prototype.subset.call(this,t);return f(e)?new i({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:H(this._data),size:H(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(t){return new i(t)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(null===this._min){var t=null;this.forEach((function(r){(null===t||e(r,t))&&(t=r)})),this._min=null!==t?t:void 0}return this._min},i.prototype.max=function(){if(null===this._max){var t=null;this.forEach((function(r){(null===t||e(t,r))&&(t=r)})),this._max=null!==t?t:void 0}return this._max},i}),{isClass:!0}));function wr(t,e,r,i){if(!(this instanceof wr))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}wr.prototype=new Error,wr.prototype.constructor=Error,wr.prototype.name="ArgumentsError",wr.prototype.isArgumentsError=!0;r(134);var br=Ft("Index",["ImmutableDenseMatrix"],(function(t){var e=t.ImmutableDenseMatrix;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var e=0,n=arguments.length;e<n;e++){var s=arguments[e];if(m(s))this._dimensions.push(s),this._isScalar=!1;else if(Array.isArray(s)||f(s)){var a=i(s.valueOf());this._dimensions.push(a);var o=a.size();1===o.length&&1===o[0]||(this._isScalar=!1)}else if("number"==typeof s)this._dimensions.push(i([s]));else{if("string"!=typeof s)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(s)}}}function i(t){for(var r=0,i=t.length;r<i;r++)if("number"!=typeof t[r]||!Q(t[r]))throw new TypeError("Index parameters must be positive integer numbers");return new e(t)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var t=new r;return t._dimensions=H(this._dimensions),t._isScalar=this._isScalar,t},r.create=function(t){var e=new r;return r.apply(e,t),e},r.prototype.size=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var i=this._dimensions[e];t[e]="string"==typeof i?1:i.size()[0]}return t},r.prototype.max=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var i=this._dimensions[e];t[e]="string"==typeof i?i:i.max()}return t},r.prototype.min=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var i=this._dimensions[e];t[e]="string"==typeof i?i:i.min()}return t},r.prototype.forEach=function(t){for(var e=0,r=this._dimensions.length;e<r;e++)t(this._dimensions[e],e,this)},r.prototype.dimension=function(t){return this._dimensions[t]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var i=this._dimensions[e];t.push("string"==typeof i?i:i.toArray())}return t},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var i=this._dimensions[e];"string"==typeof i?t.push(JSON.stringify(i)):t.push(i.toString())}return"["+t.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(t){return r.create(t.dimensions)},r}),{isClass:!0}),Mr=Ft("index",["typed","Index"],(function(t){var e=t.typed,r=t.Index;return e("index",{"...number | string | BigNumber | Range | Array | Matrix":function(t){var e=t.map((function(t){return a(t)?t.toNumber():Array.isArray(t)||f(t)?t.map((function(t){return a(t)?t.toNumber():t})):t})),i=new r;return r.apply(i,e),i}})}));function Er(t){var e;if(Q(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:hr(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Er(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,i=r*t,n=i*t,s=n*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*i)-571/(2488320*n)+163879/(209018880*s)+5246819/(75246796800*s*t))}--t,e=Sr[0];for(var a=1;a<Sr.length;++a)e+=Sr[a]/(t+a);var o=t+Nr+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,t+.5)*Math.exp(-o)*e}Er.signature="number";var Nr=4.7421875,Sr=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];Ft("equal",["typed","equalScalar"],(function(t){var e=t.typed,r=t.equalScalar;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)}})}));var Ar=Ut({}),kr=qt({config:K}),Cr=Gt({}),Or=Jt({}),Fr=Xt({Matrix:Cr}),Rr=Qt({BigNumber:kr,Complex:Ar,DenseMatrix:Fr,Fraction:Or}),Pr=ce({config:K,typed:Rr}),Tr=cr({Complex:Ar,config:K,typed:Rr}),Ir=ur({Matrix:Cr,equalScalar:Pr,typed:Rr}),Ur=fr({DenseMatrix:Fr,Matrix:Cr,SparseMatrix:Ir,typed:Rr}),jr=vr({BigNumber:kr,config:K,matrix:Ur,typed:Rr}),zr=yr({DenseMatrix:Fr,config:K,matrix:Ur,typed:Rr}),Lr=xr({DenseMatrix:Fr,smaller:zr}),Br=br({ImmutableDenseMatrix:Lr}),Dr=Mr({Index:Br,typed:Rr})},197:function(t,e,r){"use strict";r.r(e);r(147);var i=r(185);function n(t,e){let r=t.length;const n=Array(r).fill(0).map(t=>Array(r).fill(1/0)),s=Array(r).fill(0).map(t=>Array(r).fill(0));for(let t=0;t<r-1;t++)n[t][t+1]=0;for(let t=2;t<r;t++)for(let i=0;i<r-t;i++){const r=i+t;if(n[i][r]=1/0,h(i,r))for(let t=i+1;t<r;t++){const a=n[i][t]+n[t][r]+o(i,r,t);a<n[i][r]&&(!e||n[i][r]==1/0||Math.random()<.5)&&(n[i][r]=a,s[i][r]=t)}}let a=[];return function e(r,i){if(r>=i-1)return;a.push([t[r][0],t[r][1],t[i][0],t[i][1]]);const n=s[r][i];a.push([t[r][0],t[r][1],t[n][0],t[n][1]]),a.push([t[i][0],t[i][1],t[n][0],t[n][1]]),e(r,n),e(n,i)}(0,r-1),{edges:a,weight:n[0][r-1]};function o(e,r,n){const s=t[e][0],a=t[e][1],o=t[r][0],h=t[r][1],l=t[n][0],c=t[n][1];return u(s-o,a-h)+u(s-l,a-c)+u(l-o,c-h);function u(t,e){return Object(i.c)(t*t+e*e)}}function h(e,i){if(0==e&&i==r-1)return!0;for(let s=0;s<r;s++){const a=(s+1)%r;if(s!=e&&s!=i&&a!=e&&a!=i&&n(t[e][0],t[e][1],t[i][0],t[i][1],t[s][0],t[s][1],t[a][0],t[a][1]))return!1}return!!function(e,i){let n=!1;for(let s=0;s<r;s++){const a=(s+1)%r;let o,h,l,c;t[s][0]<t[a][0]?(o=t[s][0],h=t[s][1],l=t[a][0],c=t[a][1]):(o=t[a][0],h=t[a][1],l=t[s][0],c=t[s][1]),e>o==e<=l&&(o-e)*(c-i)<=(h-i)*(l-e)&&(n=!n)}return n}((t[e][0]+t[i][0])/2,(t[e][1]+t[i][1])/2);function n(t,e,r,i,n,s,a,o){return h(t,e,r,i,n,s)!=h(t,e,r,i,a,o)&&h(n,s,a,o,t,e)!=h(n,s,a,o,r,i);function h(t,e,r,i,n,s){return Math.sign((i-e)*(n-r)-(r-t)*(s-i))}}}}const s=new Two({fullscreen:!1,width:800,height:400});s.appendTo(document.getElementById("div-main"));let a="show",o=[[50,200],[120,220],[400,100],[600,90],[700,110],[700,200],[400,210],[150,300],[20,300]];const h={points:[],lines:[]};for(let t=0;t<o.length;t++){const e=s.makeCircle(o[t][0],o[t][1],3);e.fill="#000",h.points.push(e)}function l(t){s.remove(h.lines),h.lines=[];for(let e of t.edges){const t=s.makeLine(e[0],e[1],e[2],e[3]);t.stroke="#ff8000",h.lines.push(t)}document.getElementById("label-weight").innerText="-> Weight = "+t.weight}l(n(o,!1)),document.getElementById("div-main").onpointerup=t=>{if("edit"!=a)return;o.push([t.offsetX,t.offsetY]);const e=s.makeCircle(t.offsetX,t.offsetY,3);e.fill="#000",h.points.push(e)},document.getElementById("btn-new-shape").onclick=()=>{a="edit",o=[],h.points=[],h.lines=[],s.clear(),document.getElementById("label-weight").innerText=" "},document.getElementById("btn-mwt").onclick=()=>{a="show",l(n(o,!1))},document.getElementById("btn-random").onclick=()=>{a="show",l(n(o,!0))},s.play()},4:function(t,e,r){var i;
/**
 * @license Complex.js v2.0.11 11/02/2016
 *
 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(r){"use strict";var n=function(t){return.5*(Math.exp(t)+Math.exp(-t))},s=function(t){return.5*(Math.exp(t)-Math.exp(-t))},a=function(){throw SyntaxError("Invalid Param")};function o(t,e){var r=Math.abs(t),i=Math.abs(e);return 0===t?Math.log(i):0===e?Math.log(r):r<3e3&&i<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function h(t,e){if(!(this instanceof h))return new h(t,e);var r=function(t,e){var r={re:0,im:0};if(null==t)r.re=r.im=0;else if(void 0!==e)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return h.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return h.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else 2===t.length?(r.re=t[0],r.im=t[1]):a();break;case"string":r.im=r.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),n=1,s=0;null===i&&a();for(var o=0;o<i.length;o++){var l=i[o];" "===l||"\t"===l||"\n"===l||("+"===l?n++:"-"===l?s++:"i"===l||"I"===l?(n+s===0&&a()," "===i[o+1]||isNaN(i[o+1])?r.im+=parseFloat((s%2?"-":"")+"1"):(r.im+=parseFloat((s%2?"-":"")+i[o+1]),o++),n=s=0):((n+s===0||isNaN(l))&&a(),"i"===i[o+1]||"I"===i[o+1]?(r.im+=parseFloat((s%2?"-":"")+l),o++):r.re+=parseFloat((s%2?"-":"")+l),n=s=0))}n+s>0&&a();break;case"number":r.im=0,r.re=t;break;default:a()}return isNaN(r.re)||isNaN(r.im),r}(t,e);this.re=r.re,this.im=r.im}h.prototype={re:0,im:0,sign:function(){var t=this.abs();return new h(this.re/t,this.im/t)},add:function(t,e){var r=new h(t,e);return this.isInfinite()&&r.isInfinite()?h.NAN:this.isInfinite()||r.isInfinite()?h.INFINITY:new h(this.re+r.re,this.im+r.im)},sub:function(t,e){var r=new h(t,e);return this.isInfinite()&&r.isInfinite()?h.NAN:this.isInfinite()||r.isInfinite()?h.INFINITY:new h(this.re-r.re,this.im-r.im)},mul:function(t,e){var r=new h(t,e);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?h.NAN:this.isInfinite()||r.isInfinite()?h.INFINITY:0===r.im&&0===this.im?new h(this.re*r.re,0):new h(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){var r=new h(t,e);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return h.NAN;if(this.isInfinite()||r.isZero())return h.INFINITY;if(this.isZero()||r.isInfinite())return h.ZERO;t=this.re,e=this.im;var i,n,s=r.re,a=r.im;return 0===a?new h(t/s,e/s):Math.abs(s)<Math.abs(a)?new h((t*(n=s/a)+e)/(i=s*n+a),(e*n-t)/i):new h((t+e*(n=a/s))/(i=a*n+s),(e-t*n)/i)},pow:function(t,e){var r=new h(t,e);if(t=this.re,e=this.im,r.isZero())return h.ONE;if(0===r.im){if(0===e&&t>=0)return new h(Math.pow(t,r.re),0);if(0===t)switch((r.re%4+4)%4){case 0:return new h(Math.pow(e,r.re),0);case 1:return new h(0,Math.pow(e,r.re));case 2:return new h(-Math.pow(e,r.re),0);case 3:return new h(0,-Math.pow(e,r.re))}}if(0===t&&0===e&&r.re>0&&r.im>=0)return h.ZERO;var i=Math.atan2(e,t),n=o(t,e);return t=Math.exp(r.re*n-r.im*i),e=r.im*n+r.re*i,new h(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,r=this.re,i=this.im,n=this.abs();if(r>=0){if(0===i)return new h(Math.sqrt(r),0);t=.5*Math.sqrt(2*(n+r))}else t=Math.abs(i)/Math.sqrt(2*(n-r));return e=r<=0?.5*Math.sqrt(2*(n-r)):Math.abs(i)/Math.sqrt(2*(n+r)),new h(t,i<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new h(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new h(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var r=t*t;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new h(o(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,r=Math.abs(t),i=Math.abs(e),r<3e3&&i<3e3?Math.sqrt(r*r+i*i):(r<i?(r=i,i=t/e):i=e/t,r*Math.sqrt(1+i*i));var t,e,r,i},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new h(Math.sin(t)*n(e),Math.cos(t)*s(e))},cos:function(){var t=this.re,e=this.im;return new h(Math.cos(t)*n(e),-Math.sin(t)*s(e))},tan:function(){var t=2*this.re,e=2*this.im,r=Math.cos(t)+n(e);return new h(Math.sin(t)/r,s(e)/r)},cot:function(){var t=2*this.re,e=2*this.im,r=Math.cos(t)-n(e);return new h(-Math.sin(t)/r,s(e)/r)},sec:function(){var t=this.re,e=this.im,r=.5*n(2*e)+.5*Math.cos(2*t);return new h(Math.cos(t)*n(e)/r,Math.sin(t)*s(e)/r)},csc:function(){var t=this.re,e=this.im,r=.5*n(2*e)-.5*Math.cos(2*t);return new h(Math.sin(t)*n(e)/r,-Math.cos(t)*s(e)/r)},asin:function(){var t=this.re,e=this.im,r=new h(e*e-t*t+1,-2*t*e).sqrt(),i=new h(r.re-e,r.im+t).log();return new h(i.im,-i.re)},acos:function(){var t=this.re,e=this.im,r=new h(e*e-t*t+1,-2*t*e).sqrt(),i=new h(r.re-e,r.im+t).log();return new h(Math.PI/2-i.im,i.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new h(0,1/0);if(-1===e)return new h(0,-1/0)}var r=t*t+(1-e)*(1-e),i=new h((1-e*e-t*t)/r,-2*t/r).log();return new h(-.5*i.im,.5*i.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new h(Math.atan2(1,t),0);var r=t*t+e*e;return 0!==r?new h(t/r,-e/r).atan():new h(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new h(0,1/0);var r=t*t+e*e;return 0!==r?new h(t/r,-e/r).acos():new h(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new h(Math.PI/2,1/0);var r=t*t+e*e;return 0!==r?new h(t/r,-e/r).asin():new h(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new h(s(t)*Math.cos(e),n(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new h(n(t)*Math.cos(e),s(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,r=n(t)+Math.cos(e);return new h(s(t)/r,Math.sin(e)/r)},coth:function(){var t=2*this.re,e=2*this.im,r=n(t)-Math.cos(e);return new h(s(t)/r,-Math.sin(e)/r)},csch:function(){var t=this.re,e=this.im,r=Math.cos(2*e)-n(2*t);return new h(-2*s(t)*Math.cos(e)/r,2*n(t)*Math.sin(e)/r)},sech:function(){var t=this.re,e=this.im,r=Math.cos(2*e)+n(2*t);return new h(2*n(t)*Math.cos(e)/r,-2*s(t)*Math.sin(e)/r)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){var t=this.re,e=this.im,r=t>1&&0===e,i=1-t,n=1+t,s=i*i+e*e,a=0!==s?new h((n*i-e*e)/s,(e*i+n*e)/s):new h(-1!==t?t/0:0,0!==e?e/0:0),l=a.re;return a.re=o(a.re,a.im)/2,a.im=Math.atan2(a.im,l)/2,r&&(a.im=-a.im),a},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new h(0,Math.PI/2);var r=t*t+e*e;return 0!==r?new h(t/r,-e/r).atanh():new h(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new h(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var r=t*t+e*e;return 0!==r?new h(t/r,-e/r).asinh():new h(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return h.INFINITY;var r=t*t+e*e;return 0!==r?new h(t/r,-e/r).acosh():new h(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return h.INFINITY;if(this.isInfinite())return h.ZERO;var t=this.re,e=this.im,r=t*t+e*e;return new h(t/r,-e/r)},conjugate:function(){return new h(this.re,-this.im)},neg:function(){return new h(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new h(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new h(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new h(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var r=new h(t,e);return Math.abs(r.re-this.re)<=h.EPSILON&&Math.abs(r.im-this.im)<=h.EPSILON},clone:function(){return new h(this.re,this.im)},toString:function(){var t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==t&&(r+=t),0!==e&&(0!==t?r+=e<0?" - ":" + ":e<0&&(r+="-"),1!==(e=Math.abs(e))&&(r+=e),r+="i"),r||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},h.ZERO=new h(0,0),h.ONE=new h(1,0),h.I=new h(0,1),h.PI=new h(Math.PI,0),h.E=new h(Math.E,0),h.INFINITY=new h(1/0,1/0),h.NAN=new h(NaN,NaN),h.EPSILON=1e-16,void 0===(i=function(){return h}.apply(e,[]))||(t.exports=i)}()}});